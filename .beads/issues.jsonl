{"id":"crystalmath-00w","title":"Document gum install behavior and fallback","description":"Document gum install behavior and fallback","status":"closed","priority":4,"issue_type":"task","estimated_minutes":45,"created_at":"2025-12-27T00:14:57.337582-06:00","updated_at":"2026-02-10T01:03:15.663739-06:00","closed_at":"2025-12-27T12:23:25.621498-06:00","dependencies":[{"issue_id":"crystalmath-00w","depends_on_id":"crystalmath-ohv","type":"parent-child","created_at":"2025-12-27T00:15:15.096932-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-00w","depends_on_id":"crystalmath-zt5","type":"blocks","created_at":"2025-12-27T01:29:51.83692-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-02y","title":"Queue manager N+1 query problem","description":"Queue manager N+1 query problem","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T12:14:20.593681-06:00","updated_at":"2026-02-10T01:03:15.918407-06:00","closed_at":"2025-11-22T23:47:15.89911-06:00","labels":["database","performance","phase-2","queue"],"comments":[{"id":4,"issue_id":"crystalmath-02y","author":"briansquires","text":"Agent 9 implementation: NEEDS_WORK (60% confidence)\n\n✅ COMPLETED:\n- get_job_statuses_batch() method implemented in database.py\n- Status caching infrastructure added to queue_manager.py\n- 13 performance tests showing 8.9-10.6× speedup\n- Batch queries working for main job status checks\n\n❌ REMAINING ISSUE: Dependency checks still use INDIVIDUAL queries (lines 611-620)\n\nPROBLEM: N+1 behavior reintroduced in dependency checking loop:\nfor dep_id in job.dependencies:\n    dep_status = await self.db.get_job_status(dep_id)  # Individual query!\n\nREQUIRED FIX:\ndep_statuses = await self.db.get_job_statuses_batch(job.dependencies)\nall_deps_met = all(status == 'completed' for status in dep_statuses.values())\n\nIMPACT: Performance degradation under load with complex dependency graphs\n\nFiles: tui/src/core/database.py, tui/src/core/queue_manager.py\nCodex review: See CODE_QUALITY_REVIEW.md - Agent 9 section\n","created_at":"2025-11-21T19:04:03Z"}]}
{"id":"crystalmath-03z","title":"[ct3.3] Implement VASP Job Submission Workflow","description":"[ct3.3] Implement VASP Job Submission Workflow","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-25T03:03:08.095069-06:00","updated_at":"2026-02-10T01:03:16.144527-06:00","closed_at":"2025-12-28T11:15:58.675993-06:00","comments":[{"id":29,"issue_id":"crystalmath-03z","author":"briansquires","text":"✅ **COMPLETE**: VASP job submission workflow\n\n**Deliverables**:\n- Integrated VASP input manager into new job screen\n- Added on_vasp_files_ready handler in main app\n- Enhanced SSHRunner with POTCAR retrieval capability\n- Complete end-to-end VASP job creation workflow\n\n**Workflow**:\n1. User selects VASP in new_job screen\n2. Clicks 'Create Job' → Opens VASPInputManagerScreen\n3. User fills POSCAR, INCAR, KPOINTS, selects POTCAR element\n4. Clicks 'Create Job' → VASPFilesReady message posted\n5. App handler creates work directory, writes files, stores metadata\n6. Job added to database with dft_code='vasp'\n7. On submission: SSHRunner retrieves POTCAR from cluster's VASP_PP_PATH\n\n**POTCAR Retrieval**:\n- Reads vasp_metadata.json for element\n- Tries multiple common POTCAR library paths:\n  - $VASP_PP_PATH/potpaw_PBE/\u003celement\u003e/POTCAR\n  - $VASP_PP_PATH/\u003celement\u003e/POTCAR\n  - $VASP_PP_PATH/PAW_PBE/\u003celement\u003e/POTCAR\n- Copies POTCAR to remote work directory\n- Comprehensive error handling and logging\n\n**Files Created**:\nNone (enhancements only)\n\n**Files Modified**:\n- tui/src/tui/screens/new_job.py (_open_vasp_input_manager)\n- tui/src/tui/app.py (on_vasp_files_ready handler, imports)\n- tui/src/runners/ssh_runner.py (_retrieve_vasp_potcar method)\n\n**Status**: ✅ Production ready","created_at":"2025-12-25T09:25:17Z"}]}
{"id":"crystalmath-07t","title":"Add App state transition unit tests","description":"Add App state transition unit tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T14:55:43.068777-06:00","updated_at":"2026-02-10T01:03:16.327616-06:00","closed_at":"2025-12-30T15:06:12.287891-06:00","labels":["app","rust","testing"]}
{"id":"crystalmath-0az","title":"Fix CLI failure flow to preserve outputs and error reporting","description":"Fix CLI failure flow to preserve outputs and error reporting","status":"closed","priority":1,"issue_type":"bug","estimated_minutes":180,"created_at":"2025-12-27T00:07:23.862299-06:00","updated_at":"2026-02-10T01:03:16.506151-06:00","closed_at":"2025-12-30T08:06:48.126196-06:00","dependencies":[{"issue_id":"crystalmath-0az","depends_on_id":"crystalmath-ewo","type":"parent-child","created_at":"2025-12-27T00:09:00.368726-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-0b47","title":"[ai4.3] Literature-Informed Parameters - paper recommendations","description":"Search literature for similar calculations. Extract computational parameters from papers. Suggest basis sets, functionals, k-points based on published work. Semantic Scholar API.","notes":"Speculative AI feature. Deferred indefinitely.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:16:44.604457-06:00","updated_at":"2026-02-08T14:13:21.355874-06:00","closed_at":"2026-02-08T14:13:21.355877-06:00","labels":["ai","literature","llm"],"dependencies":[{"issue_id":"crystalmath-0b47","depends_on_id":"crystalmath-jqun","type":"related","created_at":"2026-01-05T17:13:18.716263-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-0b7j","title":"[AI] Implement AIService Backend","description":"[AI] Implement AIService Backend","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T17:06:52.18417-06:00","updated_at":"2026-02-10T01:03:16.682889-06:00","closed_at":"2026-01-05T17:44:27.525228-06:00","dependencies":[{"issue_id":"crystalmath-0b7j","depends_on_id":"crystalmath-11q0","type":"blocks","created_at":"2026-01-05T17:06:52.185871-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-0b7j","depends_on_id":"crystalmath-3155","type":"blocks","created_at":"2026-01-05T17:10:08.963013-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-0gy","title":"SECURITY: Escape remote commands in SSH Runner","description":"SECURITY: Escape remote commands in SSH Runner","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-21T08:07:46.6857-06:00","updated_at":"2026-02-10T01:03:16.865597-06:00","closed_at":"2025-11-21T14:27:36.674705-06:00","labels":["critical","phase-2","remote-execution","security"],"comments":[{"id":1,"issue_id":"crystalmath-0gy","author":"briansquires","text":"Agent 3 implementation: NEEDS_WORK (48% confidence)\n\n✅ COMPLETED: Most command arguments now use shlex.quote(), PID validation added, 35 security tests passing\n\n❌ REMAINING ISSUE: SSH execution script generation (lines 592-629) still has UNQUOTED paths:\n- remote_work_dir\n- remote_crystal_root  \n- input_file\n\nCRITICAL: Command injection still possible via script generation. Tests don't cover this vulnerability.\n\nREQUIRED FIX: Add shlex.quote() to all variables in generated execution script.\n\nFile: tui/src/runners/ssh_runner.py\nCodex review: See CODE_QUALITY_REVIEW.md - Agent 3 section\n","created_at":"2025-11-21T19:03:10Z"}]}
{"id":"crystalmath-0ib","title":"LSP path unwrap() calls could panic on non-UTF8","description":"LSP path unwrap() calls could panic on non-UTF8","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T14:55:23.528502-06:00","updated_at":"2026-02-10T01:03:17.024802-06:00","closed_at":"2025-12-30T15:00:10.123312-06:00","labels":["lsp","rust","security"]}
{"id":"crystalmath-11q0","title":"[epic] AI Assistant Integration (Opencode)","description":"Integrate Opencode as an optional dependency to provide AI-assisted features in the TUI.\nScope includes:\n1. Python backend integration (optional `opencode` dependency).\n2. \"AI Assistant\" modal in Rust TUI (triggered by `?` or `a`).\n3. Job error analysis (diagnosing failed calculations).\n4. Input parameter suggestions and validation assistance.\n5. Autonomous agent capabilities for complex workflows (future).\n\nArchitecture:\n- `crystalmath.ai`: New Python module wrapping Opencode.\n- `crystalmath[llm]`: Optional install target.\n- Rust Bridge: New request types for `AskAssistant`, `AnalyzeJob`.\n","notes":"Speculative feature with no concrete plan or timeline. Opencode integration deferred indefinitely. Reopen if/when an AI backend is chosen.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-05T16:36:48.300921-06:00","updated_at":"2026-02-08T14:13:07.013448-06:00","closed_at":"2026-02-08T14:13:07.013451-06:00"}
{"id":"crystalmath-168","title":"Implement Auto-Generated Parameter Forms","description":"Implement Auto-Generated Parameter Forms","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-20T23:24:20.573275-06:00","updated_at":"2026-02-10T01:03:17.177331-06:00","closed_at":"2025-11-21T07:02:13.273837-06:00","labels":["phase-2","templates","ui"]}
{"id":"crystalmath-1cj","title":"Define MPI binary validation \u0026 fallback behavior","description":"Define MPI binary validation \u0026 fallback behavior","status":"closed","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2025-12-27T00:11:18.817808-06:00","updated_at":"2026-02-10T01:03:17.419738-06:00","closed_at":"2025-12-30T08:19:25.744863-06:00","dependencies":[{"issue_id":"crystalmath-1cj","depends_on_id":"crystalmath-3pb","type":"parent-child","created_at":"2025-12-27T00:11:28.064699-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-1f6","title":"[am3.2] Results Dashboard with Trends - historical analysis","description":"Historical view: Energy vs. lattice parameter across jobs → Equation of State fitting → Bulk modulus extraction → Export publication-ready plots. Plotly for interactive charts.","notes":"Consolidated into parent epic 5uy. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:16:04.854652-06:00","updated_at":"2026-02-08T14:13:18.838955-06:00","closed_at":"2026-02-08T14:13:18.838958-06:00","labels":["analytics","plotly","visualization"]}
{"id":"crystalmath-1om","title":"SSH runner status detection brittle","description":"SSH runner status detection brittle","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T08:08:20.939684-06:00","updated_at":"2026-02-10T01:03:17.636938-06:00","closed_at":"2025-11-23T14:39:01.925141-06:00","labels":["phase-2","reliability","remote-execution"]}
{"id":"crystalmath-22s","title":"Add shellcheck to CI","description":"Add shellcheck to CI","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-19T20:36:19.327616-06:00","updated_at":"2026-02-10T01:03:17.819495-06:00","closed_at":"2025-11-19T21:14:28.518209-06:00","dependencies":[{"issue_id":"crystalmath-22s","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.453955-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-263","title":"Remove module-level #[allow(dead_code)] from models.rs","description":"Remove module-level #[allow(dead_code)] from models.rs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T14:55:35.924414-06:00","updated_at":"2026-02-10T01:03:18.049072-06:00","closed_at":"2025-12-30T15:06:43.216859-06:00","labels":["maintenance","rust"]}
{"id":"crystalmath-28a","title":"Implement Template Browser UI","description":"Implement Template Browser UI","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-20T23:24:19.433113-06:00","updated_at":"2026-02-10T01:03:18.23146-06:00","closed_at":"2025-11-21T06:58:59.218752-06:00","labels":["phase-2","templates","ui"]}
{"id":"crystalmath-2fl","title":"Code Quality Epic: Multi-Model Review Findings","description":"Epic containing issues and optimizations identified from Gemini and GPT-5.2 code reviews on 2024-12-30. Covers Rust TUI, Python TUI, testing gaps, and documentation improvements.","notes":"Epic complete: 13/13 issues resolved. app.rs refactor extracted to crystalmath-5bi for independent tracking.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-30T09:48:47.919063-06:00","updated_at":"2025-12-30T13:17:14.296064-06:00","closed_at":"2025-12-30T13:17:14.296067-06:00"}
{"id":"crystalmath-2fl.1","title":"[CRITICAL] Fix blocking subprocess.run in async context","description":"[CRITICAL] Fix blocking subprocess.run in async context","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-30T09:49:09.746127-06:00","updated_at":"2026-02-10T01:03:18.48267-06:00","closed_at":"2025-12-30T09:55:06.614603-06:00","dependencies":[{"issue_id":"crystalmath-2fl.1","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:49:09.747238-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.10","title":"[TEST] Add LSP start() and Drop integration tests","description":"[TEST] Add LSP start() and Drop integration tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T09:50:41.722689-06:00","updated_at":"2026-02-10T01:03:18.667789-06:00","closed_at":"2025-12-30T13:00:44.194069-06:00","dependencies":[{"issue_id":"crystalmath-2fl.10","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:50:41.723359-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.11","title":"[TEST] Add backend JSON contract integration tests","description":"[TEST] Add backend JSON contract integration tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T09:50:48.097651-06:00","updated_at":"2026-02-10T01:03:18.860872-06:00","closed_at":"2025-12-30T12:56:14.339007-06:00","dependencies":[{"issue_id":"crystalmath-2fl.11","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:50:48.098858-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.12","title":"[DOCS] Improve models.rs API documentation","description":"[DOCS] Improve models.rs API documentation","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-30T09:50:54.593327-06:00","updated_at":"2026-02-10T01:03:19.043207-06:00","closed_at":"2025-12-30T12:56:20.909159-06:00","dependencies":[{"issue_id":"crystalmath-2fl.12","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:50:54.59407-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.13","title":"[REFACTOR] Eliminate duplicate LSP notification construction","description":"[REFACTOR] Eliminate duplicate LSP notification construction","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T09:51:10.650692-06:00","updated_at":"2026-02-10T01:03:19.251707-06:00","closed_at":"2025-12-30T10:04:07.707404-06:00","dependencies":[{"issue_id":"crystalmath-2fl.13","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:51:10.651428-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.2","title":"[HIGH] Fix blocking shutil.copy2 in async context","description":"[HIGH] Fix blocking shutil.copy2 in async context","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-30T09:49:16.669085-06:00","updated_at":"2026-02-10T01:03:19.463841-06:00","closed_at":"2025-12-30T09:55:13.214431-06:00","dependencies":[{"issue_id":"crystalmath-2fl.2","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:49:16.669923-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.3","title":"[HIGH] Refactor monolithic app.rs (~3000 lines)","description":"[HIGH] Refactor monolithic app.rs (~3000 lines)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T09:49:23.520008-06:00","updated_at":"2026-02-10T01:03:19.679219-06:00","closed_at":"2025-12-30T13:17:07.854568-06:00","dependencies":[{"issue_id":"crystalmath-2fl.3","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:49:23.520676-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-2fl.3","depends_on_id":"crystalmath-5bi","type":"related","created_at":"2025-12-30T13:18:57.226748-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.4","title":"[HIGH] Simplify fragile Python environment discovery","description":"[HIGH] Simplify fragile Python environment discovery","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T09:49:30.807078-06:00","updated_at":"2026-02-10T01:03:19.851399-06:00","closed_at":"2025-12-30T09:59:18.567423-06:00","dependencies":[{"issue_id":"crystalmath-2fl.4","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:49:30.80779-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.5","title":"[MEDIUM] Add max-retry logic to SLURM monitor","description":"[MEDIUM] Add max-retry logic to SLURM monitor","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-30T09:49:52.182368-06:00","updated_at":"2026-02-10T01:03:20.04946-06:00","closed_at":"2025-12-30T10:01:08.606077-06:00","dependencies":[{"issue_id":"crystalmath-2fl.5","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:49:52.183602-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.6","title":"[MEDIUM] Handle CancelledError in SLURM monitor","description":"[MEDIUM] Handle CancelledError in SLURM monitor","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-30T09:49:58.913484-06:00","updated_at":"2026-02-10T01:03:20.261394-06:00","closed_at":"2025-12-30T10:01:13.734001-06:00","dependencies":[{"issue_id":"crystalmath-2fl.6","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:49:58.914147-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.7","title":"[MEDIUM] Improve BridgeHandle Drop busy-wait","description":"[MEDIUM] Improve BridgeHandle Drop busy-wait","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T09:50:05.226073-06:00","updated_at":"2026-02-10T01:03:20.535845-06:00","closed_at":"2025-12-30T10:04:02.532115-06:00","dependencies":[{"issue_id":"crystalmath-2fl.7","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:50:05.226749-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.8","title":"[LOW] Make node binary path configurable","description":"[LOW] Make node binary path configurable","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-30T09:50:11.756025-06:00","updated_at":"2026-02-10T01:03:20.733198-06:00","closed_at":"2025-12-30T12:56:01.846473-06:00","dependencies":[{"issue_id":"crystalmath-2fl.8","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:50:11.756984-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-2fl.9","title":"[TEST] Add LSP reader_thread framing tests","description":"[TEST] Add LSP reader_thread framing tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T09:50:35.437689-06:00","updated_at":"2026-02-10T01:03:20.877569-06:00","closed_at":"2025-12-30T12:56:08.097324-06:00","dependencies":[{"issue_id":"crystalmath-2fl.9","depends_on_id":"crystalmath-2fl","type":"parent-child","created_at":"2025-12-30T09:50:35.438871-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y","title":"LSP Integration Epic - Multi-Code Language Server for TUI","description":"Epic: Integrate the vasp-language-server LSP into CrystalMath TUI, extending it to support CRYSTAL23 and Quantum Espresso alongside existing VASP support.\n\n## Overview\n\nThe vasp-language-server is a production-grade TypeScript LSP server with:\n- 47 TypeScript source files, 19 test suites\n- Complete LSP feature set (diagnostics, completion, hover, formatting, semantic tokens)\n- Robust VASP file support (INCAR, POSCAR, KPOINTS, POTCAR)\n- Scientific validation (LDA+U, HSE06, van der Waals)\n\nThis epic extends the LSP to support CRYSTAL23 (.d12) and Quantum Espresso formats, then integrates it into the Textual-based TUI.\n\n## Architecture\n\n### Server Extension (vasp-language-server → dft-language-server)\n- Add CRYSTAL23 parser (src/features/crystal/)\n- Add Quantum Espresso parser (src/features/qe/)\n- Reuse existing infrastructure (caching, validation, LSP handlers)\n\n### TUI Integration (crystalmath/tui)\n- Create LSPTextEditor widget wrapping Textual TextArea\n- Async LSP client using pygls/lsprotocol\n- Overlay diagnostics on TextArea\n- Autocomplete popup widget\n- Hover tooltip widget\n\n## Key Integration Points (from TUI codebase)\n\n| Component | File | Purpose |\n|-----------|------|---------|\n| Main TextArea | screens/new_job.py:226-231 | Primary input editor |\n| VASP Editors | screens/vasp_input_manager.py:238-260 | Multi-file VASP |\n| Input Preview | widgets/input_preview.py | Read-only display |\n| Validation | screens/new_job.py:606-674 | Current validators |\n| Templates | core/templates.py | Jinja2 system |\n\n## Benefits\n- Real-time validation during editing (vs. submit-time only)\n- Intelligent autocompletion for 100+ VASP tags, CRYSTAL keywords\n- Hover documentation from VASP Wiki, CRYSTAL manual\n- Typo detection with quick-fix suggestions\n- Cross-file validation (POTCAR vs POSCAR, basis sets)\n- Unified LSP for all supported DFT codes\n\n## Trade-offs\n- Requires Node.js runtime for LSP server\n- Async complexity for TUI ↔ LSP communication\n- Maintenance of three grammar systems (VASP, CRYSTAL, QE)","notes":"## Revised Architecture: Hybrid Input+Output (2025-12-27)\n\nBased on analysis of AiiDA parser capabilities, adopting **Hybrid Architecture**:\n\n### INPUT Validation (TypeScript LSP)\n- vasp-language-server → dft-language-server\n- Add CRYSTAL23 .d12 tokenizer/linter\n- Add QE namelist tokenizer/linter\n- Real-time diagnostics during editing\n\n### OUTPUT Parsing (Python/AiiDA)\n- Existing TUI parsers: src/core/codes/parsers/\n- AiiDA raw parsers: parsevasp, CRYSTALpytools\n- Parse results AFTER job completion\n\n### Key Insight\nAiiDA parsers are OUTPUT-focused (post-calculation).\nLSP needs INPUT parsing (during editing).\nSolution: TypeScript for INPUT, Python/AiiDA for OUTPUT.\n\n### Tag Dictionary Strategy\nExport validation rules from AiiDA/CRYSTALpytools to TypeScript JSON.\nScript: scripts/export_aiida_tags.py → src/data/*.json\n\n### Revised Phase Structure\n- Phase 1: LSP Foundation (refactor to dft-language-server)\n- Phase 2: CRYSTAL23 INPUT parsing (TypeScript)  \n- Phase 3: QE INPUT parsing (TypeScript)\n- Phase 4: Python LSP Client (asyncio subprocess)\n- Phase 5: TUI Widget Integration\n- Phase 6: AiiDA Tag Export (optional enhancement)","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-27T09:09:32.330825-06:00","updated_at":"2025-12-27T12:22:48.651538-06:00","closed_at":"2025-12-27T12:22:48.651538-06:00","labels":["architecture","integration","lsp","phase-5"]}
{"id":"crystalmath-30y.1","title":"[lsp.1] Phase 1: CRYSTAL23 Language Support","description":"[lsp.1] Phase 1: CRYSTAL23 Language Support","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:10:00.731854-06:00","updated_at":"2026-02-10T01:03:21.017141-06:00","closed_at":"2025-12-27T09:51:14.400614-06:00","labels":["crystal","lsp","parser","phase-1"],"dependencies":[{"issue_id":"crystalmath-30y.1","depends_on_id":"crystalmath-30y","type":"parent-child","created_at":"2025-12-27T09:10:00.732851-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y.1.1","title":"[lsp.1.1] CRYSTAL23 Tokenizer \u0026 Parser","description":"[lsp.1.1] CRYSTAL23 Tokenizer \u0026 Parser","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:11:54.223331-06:00","updated_at":"2026-02-10T01:03:21.191602-06:00","closed_at":"2025-12-27T09:51:31.51271-06:00","labels":["core","crystal","lsp","parser"],"dependencies":[{"issue_id":"crystalmath-30y.1.1","depends_on_id":"crystalmath-30y.1","type":"parent-child","created_at":"2025-12-27T09:11:54.224494-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y.1.2","title":"[lsp.1.2] CRYSTAL23 Tag Dictionary","description":"[lsp.1.2] CRYSTAL23 Tag Dictionary","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:12:17.619068-06:00","updated_at":"2026-02-10T01:03:21.37338-06:00","closed_at":"2025-12-27T09:51:36.794151-06:00","labels":["crystal","data","lsp"],"dependencies":[{"issue_id":"crystalmath-30y.1.2","depends_on_id":"crystalmath-30y.1","type":"parent-child","created_at":"2025-12-27T09:12:17.620601-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y.2","title":"[lsp.2] Phase 2: Quantum Espresso Language Support","description":"[lsp.2] Phase 2: Quantum Espresso Language Support","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:10:22.966868-06:00","updated_at":"2026-02-10T01:03:21.599631-06:00","closed_at":"2025-12-27T12:07:42.807691-06:00","labels":["lsp","parser","phase-2","qe"],"dependencies":[{"issue_id":"crystalmath-30y.2","depends_on_id":"crystalmath-30y","type":"parent-child","created_at":"2025-12-27T09:10:22.968775-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y.3","title":"[lsp.3] Phase 3: TUI LSP Client Infrastructure","description":"[lsp.3] Phase 3: TUI LSP Client Infrastructure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:10:44.323992-06:00","updated_at":"2026-02-10T01:03:21.807599-06:00","closed_at":"2025-12-27T12:07:42.809229-06:00","labels":["async","client","lsp","phase-3","tui"],"dependencies":[{"issue_id":"crystalmath-30y.3","depends_on_id":"crystalmath-30y","type":"parent-child","created_at":"2025-12-27T09:10:44.325355-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y.3.1","title":"[lsp.3.1] Async LSP Client Core","description":"[lsp.3.1] Async LSP Client Core","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:12:39.221911-06:00","updated_at":"2026-02-10T01:03:22.22675-06:00","closed_at":"2025-12-27T12:07:42.810534-06:00","labels":["async","client","core","lsp"],"dependencies":[{"issue_id":"crystalmath-30y.3.1","depends_on_id":"crystalmath-30y.3","type":"parent-child","created_at":"2025-12-27T09:12:39.223148-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y.4","title":"[lsp.4] Phase 4: TUI Widget Integration","description":"[lsp.4] Phase 4: TUI Widget Integration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:11:08.894726-06:00","updated_at":"2026-02-10T01:03:22.521329-06:00","closed_at":"2025-12-27T12:07:42.809721-06:00","labels":["lsp","phase-4","tui","ui","widgets"],"dependencies":[{"issue_id":"crystalmath-30y.4","depends_on_id":"crystalmath-30y","type":"parent-child","created_at":"2025-12-27T09:11:08.896195-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y.4.1","title":"[lsp.4.1] LSPTextEditor Widget","description":"[lsp.4.1] LSPTextEditor Widget","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:13:02.073488-06:00","updated_at":"2026-02-10T01:03:23.02694-06:00","closed_at":"2025-12-27T12:07:42.810934-06:00","labels":["core","lsp","textual","widget"],"dependencies":[{"issue_id":"crystalmath-30y.4.1","depends_on_id":"crystalmath-30y.4","type":"parent-child","created_at":"2025-12-27T09:13:02.07465-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-30y.5","title":"[lsp.5] Phase 5: Testing, Documentation \u0026 Polish","description":"[lsp.5] Phase 5: Testing, Documentation \u0026 Polish","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T09:11:30.925486-06:00","updated_at":"2026-02-10T01:03:23.303282-06:00","closed_at":"2025-12-27T12:07:42.810105-06:00","labels":["docs","lsp","phase-5","qa","testing"],"dependencies":[{"issue_id":"crystalmath-30y.5","depends_on_id":"crystalmath-30y","type":"parent-child","created_at":"2025-12-27T09:11:30.926919-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-3155","title":"[AI] Rust-Python Bridge Extensions","description":"Extend `src/bridge.rs` and `python/crystalmath/api.py`:\n- Add `ask_assistant(query: str, context_json: str) -\u003e str`\n- Add `analyze_job_error(pk: int) -\u003e str`\nEnsure these are async/non-blocking on the Rust side (using the existing threading model).","notes":"Parent AI epic closed. Deferred.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T17:06:52.343578-06:00","updated_at":"2026-02-08T14:13:08.995487-06:00","closed_at":"2026-02-08T14:13:08.995491-06:00","dependencies":[{"issue_id":"crystalmath-3155","depends_on_id":"crystalmath-11q0","type":"blocks","created_at":"2026-01-05T17:06:52.345164-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-3155","depends_on_id":"crystalmath-s0vw","type":"blocks","created_at":"2026-01-05T17:10:09.598972-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-3cv","title":"Implement lib/cry-parallel.sh","description":"Implement lib/cry-parallel.sh","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.813299-06:00","updated_at":"2026-02-10T01:03:23.978094-06:00","closed_at":"2025-11-19T20:57:48.155031-06:00","dependencies":[{"issue_id":"crystalmath-3cv","depends_on_id":"crystalmath-a2j","type":"blocks","created_at":"2025-11-19T20:36:49.807568-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-3cv","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:49.96926-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-3cv","depends_on_id":"crystalmath-rzw","type":"blocks","created_at":"2025-11-19T20:36:50.248531-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-3cv","depends_on_id":"crystalmath-7e1","type":"blocks","created_at":"2025-11-19T20:36:50.478024-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-3cv","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.084005-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-3i7d","title":"Phase 4: Documentation \u0026 Examples rewrite","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-08T14:58:39.668193-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T00:57:20.990762-06:00","closed_at":"2026-02-10T00:57:20.99077-06:00"}
{"id":"crystalmath-3pb","title":"Add parallel binary validation and fallback in CLI","description":"Add parallel binary validation and fallback in CLI","status":"closed","priority":2,"issue_type":"bug","estimated_minutes":180,"created_at":"2025-12-27T00:08:10.226892-06:00","updated_at":"2026-02-10T01:03:24.25931-06:00","closed_at":"2025-12-30T08:18:27.456031-06:00","dependencies":[{"issue_id":"crystalmath-3pb","depends_on_id":"crystalmath-ewo","type":"parent-child","created_at":"2025-12-27T00:09:11.406087-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-3q8","title":"Remove unused dependencies","description":"Remove unused dependencies","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T12:15:38.274806-06:00","updated_at":"2026-02-10T01:03:24.617624-06:00","closed_at":"2025-11-22T23:45:16.660169-06:00","labels":["dependencies","deployment","security"],"comments":[{"id":5,"issue_id":"crystalmath-3q8","author":"briansquires","text":"Agent 10 implementation: NEEDS_WORK (55% confidence)\n\n✅ COMPLETED:\n- Core dependencies reduced from 10 to 6 packages\n- Heavy packages (pymatgen, ase, toml) removed from core\n- CRYSTALpytools moved to optional [analysis] extras\n- Core install: ~46MB ✅\n\n❌ ISSUE: Size reduction claims MISLEADING\n\nREALITY CHECK:\n- Core only (no extras): ~46MB ✅ ACCURATE\n- With [analysis] extras: ~547MB ❌ SAME AS BEFORE\n\nPROBLEM: Heavy packages just moved to extras, not removed. Users who need CRYSTALpytools get no size benefit.\n\nRECOMMENDATION:\n1. Either remove heavy extras entirely (if not needed)\n2. OR clarify documentation: \"Core: 46MB, Full with analysis: 547MB\"\n\nCurrent claim of \"91% reduction\" is technically correct for core-only but misleading for typical users.\n\nFile: tui/pyproject.toml\nImpact: Documentation accuracy, user expectations\nCodex review: See CODE_QUALITY_REVIEW.md - Agent 10 section\n","created_at":"2025-11-21T19:04:23Z"},{"id":6,"issue_id":"crystalmath-3q8","author":"briansquires","text":"✅ VERIFIED COMPLETE\n\nAll unused dependencies already removed/reorganized:\n- pymatgen, ase, CRYSTALpytools → moved to optional [analysis] extras\n- toml → completely removed (no imports found in src/)\n\n**Current state:**\n- Core dependencies: 6 packages (~46MB) - ALL actively used\n- Optional [analysis]: 3 packages (~500MB) - for future features\n\n**Verification:**\n```bash\n# All 6 core deps confirmed in use:\n✅ textual - 50+ imports in tui/\n✅ rich - 15+ imports in widgets/\n✅ jinja2 - 2 files (templates.py, orchestrator.py)\n✅ pyyaml - 1 file (templates.py)\n✅ asyncssh - 2 files (connection_manager.py, ssh_runner.py)\n✅ keyring - 1 file (connection_manager.py)\n\n# No unused deps found:\n✅ pymatgen - 0 imports\n✅ ase - 0 imports\n✅ CRYSTALpytools - 0 imports (except fallback handler)\n✅ toml - 0 imports\n```\n\n**Documentation:** docs/DEPENDENCY_CLEANUP_COMPLETED.md\n\nIssue can be closed - 91% size reduction achieved for default installs.","created_at":"2025-11-23T05:45:10Z"}]}
{"id":"crystalmath-3sqh","title":"[epic] Analytics \u0026 Monitoring","description":"Real-time job monitoring and historical trend analysis. Key feature: Live SCF convergence plots using Ratatui widgets. Backend: AiiDA QueryBuilder.","notes":"Duplicate of crystalmath-5uy","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-30T21:19:34.722522Z","updated_at":"2025-12-30T23:01:33.442465-06:00","closed_at":"2025-12-30T23:01:33.442473-06:00"}
{"id":"crystalmath-3tc","title":"Rust TUI Validation Findings - Codex/Gemini Review","description":"Rust TUI Validation Findings - Codex/Gemini Review","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-27T12:11:56.299304-06:00","updated_at":"2026-02-10T01:03:24.913866-06:00","closed_at":"2025-12-27T12:25:33.623084-06:00","labels":["review","rust","validation"]}
{"id":"crystalmath-4lh","title":"[se2.3] Structure Comparison \u0026 Matching - Materials Project lookup","description":"Upload CIF/POSCAR → Match against Materials Project → Show similar structures → Import optimized parameters. Leverage existing Materials API integration with StructureMatcher.","notes":"Consolidated into parent epic 7k7. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:15:36.121041-06:00","updated_at":"2026-02-08T14:13:17.501445-06:00","closed_at":"2026-02-08T14:13:17.501451-06:00","labels":["matching","materials-api","structures"]}
{"id":"crystalmath-4p01","title":"Workflow Progress Dashboard","description":"Track and display workflow execution progress.\n\n## Scope\n- List view of active/completed workflows\n- Per-workflow detail view showing child jobs\n- Status summary (X/Y jobs complete)\n- Error handling (show failed jobs, allow retry)\n\n## Technical\n- New `WorkflowListState` for workflow list\n- Query jobs by workflow_id\n- Aggregate status from child jobs\n- Consider new Workflows tab or section in Jobs tab\n\n## Acceptance\n- [ ] Can see all workflows with status\n- [ ] Can drill into workflow to see jobs\n- [ ] Failed jobs highlighted with error info","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-02T22:35:24.391062-06:00","created_by":"TheFermiSea","updated_at":"2026-02-03T00:22:38.523812-06:00","closed_at":"2026-02-03T00:22:38.523816-06:00","dependencies":[{"issue_id":"crystalmath-4p01","depends_on_id":"crystalmath-hmfo","type":"blocks","created_at":"2026-02-02T22:35:33.693142-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-4qz","title":"Multi-cluster selection for SLURM queue hotkey","description":"Multi-cluster selection for SLURM queue hotkey","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-30T14:41:41.059507-06:00","updated_at":"2026-02-10T01:03:25.301942-06:00","closed_at":"2025-12-30T14:45:57.71629-06:00"}
{"id":"crystalmath-4u9h","title":"Workflow Configuration Forms","description":"Create parameter input forms for each workflow type in the Rust TUI.\n\n## Scope\n- Modal or screen for workflow configuration\n- Form fields specific to each workflow type:\n  - Convergence: parameter dropdown, values list, base input editor\n  - Band Structure: structure selector, k-path config\n  - Phonon: supercell dimensions (3 integers), displacement\n  - EOS: strain min/max/steps\n  - Geometry Opt: fmax threshold, max iterations\n\n## Technical\n- New `WorkflowConfigState` in `src/state/mod.rs`\n- Form rendering in `src/ui/workflow_config.rs`\n- Input validation before submission\n- Integration with Materials API for structure selection\n\n## Acceptance\n- [ ] Can configure each workflow type\n- [ ] Validation prevents invalid configs\n- [ ] Config can be saved/loaded as JSON","notes":"Convergence workflow config complete. Other workflows show placeholder - need config mapping for Band/Phonon/EOS/GeometryOpt.","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-02T22:35:23.956307-06:00","created_by":"TheFermiSea","updated_at":"2026-02-02T23:27:37.377706-06:00","closed_at":"2026-02-02T23:27:37.377713-06:00"}
{"id":"crystalmath-4vge","title":"[cs5.2] Kubernetes Job Orchestration - container-based execution","description":"TUI → K8s Job CRD → Pod with CRYSTAL container → PVC for scratch → Results to S3/MinIO. Better resource isolation than SLURM. Helm chart for deployment.","notes":"Consolidated into parent epic dgg. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:17:09.58882-06:00","updated_at":"2026-02-08T14:13:22.660156-06:00","closed_at":"2026-02-08T14:13:22.660159-06:00","labels":["cloud","containers","kubernetes"]}
{"id":"crystalmath-4vo","title":"Rust TUI Cleanup \u0026 Safety Fixes","description":"Rust TUI Cleanup \u0026 Safety Fixes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T21:43:20.089847-06:00","updated_at":"2026-02-10T01:03:25.590488-06:00","closed_at":"2025-12-29T21:48:30.158424-06:00"}
{"id":"crystalmath-4x0","title":"Row Rendering Contract","description":"Row Rendering Contract","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T14:31:15.442526-06:00","updated_at":"2026-02-10T01:03:25.965193-06:00","closed_at":"2025-12-27T12:22:55.255368-06:00"}
{"id":"crystalmath-4x8","title":"SECURITY: Sandbox Jinja2 template engine","description":"SECURITY: Sandbox Jinja2 template engine","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-21T08:07:45.228936-06:00","updated_at":"2026-02-10T01:03:26.356989-06:00","closed_at":"2025-11-21T13:02:36.608949-06:00","labels":["critical","phase-2","security","templates"]}
{"id":"crystalmath-4y8","title":"MEDIUM: Remove or integrate dead code in backend.py","description":"MEDIUM: Remove or integrate dead code in backend.py","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T19:09:13.379287-06:00","updated_at":"2026-02-10T01:03:26.591313-06:00","closed_at":"2025-12-24T10:07:17.127339-06:00"}
{"id":"crystalmath-537","title":"Add --explain/--dry-run educational mode","description":"Add --explain/--dry-run educational mode","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-19T23:00:47.743062-06:00","updated_at":"2026-02-10T01:03:26.894816-06:00","closed_at":"2025-11-19T23:55:11.808314-06:00","dependencies":[{"issue_id":"crystalmath-537","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T23:00:56.778488-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-53w","title":"Environment detection breaks when packaged","description":"Environment detection breaks when packaged","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T12:14:13.624967-06:00","updated_at":"2026-02-10T01:03:27.220134-06:00","closed_at":"2025-11-21T13:02:53.5465-06:00","labels":["deployment","environment","phase-1"]}
{"id":"crystalmath-54ly","title":"Harden _safe_eval_condition AST whitelist","description":"Current implementation allows ast.Attribute which could theoretically expose __doc__ or __class__ attributes. While low risk (ast.Call is banned), tighten whitelist or verify no sensitive objects are passed to eval context. File: tui/src/core/workflow.py:45","notes":"Parent epic 8g06 closed. Low-risk, no concrete attack vector.","status":"closed","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-27T12:03:53.09983-06:00","created_by":"TheFermiSea","updated_at":"2026-02-08T14:13:02.013694-06:00","closed_at":"2026-02-08T14:13:02.013697-06:00","labels":["python","security","workflow"],"dependencies":[{"issue_id":"crystalmath-54ly","depends_on_id":"crystalmath-8g06","type":"blocks","created_at":"2026-01-27T12:04:00.093951-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-5ab","title":"Add Comprehensive Unit Tests","description":"Add Comprehensive Unit Tests","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-20T19:20:31.80782-06:00","updated_at":"2026-02-10T01:03:27.456707-06:00","closed_at":"2025-11-20T23:27:59.227307-06:00","labels":["mvp","phase-1","testing"]}
{"id":"crystalmath-5bi","title":"Rust TUI Architecture: app.rs Refactor","description":"Refactor monolithic app.rs (~3000 lines) into modular architecture. Split into: src/state/mod.rs (App struct), src/state/actions.rs (Action enum), src/services/bridge.rs (bridge handling). Extracted from crystalmath-2fl.3.","notes":"Epic complete: app.rs modularized into src/state/ module. Extracted ~550 lines: Action enum (MVU pattern), AppTab, DiffLineType, MaterialsSearchState, NewJobField, NewJobState, JobsState. Build passes, 94 tests pass.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-30T13:16:49.938254-06:00","updated_at":"2025-12-30T13:46:36.941-06:00","closed_at":"2025-12-30T13:46:36.941004-06:00"}
{"id":"crystalmath-5bi.1","title":"Extract App State struct to state/mod.rs","description":"Extract App State struct to state/mod.rs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T13:19:03.598041-06:00","updated_at":"2026-02-10T01:03:27.71453-06:00","closed_at":"2025-12-30T13:46:15.750027-06:00","dependencies":[{"issue_id":"crystalmath-5bi.1","depends_on_id":"crystalmath-5bi","type":"parent-child","created_at":"2025-12-30T13:19:03.599075-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5bi.2","title":"Extract Action enums to state/actions.rs","description":"Extract Action enums to state/actions.rs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T13:19:09.951214-06:00","updated_at":"2026-02-10T01:03:27.996439-06:00","closed_at":"2025-12-30T13:46:23.206392-06:00","dependencies":[{"issue_id":"crystalmath-5bi.2","depends_on_id":"crystalmath-5bi","type":"parent-child","created_at":"2025-12-30T13:19:09.952095-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5bi.3","title":"Extract bridge handling to services/bridge.rs","description":"Extract bridge handling to services/bridge.rs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T13:19:16.467726-06:00","updated_at":"2026-02-10T01:03:28.359989-06:00","closed_at":"2025-12-30T13:36:31.552388-06:00","dependencies":[{"issue_id":"crystalmath-5bi.3","depends_on_id":"crystalmath-5bi","type":"parent-child","created_at":"2025-12-30T13:19:16.468496-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5fc","title":"[cn9.13] Add Docker Compose for AiiDA infrastructure","description":"[cn9.13] Add Docker Compose for AiiDA infrastructure","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T10:42:48.606784-06:00","updated_at":"2026-02-10T01:03:28.623262-06:00","closed_at":"2025-12-28T11:29:06.958226-06:00","labels":["aiida infrastructure phase-3 devops"]}
{"id":"crystalmath-5grc","title":"[AI] Autonomous Workflow Agent (VASPilot-style)","description":"Long-term goal: Autonomous agent that can:\n1. Accept high-level goals (\"Optimize MoS2 structure and calculate band gap\").\n2. Generate appropriate input files.\n3. Submit jobs, monitor progress.\n4. Diagnose failures and auto-retry with modifications.\n5. Report final results.\n\nRequires: Tool-calling capability, persistent state, approval gates for expensive operations.","notes":"Parent AI epic closed. Deferred.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T17:09:54.837112-06:00","updated_at":"2026-02-08T14:13:11.33987-06:00","closed_at":"2026-02-08T14:13:11.339874-06:00","dependencies":[{"issue_id":"crystalmath-5grc","depends_on_id":"crystalmath-11q0","type":"blocks","created_at":"2026-01-05T17:09:54.838708-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hbe","title":"4.1: User Documentation","description":"4.1: User Documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:18:41.927099-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:03:28.896223-06:00","closed_at":"2026-01-09T08:55:10.553156-06:00","close_reason":"All documentation files created","dependencies":[{"issue_id":"crystalmath-5hbe","depends_on_id":"crystalmath-m8eu","type":"blocks","created_at":"2026-01-08T22:19:12.244051-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-5hh","title":"TUI UX Excellence - Strategic Divergence","description":"Implement 'Cockpit vs Workshop' architecture for dual TUIs based on Codex/Gemini recommendations. Rust TUI = fast monitoring/logs/LSP editor (the Cockpit). Python Textual TUI = complex forms/config/templates (the Workshop). Focus on making users prefer TUI over CLI for daily workflow.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-28T21:10:18.674169-06:00","updated_at":"2025-12-29T01:52:28.657134-06:00","closed_at":"2025-12-29T01:52:28.657134-06:00","labels":["rust","strategic","tui","ux"]}
{"id":"crystalmath-5hh.1","title":"Unify Database Path (Rust + Python TUIs)","description":"Unify Database Path (Rust + Python TUIs)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T21:10:36.195446-06:00","updated_at":"2026-02-10T01:03:29.448359-06:00","closed_at":"2025-12-28T22:14:37.044553-06:00","dependencies":[{"issue_id":"crystalmath-5hh.1","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:10:36.196531-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.10","title":"Consistent Keybindings Across TUIs","description":"Consistent Keybindings Across TUIs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:12:17.027333-06:00","updated_at":"2026-02-10T01:03:29.825204-06:00","closed_at":"2025-12-29T01:46:53.596594-06:00","dependencies":[{"issue_id":"crystalmath-5hh.10","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:12:17.028125-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.2","title":"Live Log Streaming (Rust Cockpit)","description":"Live Log Streaming (Rust Cockpit)","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T21:10:56.276757-06:00","updated_at":"2026-02-10T01:03:30.420386-06:00","closed_at":"2025-12-29T01:19:02.049676-06:00","dependencies":[{"issue_id":"crystalmath-5hh.2","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:10:56.277852-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.3","title":"Red/Green Status Dashboard (Rust)","description":"Red/Green Status Dashboard (Rust)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T21:11:03.178715-06:00","updated_at":"2026-02-10T01:03:31.000584-06:00","closed_at":"2025-12-29T01:23:12.085169-06:00","dependencies":[{"issue_id":"crystalmath-5hh.3","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:11:03.179616-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.4","title":"One-Key Submit from Editor (Rust)","description":"One-Key Submit from Editor (Rust)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T21:11:10.112803-06:00","updated_at":"2026-02-10T01:03:31.259689-06:00","closed_at":"2025-12-29T01:32:43.934148-06:00","dependencies":[{"issue_id":"crystalmath-5hh.4","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:11:10.1135-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.5","title":"SLURM Queue Dashboard (Rust)","description":"SLURM Queue Dashboard (Rust)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T21:11:29.223263-06:00","updated_at":"2026-02-10T01:03:31.563929-06:00","closed_at":"2025-12-29T01:52:09.76902-06:00","dependencies":[{"issue_id":"crystalmath-5hh.5","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:11:29.224512-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.6","title":"Job Cancel Hotkey (Rust)","description":"Job Cancel Hotkey (Rust)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T21:11:36.48701-06:00","updated_at":"2026-02-10T01:03:31.899481-06:00","closed_at":"2025-12-29T01:28:19.319417-06:00","dependencies":[{"issue_id":"crystalmath-5hh.6","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:11:36.488026-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.7","title":"Error Snippet Display (Rust)","description":"Error Snippet Display (Rust)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T21:11:42.908217-06:00","updated_at":"2026-02-10T01:03:32.248737-06:00","closed_at":"2025-12-29T01:36:18.255791-06:00","dependencies":[{"issue_id":"crystalmath-5hh.7","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:11:42.909262-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.8","title":"Demo Mode Banner + Empty State UX","description":"Demo Mode Banner + Empty State UX","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-28T21:12:04.172898-06:00","updated_at":"2026-02-10T01:03:32.614394-06:00","closed_at":"2025-12-28T22:16:30.908251-06:00","dependencies":[{"issue_id":"crystalmath-5hh.8","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:12:04.173878-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5hh.9","title":"Job Diff View (Rust)","description":"Job Diff View (Rust)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T21:12:10.800869-06:00","updated_at":"2026-02-10T01:03:33.151033-06:00","closed_at":"2025-12-29T01:49:41.019561-06:00","dependencies":[{"issue_id":"crystalmath-5hh.9","depends_on_id":"crystalmath-5hh","type":"parent-child","created_at":"2025-12-28T21:12:10.801557-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5nx","title":"Move runcrystal to bin/runcrystal","description":"Move runcrystal to bin/runcrystal","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T20:36:19.024223-06:00","updated_at":"2026-02-10T01:03:33.575117-06:00","closed_at":"2025-11-19T21:06:33.40139-06:00","dependencies":[{"issue_id":"crystalmath-5nx","depends_on_id":"crystalmath-22s","type":"blocks","created_at":"2025-11-19T20:36:50.409227-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-5nx","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.234639-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-5s1","title":"Define gum auto-install policy and opt-in mechanism","description":"Define gum auto-install policy and opt-in mechanism","status":"closed","priority":3,"issue_type":"task","estimated_minutes":45,"created_at":"2025-12-27T00:14:06.005525-06:00","updated_at":"2026-02-10T01:03:34.314203-06:00","closed_at":"2025-12-30T08:40:04.130865-06:00","dependencies":[{"issue_id":"crystalmath-5s1","depends_on_id":"crystalmath-ohv","type":"parent-child","created_at":"2025-12-27T00:14:16.978794-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-5uy","title":"[epic] Analytics \u0026 Monitoring - Live Dashboard, Trends","notes":"Downgraded P1→P4 backlog. Sub-tasks consolidated. Not actively planned.","status":"open","priority":4,"issue_type":"epic","created_at":"2025-12-30T15:14:03.154832-06:00","updated_at":"2026-02-10T01:59:06.568456-06:00","labels":["P1","analytics","epic","monitoring"]}
{"id":"crystalmath-5w6","title":"Centralize status string constants","description":"Centralize status string constants","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T12:15:24.137746-06:00","updated_at":"2026-02-10T01:03:34.686889-06:00","closed_at":"2025-11-23T15:00:02.334231-06:00","labels":["code-quality","maintainability","phase-2"]}
{"id":"crystalmath-5wjb","title":"Phase 1: Research Phase","description":"Gather all necessary context before designing the integration architecture.\n\n**READ FIRST:** prompts/META-PROMPT-WORKFLOW-INTEGRATION.md → Phase 1\n\n**Deliverables:**\n- Structured assessment of current crystalmath integration state\n- Library compatibility matrix with version requirements\n- Beefcake2 cluster configuration templates\n\n**IMPORTANT:** Update this epic's notes after completing each sub-task with key findings.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-08T22:16:39.35112-06:00","created_by":"briansquires","updated_at":"2026-01-08T23:01:13.30257-06:00","closed_at":"2026-01-08T23:01:13.30257-06:00","close_reason":"All Phase 1 research tasks complete"}
{"id":"crystalmath-5xa","title":"[se2.2] Defect Supercell Builder - vacancies, substitutions, interstitials","description":"Bulk structure → Supercell expansion → Defect site selection → Vacancy/substitution/interstitial → Charge states → Generate symmetry-equivalent configurations. pymatgen DefectGenerator.","notes":"Consolidated into parent epic 7k7. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:15:29.132641-06:00","updated_at":"2026-02-08T14:13:17.418234-06:00","closed_at":"2026-02-08T14:13:17.418237-06:00","labels":["defects","pymatgen","structures"]}
{"id":"crystalmath-5ye","title":"[ct3.4] Implement VASP Job Monitoring \u0026 Status Tracking","description":"[ct3.4] Implement VASP Job Monitoring \u0026 Status Tracking","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-25T03:03:24.344757-06:00","updated_at":"2026-02-10T01:03:35.106904-06:00","closed_at":"2025-12-28T11:16:05.611531-06:00"}
{"id":"crystalmath-6195","title":"Validate DFTCodeConfig trust boundary","description":"Ensure code_config.serial_executable in ssh_runner.py cannot be modified by untrusted input. Add validation or freeze config objects after initialization. File: tui/src/runners/ssh_runner.py","notes":"Parent epic 8g06 closed. Low-risk, no concrete attack vector.","status":"closed","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-27T12:03:53.594383-06:00","created_by":"TheFermiSea","updated_at":"2026-02-08T14:13:02.836773-06:00","closed_at":"2026-02-08T14:13:02.836777-06:00","labels":["python","runners","security"],"dependencies":[{"issue_id":"crystalmath-6195","depends_on_id":"crystalmath-8g06","type":"blocks","created_at":"2026-01-27T12:04:00.203528-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-67z","title":"Code Review Findings Epic - Codex/Gemini Dec 2024","description":"Epic tracking code quality and security issues identified by Codex and Gemini CLI code reviews on Dec 28, 2024. Contains 2 critical security vulnerabilities (P0), 2 medium reliability issues (P1), and 6 low priority quality improvements (P2).","notes":"All 10 issues from Codex/Gemini code review have been resolved: 2 P0 security fixes (POTCAR injection, path traversal), 2 P1 reliability fixes (schema version, bridge timeout), 6 P2 quality improvements (SFTP paths, work_dir, LSP path, layout logic, logging, deterministic output finding). All tests passing.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-28T13:25:41.268272-06:00","updated_at":"2025-12-28T19:37:28.579907-06:00","closed_at":"2025-12-28T19:37:28.57991-06:00","labels":["epic","quality","review","security"]}
{"id":"crystalmath-67z.1","title":"[HIGH] SSHRunner POTCAR command injection vulnerability","description":"[HIGH] SSHRunner POTCAR command injection vulnerability","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-28T13:26:04.791638-06:00","updated_at":"2026-02-10T01:03:35.570128-06:00","closed_at":"2025-12-28T19:09:36.394013-06:00","labels":["critical","security","ssh-runner"],"dependencies":[{"issue_id":"crystalmath-67z.1","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:26:04.793009-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.10","title":"[LOW] Non-deterministic output file finding","description":"[LOW] Non-deterministic output file finding","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T13:27:40.381848-06:00","updated_at":"2026-02-10T01:03:36.122523-06:00","closed_at":"2025-12-28T19:36:47.411279-06:00","labels":["orchestrator","reliability"],"dependencies":[{"issue_id":"crystalmath-67z.10","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:27:40.382716-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.2","title":"[HIGH] Orchestrator path traversal in work directory naming","description":"[HIGH] Orchestrator path traversal in work directory naming","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-28T13:26:11.581387-06:00","updated_at":"2026-02-10T01:03:36.40993-06:00","closed_at":"2025-12-28T19:09:42.599945-06:00","labels":["critical","orchestrator","security"],"dependencies":[{"issue_id":"crystalmath-67z.2","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:26:11.582434-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.3","title":"[MEDIUM] Database schema version mismatch (v6 vs v7)","description":"[MEDIUM] Database schema version mismatch (v6 vs v7)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-28T13:26:19.485612-06:00","updated_at":"2026-02-10T01:03:36.672414-06:00","closed_at":"2025-12-28T19:12:02.92587-06:00","labels":["database","migration"],"dependencies":[{"issue_id":"crystalmath-67z.3","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:26:19.486318-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.4","title":"[MEDIUM] Bridge deadlock if Python worker crashes","description":"[MEDIUM] Bridge deadlock if Python worker crashes","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-28T13:26:27.35132-06:00","updated_at":"2026-02-10T01:03:37.043717-06:00","closed_at":"2025-12-28T19:12:09.591506-06:00","labels":["bridge","reliability","rust"],"dependencies":[{"issue_id":"crystalmath-67z.4","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:26:27.351973-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.5","title":"[LOW] SFTP paths wrongly shell-quoted","description":"[LOW] SFTP paths wrongly shell-quoted","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T13:27:06.384118-06:00","updated_at":"2026-02-10T01:03:37.321543-06:00","closed_at":"2025-12-28T19:15:14.632628-06:00","labels":["sftp","ssh-runner"],"dependencies":[{"issue_id":"crystalmath-67z.5","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:27:06.385172-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.6","title":"[LOW] LocalRunner returns incorrect work_dir","description":"[LOW] LocalRunner returns incorrect work_dir","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T13:27:12.951535-06:00","updated_at":"2026-02-10T01:03:37.643499-06:00","closed_at":"2025-12-28T19:15:21.244234-06:00","labels":["bug","local-runner"],"dependencies":[{"issue_id":"crystalmath-67z.6","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:27:12.952536-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.7","title":"[LOW] LSP server path is hardcoded relative","description":"[LOW] LSP server path is hardcoded relative","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T13:27:19.450809-06:00","updated_at":"2026-02-10T01:03:37.964879-06:00","closed_at":"2025-12-28T19:15:27.719801-06:00","labels":["lsp","rust"],"dependencies":[{"issue_id":"crystalmath-67z.7","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:27:19.451675-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.8","title":"[LOW] Redundant layout logic in results view","description":"[LOW] Redundant layout logic in results view","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T13:27:26.023985-06:00","updated_at":"2026-02-10T01:03:38.408123-06:00","closed_at":"2025-12-28T19:36:39.981434-06:00","labels":["maintainability","rust","ui"],"dependencies":[{"issue_id":"crystalmath-67z.8","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:27:26.024824-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-67z.9","title":"[LOW] Replace print() with logging in parsers","description":"[LOW] Replace print() with logging in parsers","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T13:27:33.798958-06:00","updated_at":"2026-02-10T01:03:38.72591-06:00","closed_at":"2025-12-28T19:15:34.381264-06:00","labels":["logging","python","quality"],"dependencies":[{"issue_id":"crystalmath-67z.9","depends_on_id":"crystalmath-67z","type":"parent-child","created_at":"2025-12-28T13:27:33.799695-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6da","title":"ClusterConfig.status should be ClusterStatus enum","description":"ClusterConfig.status should be ClusterStatus enum","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T14:55:15.158219-06:00","updated_at":"2026-02-10T01:03:39.146529-06:00","closed_at":"2025-12-30T15:06:35.773657-06:00","labels":["models","rust","type-safety"]}
{"id":"crystalmath-6fm","title":"Job List Scale Test (1000+ rows) + Perf Budget","description":"Job List Scale Test (1000+ rows) + Perf Budget","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T14:31:03.789027-06:00","updated_at":"2026-02-10T01:03:39.550735-06:00","closed_at":"2025-12-27T12:22:55.25638-06:00"}
{"id":"crystalmath-6fy","title":"Migrate to AiiDA CRYSTAL parsers - use aiida-crystal17 plugin parsers","description":"Migrate to AiiDA CRYSTAL parsers - use aiida-crystal17 plugin parsers","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:52:15.148703-06:00","updated_at":"2026-02-10T01:03:39.927074-06:00","closed_at":"2026-01-05T16:00:00-06:00"}
{"id":"crystalmath-6gef","title":"4.2: Example Notebooks","description":"4.2: Example Notebooks","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T22:18:43.013266-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:03:40.260553-06:00","closed_at":"2026-01-09T09:02:34.231938-06:00","close_reason":"All 5 example notebooks created","dependencies":[{"issue_id":"crystalmath-6gef","depends_on_id":"crystalmath-5hbe","type":"blocks","created_at":"2026-01-08T22:19:12.320864-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-6k5","title":"Rust TUI Production Hardening","description":"# Epic: Rust TUI Production Hardening\n\nComprehensive optimization epic based on 3 rounds of architectural review with Codex and Gemini.\n\n## Critical Issues (P0)\n\n### 1. Request/Response Race Condition\n- **File**: `src/app.rs:541-570`, `src/bridge.rs`\n- **Issue**: `pending_bridge_request` cleared by ANY response, enabling stale state overwrites\n- **Fix**: Add request IDs to ALL bridge requests/responses; only clear when IDs match\n\n### 2. Worker Thread Panic Vulnerability  \n- **File**: `src/bridge.rs:162-205`\n- **Issue**: `Python::attach` can panic, killing worker thread with no error propagation\n- **Fix**: Wrap per-request handling in `std::panic::catch_unwind`; use `Python::try_attach`\n\n### 3. App Startup Crash on Bridge Failure\n- **File**: `src/app.rs:352`\n- **Issue**: `BridgeHandle::spawn(...).expect(...)` panics if Python fails\n- **Fix**: Return `Result\u003cApp\u003e` or store disabled bridge state with user-visible error\n\n## High Priority (P1)\n\n### 4. PyO3 Multi-Thread Initialization\n- **File**: `src/main.rs:409-414`\n- **Issue**: `Python::initialize()` + `attach` is legacy/fragile\n- **Fix**: Use `prepare_freethreaded_python()` + `Python::with_gil` throughout\n\n### 5. Monolithic App \"God Struct\" Refactor\n- **File**: `src/app.rs` (~1200 lines)\n- **Issue**: Mixes UI, Jobs, LSP, Bridge, Log, Materials state\n- **Fix**: Split into domain structs: `JobsState`, `EditorState`, `LspState`, `LogState`\n\n### 6. Untestable Core (DI Required)\n- **Files**: `src/app.rs`, `src/bridge.rs`, `src/lsp.rs`\n- **Issue**: Tight coupling to Python/Node.js makes unit testing impossible\n- **Fix**: Extract `Bridge` and `LspService` traits; allow mock implementations\n\n### 7. MVU/Reducer Pattern for State\n- **File**: `src/app.rs`\n- **Issue**: Scattered mutations make debugging impossible\n- **Fix**: Centralize all mutations in `update(action: Action)` function\n\n## Medium Priority (P2)\n\n### 8. Unbounded Channels\n- **File**: `src/bridge.rs:351-357`\n- **Issue**: `mpsc::channel()` can grow without backpressure\n- **Fix**: Use `sync_channel(32)` or coalescing strategy\n\n### 9. No Shutdown/Join for Worker\n- **File**: `src/bridge.rs:336-363`\n- **Issue**: No explicit shutdown path; pending requests dropped on exit\n- **Fix**: Add `BridgeRequest::Shutdown`, store `JoinHandle`, join on drop\n\n### 10. D12 Import Doesn't Update LSP\n- **File**: `src/app.rs:716-720`\n- **Issue**: Import mutates editor without updating LSP metadata/notifications\n- **Fix**: Route imports through shared `open_editor_content()` helper\n\n### 11. LSP Server Exit is Silent\n- **File**: `src/lsp.rs:208`\n- **Issue**: EOF in reader thread doesn't emit `ServerError`\n- **Fix**: Send `ServerError` on EOF; disable LSP in App\n\n## Low Priority (P3)\n\n### 12. Status Message Confusion\n- **File**: `src/app.rs:438`\n- **Issue**: `last_error` doubles as info/confirmation, can hide real errors\n- **Fix**: Separate `StatusMessage { kind, expires_at }` and persistent error log\n\n### 13. Fragile LSP URI Handling\n- **File**: `src/lsp.rs`\n- **Issue**: Path-to-URI conversion may break on edge cases\n- **Fix**: Use a robust URI library\n\n## Positive Patterns (Keep)\n- Request timeout handling prevents UI deadlock\n- Materials request_id staleness handling (extend to all requests)\n- Background worker keeps Python off UI thread\n- LSP debounce logic is well-designed\n- RAII TerminalGuard pattern for panic safety","notes":"Epic complete: 12/12 issues closed. All P0/P1/P2 issues resolved including race condition fixes, panic protection, graceful shutdown, LSP error handling, D12 import fixes, App refactoring (JobsState extraction), service traits for DI (BridgeService, LspService), MVU/reducer pattern (Action enum + update()), and 19 new unit tests.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-29T01:41:55.501793-06:00","updated_at":"2025-12-29T14:38:21.636833-06:00","closed_at":"2025-12-29T14:38:21.636837-06:00","labels":["architecture","priority:high"]}
{"id":"crystalmath-6k5.1","title":"Fix request/response race condition","description":"Fix request/response race condition","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-29T01:42:39.286742-06:00","updated_at":"2026-02-10T01:03:40.70684-06:00","closed_at":"2025-12-29T02:11:46.323342-06:00","dependencies":[{"issue_id":"crystalmath-6k5.1","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:42:39.28783-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.10","title":"Fix D12 import to update LSP metadata","description":"Fix D12 import to update LSP metadata","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T01:43:39.860962-06:00","updated_at":"2026-02-10T01:03:41.117195-06:00","closed_at":"2025-12-29T13:19:19.200861-06:00","dependencies":[{"issue_id":"crystalmath-6k5.10","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:43:39.861734-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.11","title":"Surface LSP server exit as error","description":"Surface LSP server exit as error","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T01:43:46.587646-06:00","updated_at":"2026-02-10T01:03:41.628054-06:00","closed_at":"2025-12-29T13:20:49.848573-06:00","dependencies":[{"issue_id":"crystalmath-6k5.11","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:43:46.588358-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.12","title":"Add unit tests for App state transitions","description":"Add unit tests for App state transitions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T01:43:53.062352-06:00","updated_at":"2026-02-10T01:03:42.271617-06:00","closed_at":"2025-12-29T13:41:08.949179-06:00","dependencies":[{"issue_id":"crystalmath-6k5.12","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:43:53.063174-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.2","title":"Add worker thread panic protection","description":"Add worker thread panic protection","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-29T01:42:45.790888-06:00","updated_at":"2026-02-10T01:03:42.939976-06:00","closed_at":"2025-12-29T02:11:51.47787-06:00","dependencies":[{"issue_id":"crystalmath-6k5.2","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:42:45.791667-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.3","title":"Handle bridge spawn failure gracefully","description":"Handle bridge spawn failure gracefully","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-29T01:42:52.014782-06:00","updated_at":"2026-02-10T01:03:43.477977-06:00","closed_at":"2025-12-29T02:11:56.626907-06:00","dependencies":[{"issue_id":"crystalmath-6k5.3","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:42:52.015763-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.4","title":"Modernize PyO3 multi-thread initialization","description":"Modernize PyO3 multi-thread initialization","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:42:58.721423-06:00","updated_at":"2026-02-10T01:03:43.821627-06:00","closed_at":"2025-12-29T13:11:18.486282-06:00","dependencies":[{"issue_id":"crystalmath-6k5.4","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:42:58.722337-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.5","title":"Refactor monolithic App struct into domain states","description":"Refactor monolithic App struct into domain states","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:43:05.363811-06:00","updated_at":"2026-02-10T01:03:44.176518-06:00","closed_at":"2025-12-29T13:29:03.237636-06:00","dependencies":[{"issue_id":"crystalmath-6k5.5","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:43:05.364675-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.6","title":"Extract Bridge and LSP service traits for DI","description":"Extract Bridge and LSP service traits for DI","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:43:11.662838-06:00","updated_at":"2026-02-10T01:03:44.484013-06:00","closed_at":"2025-12-29T13:35:08.062302-06:00","dependencies":[{"issue_id":"crystalmath-6k5.6","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:43:11.663783-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.7","title":"Implement MVU/reducer pattern for state mutations","description":"Implement MVU/reducer pattern for state mutations","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:43:18.516451-06:00","updated_at":"2026-02-10T01:03:45.001385-06:00","closed_at":"2025-12-29T13:37:51.496279-06:00","dependencies":[{"issue_id":"crystalmath-6k5.7","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:43:18.517253-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.8","title":"Switch to bounded channels with backpressure","description":"Switch to bounded channels with backpressure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T01:43:24.730159-06:00","updated_at":"2026-02-10T01:03:45.35329-06:00","closed_at":"2025-12-29T13:13:48.102752-06:00","dependencies":[{"issue_id":"crystalmath-6k5.8","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:43:24.730944-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6k5.9","title":"Implement graceful worker shutdown with join","description":"Implement graceful worker shutdown with join","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T01:43:31.172402-06:00","updated_at":"2026-02-10T01:03:45.664084-06:00","closed_at":"2025-12-29T13:17:39.195475-06:00","dependencies":[{"issue_id":"crystalmath-6k5.9","depends_on_id":"crystalmath-6k5","type":"parent-child","created_at":"2025-12-29T01:43:31.173268-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-6lx","title":"[wf1.1] Convergence Study Automation - k-points, cutoff, basis","description":"[wf1.1] Convergence Study Automation - k-points, cutoff, basis","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:14:52.257454-06:00","updated_at":"2026-02-10T01:03:46.211244-06:00","closed_at":"2026-01-05T17:44:40.154649-06:00","labels":["automation","high-impact","workflow"]}
{"id":"crystalmath-6o9","title":"Update CLAUDE.md for refactored architecture","description":"Update CLAUDE.md for refactored architecture","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-19T20:36:19.398241-06:00","updated_at":"2026-02-10T01:03:46.692477-06:00","closed_at":"2025-11-19T21:09:14.22883-06:00","dependencies":[{"issue_id":"crystalmath-6o9","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.504523-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-6sf7","title":"[CRITICAL] Rust-Python JSON contract mismatch in JobDetails/ClusterCreate","description":"[CRITICAL] Rust-Python JSON contract mismatch in JobDetails/ClusterCreate","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-30T22:58:06.11473-06:00","updated_at":"2026-02-10T01:03:47.149557-06:00","closed_at":"2025-12-31T09:04:40.014685-06:00","labels":["api-contract","bridge","critical"]}
{"id":"crystalmath-6sp","title":"Implement lib/cry-config.sh","description":"Implement lib/cry-config.sh","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.665915-06:00","updated_at":"2026-02-10T01:03:47.987527-06:00","closed_at":"2025-11-19T20:50:45.304565-06:00","dependencies":[{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-ejy","type":"blocks","created_at":"2025-11-19T20:36:49.551905-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-be3","type":"blocks","created_at":"2025-11-19T20:36:49.620586-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-3cv","type":"blocks","created_at":"2025-11-19T20:36:49.669549-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-hyl","type":"blocks","created_at":"2025-11-19T20:36:49.715592-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-ib2","type":"blocks","created_at":"2025-11-19T20:36:49.76152-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:49.877184-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-nim","type":"blocks","created_at":"2025-11-19T20:36:50.155165-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-7e1","type":"blocks","created_at":"2025-11-19T20:36:50.431332-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6sp","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:06.985439-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-6vn","title":"Refactor main bin/runcrystal script","description":"Refactor main bin/runcrystal script","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.989123-06:00","updated_at":"2026-02-10T01:03:48.608973-06:00","closed_at":"2025-11-20T23:22:37.246987-06:00","dependencies":[{"issue_id":"crystalmath-6vn","depends_on_id":"crystalmath-5nx","type":"blocks","created_at":"2025-11-19T20:36:50.086025-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6vn","depends_on_id":"crystalmath-z00","type":"blocks","created_at":"2025-11-19T20:36:50.386766-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6vn","depends_on_id":"crystalmath-6o9","type":"blocks","created_at":"2025-11-19T20:36:50.594694-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-6vn","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.211255-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-75z","title":"Configure SQLite for concurrent access","description":"Configure SQLite for concurrent access","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T12:13:49.358039-06:00","updated_at":"2026-02-10T01:03:49.456289-06:00","closed_at":"2025-11-22T23:47:15.898416-06:00","labels":["concurrency","database","performance","phase-2"],"comments":[{"id":3,"issue_id":"crystalmath-75z","author":"briansquires","text":"Agent 6 implementation: FAILED (20% confidence)\n\n❌ STATUS: Task NOT completed due to API Error 500\n❌ No code changes delivered\n❌ No tests written\n\nCRITICAL: SQLite still in default mode (no WAL, no busy_timeout)\n\nIMPACT: Production deployment BLOCKED\n- Multi-user environments will experience \"database is locked\" errors\n- Queue manager + orchestrator + TUI concurrent access will fail\n- High risk under concurrent load\n\nREQUIRED: Retry agent task immediately\n\nNeeded changes:\n- PRAGMA journal_mode=WAL\n- PRAGMA busy_timeout=5000 (or higher)\n- Connection pooling configuration\n- Concurrency tests\n\nFile: tui/src/core/database.py\nPriority: P0 - BLOCKING\nCodex review: See CODE_QUALITY_REVIEW.md - Agent 6 section\n","created_at":"2025-11-21T19:03:45Z"}]}
{"id":"crystalmath-7cp","title":"Migrate SLURM Script Generation to Templates","description":"Migrate SLURM Script Generation to Templates","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T13:29:51.159145-06:00","updated_at":"2026-02-10T01:03:50.168275-06:00","closed_at":"2025-12-17T18:46:29.779589-06:00"}
{"id":"crystalmath-7dl","title":"Refactor TUI Job List to Incremental Updates","description":"Refactor TUI Job List to Incremental Updates","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T13:29:28.352678-06:00","updated_at":"2026-02-10T01:03:50.853286-06:00","closed_at":"2025-12-17T19:41:01.772029Z"}
{"id":"crystalmath-7e1","title":"Write module documentation","description":"Write module documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-19T20:36:19.363784-06:00","updated_at":"2026-02-10T01:03:51.567024-06:00","closed_at":"2025-11-20T23:24:34.259681-06:00","dependencies":[{"issue_id":"crystalmath-7e1","depends_on_id":"crystalmath-ps0","type":"blocks","created_at":"2025-11-19T20:36:50.622011-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-7e1","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.478814-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-7jf","title":"Set up testing framework (bats)","description":"Set up testing framework (bats)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T20:36:19.061984-06:00","updated_at":"2026-02-10T01:03:52.019402-06:00","closed_at":"2025-11-19T20:50:46.283658-06:00","dependencies":[{"issue_id":"crystalmath-7jf","depends_on_id":"crystalmath-nim","type":"blocks","created_at":"2025-11-19T20:36:50.132295-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-7jf","depends_on_id":"crystalmath-pq3","type":"blocks","created_at":"2025-11-19T20:36:50.178562-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-7jf","depends_on_id":"crystalmath-rzw","type":"blocks","created_at":"2025-11-19T20:36:50.225654-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-7jf","depends_on_id":"crystalmath-pc3","type":"blocks","created_at":"2025-11-19T20:36:50.271326-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-7jf","depends_on_id":"crystalmath-dmt","type":"blocks","created_at":"2025-11-19T20:36:50.317159-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-7jf","depends_on_id":"crystalmath-z00","type":"blocks","created_at":"2025-11-19T20:36:50.363563-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-7jf","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.258432-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-7jv","title":"[am3.3] Mobile Push Notifications - job completion alerts","description":"Push notifications on job completion/failure. Options: Pushover, ntfy.sh, email, Slack webhook. Configurable per-cluster or per-job.","notes":"Consolidated into parent epic 5uy. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:16:11.461043-06:00","updated_at":"2026-02-08T14:13:18.92687-06:00","closed_at":"2026-02-08T14:13:18.926873-06:00","labels":["mobile","monitoring","notifications"]}
{"id":"crystalmath-7k7","title":"[epic] Structure Engineering Tools - Slabs, Defects, Matching","notes":"Downgraded P2→P4 backlog. Sub-tasks consolidated. Reopen specific tasks when ready to implement.","status":"open","priority":4,"issue_type":"epic","created_at":"2025-12-30T15:13:54.335314-06:00","updated_at":"2026-02-10T01:59:06.452142-06:00","labels":["P2","epic","structures"]}
{"id":"crystalmath-7m9","title":"Rust TUI Validation Fixes Epic","description":"Parent epic for all issues identified during 6-round Codex/Gemini validation of crystalmath-uaz. Production readiness: 6/10 → target 9/10. Organized into 3 phases by priority.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-27T12:20:24.18933-06:00","updated_at":"2025-12-27T14:04:42.027047-06:00","closed_at":"2025-12-27T14:04:42.027047-06:00","labels":["epic","rust","validation"]}
{"id":"crystalmath-7m9.1","title":"[fix.1.1] Add runner_type to JobSubmission","description":"[fix.1.1] Add runner_type to JobSubmission","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-27T12:20:54.891143-06:00","updated_at":"2026-02-10T01:03:52.383312-06:00","closed_at":"2025-12-27T12:43:50.244388-06:00","labels":["critical","models","rust"],"dependencies":[{"issue_id":"crystalmath-7m9.1","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:20:54.892165-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.10","title":"[fix.3.3] Case-insensitive LSP header parsing","description":"[fix.3.3] Case-insensitive LSP header parsing","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T12:23:25.971511-06:00","updated_at":"2026-02-10T01:03:52.733175-06:00","closed_at":"2025-12-27T12:44:46.516721-06:00","labels":["lsp","protocol","rust"],"dependencies":[{"issue_id":"crystalmath-7m9.10","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:23:25.972529-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.11","title":"[fix.3.4] Track initialize request ID for ServerReady","description":"[fix.3.4] Track initialize request ID for ServerReady","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T12:23:40.37929-06:00","updated_at":"2026-02-10T01:03:53.036128-06:00","closed_at":"2025-12-27T12:44:53.058475-06:00","labels":["lsp","protocol","rust"],"dependencies":[{"issue_id":"crystalmath-7m9.11","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:23:40.380129-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.12","title":"[fix.3.5] Percent-encode paths in LSP URIs","description":"[fix.3.5] Percent-encode paths in LSP URIs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T12:23:56.141176-06:00","updated_at":"2026-02-10T01:03:53.492015-06:00","closed_at":"2025-12-27T12:44:59.718576-06:00","labels":["lsp","rust"],"dependencies":[{"issue_id":"crystalmath-7m9.12","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:23:56.142327-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.13","title":"[fix.3.6] Add missing unit and integration tests","description":"[fix.3.6] Add missing unit and integration tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T12:24:15.55892-06:00","updated_at":"2026-02-10T01:03:53.95158-06:00","closed_at":"2025-12-27T12:45:08.358895-06:00","labels":["rust","testing"],"dependencies":[{"issue_id":"crystalmath-7m9.13","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:24:15.560056-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.14","title":"[fix.3.7] Clamp scroll bounds","description":"[fix.3.7] Clamp scroll bounds","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T12:25:07.241777-06:00","updated_at":"2026-02-10T01:03:54.269123-06:00","closed_at":"2025-12-27T12:45:15.587245-06:00","labels":["rust","ui"],"dependencies":[{"issue_id":"crystalmath-7m9.14","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:25:07.243013-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.2","title":"[fix.1.2] Virtualize log rendering","description":"[fix.1.2] Virtualize log rendering","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-27T12:21:12.034067-06:00","updated_at":"2026-02-10T01:03:54.524955-06:00","closed_at":"2025-12-27T12:43:56.88617-06:00","labels":["critical","performance","rust","ui"],"dependencies":[{"issue_id":"crystalmath-7m9.2","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:21:12.035011-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.3","title":"[fix.2.1] Fix accessibility contrast in job selection","description":"[fix.2.1] Fix accessibility contrast in job selection","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T12:21:29.323455-06:00","updated_at":"2026-02-10T01:03:54.943223-06:00","closed_at":"2025-12-27T12:44:04.391506-06:00","labels":["accessibility","rust","ui"],"dependencies":[{"issue_id":"crystalmath-7m9.3","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:21:29.324544-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.4","title":"[fix.2.2] Async Python bridge","description":"[fix.2.2] Async Python bridge","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T12:21:47.289786-06:00","updated_at":"2026-02-10T01:03:55.289396-06:00","closed_at":"2025-12-27T14:04:08.498941-06:00","labels":["architecture","bridge","performance","rust"],"dependencies":[{"issue_id":"crystalmath-7m9.4","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:21:47.290924-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.5","title":"[fix.2.3] Fix Content-Length byte count in LSP","description":"[fix.2.3] Fix Content-Length byte count in LSP","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T12:22:02.514437-06:00","updated_at":"2026-02-10T01:03:55.787204-06:00","closed_at":"2025-12-27T12:35:44.171345-06:00","labels":["lsp","protocol","rust"],"dependencies":[{"issue_id":"crystalmath-7m9.5","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:22:02.515188-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.6","title":"[fix.2.4] Terminal RAII guard for init errors","description":"[fix.2.4] Terminal RAII guard for init errors","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T12:22:21.219627-06:00","updated_at":"2026-02-10T01:03:56.287593-06:00","closed_at":"2025-12-27T12:44:11.706675-06:00","labels":["architecture","rust","safety"],"dependencies":[{"issue_id":"crystalmath-7m9.6","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:22:21.220609-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.7","title":"[fix.2.5] LSP process cleanup on init failure","description":"[fix.2.5] LSP process cleanup on init failure","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T12:22:37.995966-06:00","updated_at":"2026-02-10T01:03:56.751385-06:00","closed_at":"2025-12-27T12:44:18.288391-06:00","labels":["lsp","rust","safety"],"dependencies":[{"issue_id":"crystalmath-7m9.7","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:22:37.996779-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.8","title":"[fix.3.1] Handle resize events","description":"[fix.3.1] Handle resize events","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T12:22:54.341677-06:00","updated_at":"2026-02-10T01:03:57.018356-06:00","closed_at":"2025-12-27T12:44:24.688826-06:00","labels":["rust","ui"],"dependencies":[{"issue_id":"crystalmath-7m9.8","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:22:54.342413-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7m9.9","title":"[fix.3.2] Debounce LSP didChange notifications","description":"[fix.3.2] Debounce LSP didChange notifications","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T12:23:11.038212-06:00","updated_at":"2026-02-10T01:03:57.353485-06:00","closed_at":"2025-12-27T14:04:14.778714-06:00","labels":["lsp","performance","rust"],"dependencies":[{"issue_id":"crystalmath-7m9.9","depends_on_id":"crystalmath-7m9","type":"parent-child","created_at":"2025-12-27T12:23:11.039479-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw","title":"[epic] Materials Project API Integration","description":"Integrate Materials Project ecosystem into CrystalMath TUI for fetching crystal structures, properties, and cross-database queries.\n\n## Objective\nEnable users to search and fetch crystal structures from Materials Project, MPContribs, and OPTIMADE databases directly within the TUI, with automatic conversion to CRYSTAL23 .d12 format.\n\n## Services\n1. **MP API** (mp-api): Primary source for structures, band gaps, formation energies\n2. **MPContribs**: User contributions, experimental data, specialized properties\n3. **OPTIMADE**: Cross-database federation (OQMD, AFLOW, COD fallback)\n\n## Architecture\ntui/src/core/materials_api/ with clients/, transforms/, service.py, repository.py\n\n## Key Patterns\n- Wrap sync clients (mp-api, mpcontribs) with asyncio.to_thread\n- OPTIMADE client is native async\n- pymatgen.Structure as intermediate format\n- SQLite cache with 30-day TTL\n\n## Dependencies\nmp-api\u003e=0.45, mpcontribs-client\u003e=5.10, optimade[http_client]\u003e=1.2, pymatgen\u003e=2023.0.0","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-27T00:50:06.967717-06:00","updated_at":"2025-12-27T14:12:41.245512-06:00","closed_at":"2025-12-27T14:12:41.245512-06:00","labels":["epic","materials-api","phase-4"]}
{"id":"crystalmath-7mw.1","title":"[mp4.1] Add materials optional dependency group to pyproject.toml","description":"[mp4.1] Add materials optional dependency group to pyproject.toml","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:50:29.204817-06:00","updated_at":"2026-02-10T01:03:57.652707-06:00","closed_at":"2025-12-27T01:35:02.443525-06:00","labels":["dependencies","setup"],"dependencies":[{"issue_id":"crystalmath-7mw.1","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:50:29.205481-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.10","title":"[mp4.10] Implement pymatgen to CRYSTAL23 .d12 converter","description":"[mp4.10] Implement pymatgen to CRYSTAL23 .d12 converter","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:52:05.133519-06:00","updated_at":"2026-02-10T01:03:57.98574-06:00","closed_at":"2025-12-27T01:36:12.854428-06:00","labels":["crystal23","transforms"],"dependencies":[{"issue_id":"crystalmath-7mw.10","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:52:05.134293-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.11","title":"[mp4.11] Create MaterialsSearchScreen TUI component","description":"[mp4.11] Create MaterialsSearchScreen TUI component","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T00:52:11.897212-06:00","updated_at":"2026-02-10T01:03:58.284089-06:00","closed_at":"2025-12-27T12:07:49.484149-06:00","labels":["screens","tui","ui"],"dependencies":[{"issue_id":"crystalmath-7mw.11","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:52:11.898059-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.12","title":"[mp4.12] Integrate materials search with job creation workflow","description":"[mp4.12] Integrate materials search with job creation workflow","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T00:52:18.836468-06:00","updated_at":"2026-02-10T01:03:58.606807-06:00","closed_at":"2025-12-27T14:12:01.491266-06:00","labels":["integration","workflow"],"dependencies":[{"issue_id":"crystalmath-7mw.12","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:52:18.837132-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.13","title":"[mp4.13] Add unit tests for materials_api clients","description":"[mp4.13] Add unit tests for materials_api clients","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T00:52:41.371616-06:00","updated_at":"2026-02-10T01:03:58.928245-06:00","closed_at":"2025-12-27T12:42:13.218953-06:00","labels":["clients","testing"],"dependencies":[{"issue_id":"crystalmath-7mw.13","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:52:41.372724-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.14","title":"[mp4.14] Add integration tests for MaterialsService","description":"[mp4.14] Add integration tests for MaterialsService","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T00:52:49.116921-06:00","updated_at":"2026-02-10T01:03:59.15548-06:00","closed_at":"2025-12-27T12:42:18.369682-06:00","labels":["integration","testing"],"dependencies":[{"issue_id":"crystalmath-7mw.14","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:52:49.117834-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.15","title":"[mp4.15] Handle rate limiting and API errors gracefully","description":"[mp4.15] Handle rate limiting and API errors gracefully","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:52:55.639837-06:00","updated_at":"2026-02-10T01:03:59.582387-06:00","closed_at":"2025-12-27T12:42:23.521608-06:00","labels":["error-handling","resilience"],"dependencies":[{"issue_id":"crystalmath-7mw.15","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:52:55.640567-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.16","title":"[mp4.16] Add OPTIMADE cross-database fallback","description":"[mp4.16] Add OPTIMADE cross-database fallback","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T00:53:03.568324-06:00","updated_at":"2026-02-10T01:04:00.033032-06:00","closed_at":"2025-12-27T12:42:28.70168-06:00","labels":["fallback","optimade"],"dependencies":[{"issue_id":"crystalmath-7mw.16","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:53:03.568975-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.17","title":"[bug] HIGH: Fix cache integration mismatch between MaterialsService and CacheRepository","description":"[bug] HIGH: Fix cache integration mismatch between MaterialsService and CacheRepository","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-27T01:36:28.768682-06:00","updated_at":"2026-02-10T01:04:00.344685-06:00","closed_at":"2025-12-27T01:43:19.825723-06:00","labels":["bug","cache","high"],"dependencies":[{"issue_id":"crystalmath-7mw.17","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T01:36:28.770095-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.18","title":"[bug] MEDIUM: Address MPRester thread-safety in concurrent to_thread calls","description":"[bug] MEDIUM: Address MPRester thread-safety in concurrent to_thread calls","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T01:36:35.552939-06:00","updated_at":"2026-02-10T01:04:00.652365-06:00","closed_at":"2025-12-27T01:44:27.437961-06:00","labels":["bug","medium","thread-safety"],"dependencies":[{"issue_id":"crystalmath-7mw.18","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T01:36:35.553637-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.19","title":"[bug] MEDIUM: Fix OPTIMADE network errors being swallowed as empty results","description":"[bug] MEDIUM: Fix OPTIMADE network errors being swallowed as empty results","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T01:36:42.005584-06:00","updated_at":"2026-02-10T01:04:00.980034-06:00","closed_at":"2025-12-27T01:46:32.385528-06:00","labels":["bug","error-handling","medium"],"dependencies":[{"issue_id":"crystalmath-7mw.19","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T01:36:42.006461-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.2","title":"[mp4.2] Create materials_api module skeleton","description":"[mp4.2] Create materials_api module skeleton","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:50:36.775592-06:00","updated_at":"2026-02-10T01:04:01.269959-06:00","closed_at":"2025-12-27T01:35:09.075884-06:00","labels":["architecture","core"],"dependencies":[{"issue_id":"crystalmath-7mw.2","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:50:36.776417-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.20","title":"[task] LOW: Standardize cache key generation (SHA-256 vs MD5)","description":"[task] LOW: Standardize cache key generation (SHA-256 vs MD5)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T01:36:56.743523-06:00","updated_at":"2026-02-10T01:04:01.650563-06:00","closed_at":"2025-12-27T01:48:12.490145-06:00","labels":["low","refactor"],"dependencies":[{"issue_id":"crystalmath-7mw.20","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T01:36:56.744452-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.21","title":"[task] LOW: Add TTL/expiry to materials_structures and mpcontribs_cache tables","description":"[task] LOW: Add TTL/expiry to materials_structures and mpcontribs_cache tables","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T01:37:03.413813-06:00","updated_at":"2026-02-10T01:04:01.952521-06:00","closed_at":"2025-12-27T01:51:22.770434-06:00","labels":["cache","enhancement","low"],"dependencies":[{"issue_id":"crystalmath-7mw.21","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T01:37:03.414619-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.3","title":"[mp4.3] Implement settings.py with env var loading","description":"[mp4.3] Implement settings.py with env var loading","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:50:43.934535-06:00","updated_at":"2026-02-10T01:04:02.207577-06:00","closed_at":"2025-12-27T01:35:15.436558-06:00","labels":["config","core"],"dependencies":[{"issue_id":"crystalmath-7mw.3","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:50:43.93526-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.4","title":"[mp4.4] Add database migration V6 for materials cache tables","description":"[mp4.4] Add database migration V6 for materials cache tables","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:50:50.719832-06:00","updated_at":"2026-02-10T01:04:02.540892-06:00","closed_at":"2025-12-27T01:35:22.003338-06:00","labels":["database","schema"],"dependencies":[{"issue_id":"crystalmath-7mw.4","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:50:50.720565-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.5","title":"[mp4.5] Implement MP API async client wrapper","description":"[mp4.5] Implement MP API async client wrapper","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:51:14.473142-06:00","updated_at":"2026-02-10T01:04:02.870395-06:00","closed_at":"2025-12-27T01:35:28.495364-06:00","labels":["clients","mp-api"],"dependencies":[{"issue_id":"crystalmath-7mw.5","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:51:14.474207-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.6","title":"[mp4.6] Implement MPContribs async client wrapper","description":"[mp4.6] Implement MPContribs async client wrapper","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:51:21.243126-06:00","updated_at":"2026-02-10T01:04:03.25368-06:00","closed_at":"2025-12-27T01:35:35.809039-06:00","labels":["clients","mpcontribs"],"dependencies":[{"issue_id":"crystalmath-7mw.6","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:51:21.243988-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.7","title":"[mp4.7] Implement OPTIMADE native async client","description":"[mp4.7] Implement OPTIMADE native async client","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:51:28.661412-06:00","updated_at":"2026-02-10T01:04:03.496228-06:00","closed_at":"2025-12-27T01:35:52.933784-06:00","labels":["clients","optimade"],"dependencies":[{"issue_id":"crystalmath-7mw.7","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:51:28.662079-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.8","title":"[mp4.8] Implement cache repository with TTL logic","description":"[mp4.8] Implement cache repository with TTL logic","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:51:35.681621-06:00","updated_at":"2026-02-10T01:04:03.858129-06:00","closed_at":"2025-12-27T01:35:59.760035-06:00","labels":["cache","repository"],"dependencies":[{"issue_id":"crystalmath-7mw.8","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:51:35.682346-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7mw.9","title":"[mp4.9] Implement MaterialsService async orchestrator","description":"[mp4.9] Implement MaterialsService async orchestrator","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T00:51:58.385587-06:00","updated_at":"2026-02-10T01:04:04.114422-06:00","closed_at":"2025-12-27T01:36:06.403016-06:00","labels":["core","service"],"dependencies":[{"issue_id":"crystalmath-7mw.9","depends_on_id":"crystalmath-7mw","type":"parent-child","created_at":"2025-12-27T00:51:58.386962-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7o7","title":"Implement Connection Manager","description":"Implement Connection Manager","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-20T23:24:13.144331-06:00","updated_at":"2026-02-10T01:04:04.435117-06:00","closed_at":"2025-11-21T06:55:17.806431-06:00","labels":["core","phase-2","remote-execution"]}
{"id":"crystalmath-7r8","title":"[epic] Workflow Automation - Convergence, Phonons, Band Structure","notes":"PYTHON BACKEND COMPLETE. All workflow classes implemented.\n\n**Rust TUI (src/ui/workflows.rs):**\n- WorkflowState struct with open/close/navigation\n- WorkflowType enum (Convergence, Bands, Phonon, EOS)\n- Modal rendering with centered popup\n- Tests for state management\n\n**Status:** Python complete, Rust UI scaffolding complete.\n**Remaining:** Wire up bridge methods and keybindings to invoke workflows.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T15:13:45.786895-06:00","updated_at":"2026-02-08T12:48:25.503136-06:00","closed_at":"2026-02-08T12:48:25.503138-06:00","labels":["P1","automation","epic","workflow"]}
{"id":"crystalmath-7ta","title":"CRITICAL: Wire app_enhanced.py to QueueManager instead of direct LocalRunner","description":"CRITICAL: Wire app_enhanced.py to QueueManager instead of direct LocalRunner","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T19:08:27.235199-06:00","updated_at":"2026-02-10T01:04:04.730289-06:00","closed_at":"2025-12-24T09:29:32.71305-06:00"}
{"id":"crystalmath-7yd","title":"DFT-Agnostic TUI Architecture","description":"Transform the TUI from a CRYSTAL23-specific tool into a DFT-agnostic framework.\n\n## Goal\nCreate abstraction layer supporting CRYSTAL23 (fully implemented), Quantum Espresso, and VASP (stubs for future).\n\n## Scope\n- **TUI only** - CLI remains CRYSTAL23-specific\n- **Architecture first** - then existing Phase 1 issues fit naturally\n\n## Phases\n1. Phase 0: Architecture Foundation (4-6h)\n2. Phase 1: CRYSTAL23 Implementation (4-6h)\n3. Phase 2: Refactor Runners (8-12h)\n4. Phase 3: Database \u0026 UI Updates (4-6h)\n5. Phase 4: QE/VASP Stubs (2-4h)\n\n## Key Deliverables\n- New module: tui/src/core/codes/\n- DFTCodeConfig dataclass with file mappings, executables, parsers\n- OutputParser ABC with registry\n- Database migration: add dft_code column\n\n## Plan Reference\n~/.claude/plans/fluttering-beaming-lecun.md","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-10T19:13:11.536436-06:00","updated_at":"2025-12-11T19:44:41.099073-06:00","closed_at":"2025-12-11T19:44:41.099073-06:00","labels":["architecture","dft-agnostic","tui"]}
{"id":"crystalmath-7yd.1","title":"Phase 0: Architecture Foundation","description":"Phase 0: Architecture Foundation","status":"closed","priority":0,"issue_type":"task","estimated_minutes":300,"created_at":"2025-12-10T19:13:41.234636-06:00","updated_at":"2026-02-10T01:04:05.060708-06:00","closed_at":"2025-12-10T19:18:03.355008-06:00","labels":["architecture","phase-0"],"dependencies":[{"issue_id":"crystalmath-7yd.1","depends_on_id":"crystalmath-7yd","type":"parent-child","created_at":"2025-12-10T19:13:41.235759-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7yd.2","title":"Phase 1: CRYSTAL23 Implementation","description":"Phase 1: CRYSTAL23 Implementation","status":"closed","priority":0,"issue_type":"task","estimated_minutes":300,"created_at":"2025-12-10T19:13:47.489894-06:00","updated_at":"2026-02-10T01:04:05.452197-06:00","closed_at":"2025-12-10T19:23:09.584059-06:00","labels":["architecture","crystal","phase-1"],"dependencies":[{"issue_id":"crystalmath-7yd.2","depends_on_id":"crystalmath-7yd","type":"parent-child","created_at":"2025-12-10T19:13:47.490648-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-7yd.2","depends_on_id":"crystalmath-7yd.1","type":"blocks","created_at":"2025-12-10T19:14:23.475939-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7yd.3","title":"Phase 2: Refactor Runners","description":"Phase 2: Refactor Runners","status":"closed","priority":0,"issue_type":"task","estimated_minutes":600,"created_at":"2025-12-10T19:13:54.83337-06:00","updated_at":"2026-02-10T01:04:05.849773-06:00","closed_at":"2025-12-11T19:44:12.645698-06:00","labels":["architecture","phase-2","runners"],"dependencies":[{"issue_id":"crystalmath-7yd.3","depends_on_id":"crystalmath-7yd","type":"parent-child","created_at":"2025-12-10T19:13:54.834198-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-7yd.3","depends_on_id":"crystalmath-7yd.2","type":"blocks","created_at":"2025-12-10T19:14:28.6506-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7yd.4","title":"Phase 3: Database \u0026 UI Updates","description":"Phase 3: Database \u0026 UI Updates","status":"closed","priority":0,"issue_type":"task","estimated_minutes":300,"created_at":"2025-12-10T19:14:03.139273-06:00","updated_at":"2026-02-10T01:04:06.316371-06:00","closed_at":"2025-12-11T19:44:24.856392-06:00","labels":["architecture","database","phase-3","ui"],"dependencies":[{"issue_id":"crystalmath-7yd.4","depends_on_id":"crystalmath-7yd","type":"parent-child","created_at":"2025-12-10T19:14:03.140055-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-7yd.4","depends_on_id":"crystalmath-7yd.3","type":"blocks","created_at":"2025-12-10T19:14:33.791216-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-7yd.5","title":"Phase 4: QE/VASP Stubs","description":"Phase 4: QE/VASP Stubs","status":"closed","priority":1,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-10T19:14:09.910508-06:00","updated_at":"2026-02-10T01:04:06.701966-06:00","closed_at":"2025-12-11T19:44:29.98507-06:00","labels":["architecture","phase-4","qe","vasp"],"dependencies":[{"issue_id":"crystalmath-7yd.5","depends_on_id":"crystalmath-7yd","type":"parent-child","created_at":"2025-12-10T19:14:09.911177-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-7yd.5","depends_on_id":"crystalmath-7yd.2","type":"blocks","created_at":"2025-12-10T19:14:38.923697-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-877r","title":"Unify Remote Execution Visibility","description":"Bridge the gap between the local 'Jobs Pane' (tracked jobs) and the remote 'SLURM Queue' (live jobs). Currently, remote jobs submitted outside the TUI or not tracked are invisible in the main list. Goal: 1) Sync status of tracked remote jobs, 2) Allow adoption of untracked remote jobs.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-05T13:56:00.641476-06:00","updated_at":"2026-01-05T14:35:10.303783-06:00","closed_at":"2026-01-05T14:35:10.303786-06:00"}
{"id":"crystalmath-8bp","title":"Implement Workflow Orchestrator","description":"Implement Workflow Orchestrator","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-20T23:24:17.665121-06:00","updated_at":"2026-02-10T01:04:07.083978-06:00","closed_at":"2025-11-21T06:58:40.370695-06:00","labels":["orchestration","phase-2","workflow"]}
{"id":"crystalmath-8dm","title":"[epic] AI-Powered Features - LLM Diagnosis, NL Input","description":"[epic] AI-Powered Features - LLM Diagnosis, NL Input","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:14:12.515038-06:00","updated_at":"2026-02-10T01:04:07.361103-06:00","closed_at":"2026-01-05T17:13:28.983579-06:00","labels":["P2","ai","epic","llm"],"dependencies":[{"issue_id":"crystalmath-8dm","depends_on_id":"crystalmath-11q0","type":"related","created_at":"2026-01-05T17:13:19.121717-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-8ft","title":"Rename TUI package and update imports/entry points","description":"Rename TUI package and update imports/entry points","status":"closed","priority":3,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-27T00:16:05.77101-06:00","updated_at":"2026-02-10T01:04:07.623142-06:00","closed_at":"2025-12-27T12:23:01.599935-06:00","dependencies":[{"issue_id":"crystalmath-8ft","depends_on_id":"crystalmath-c6e","type":"parent-child","created_at":"2025-12-27T00:16:14.78704-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-8ft","depends_on_id":"crystalmath-93y","type":"blocks","created_at":"2025-12-27T01:30:01.705168-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-8g06","title":"[epic] Code Quality \u0026 Architecture Improvements (2026 Review)","notes":"Main finding (thick bridge pattern) resolved in PR #3 with JSON-RPC IPC migration. Low-priority sub-tasks (54ly, 6195) closed as won't-fix.","status":"closed","priority":1,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-01-27T12:03:30.412001-06:00","created_by":"TheFermiSea","updated_at":"2026-02-08T14:12:53.993552-06:00","closed_at":"2026-02-08T14:12:53.993556-06:00","labels":["architecture","code-review","ipc","security"]}
{"id":"crystalmath-8gv","title":"Implement Workflow DAG System","description":"Implement Workflow DAG System","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-20T23:24:16.826449-06:00","updated_at":"2026-02-10T01:04:07.877339-06:00","closed_at":"2025-11-21T06:59:03.173954-06:00","labels":["core","phase-2","workflow"]}
{"id":"crystalmath-8so","title":"Improve observability in background loops","description":"Improve observability in background loops","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T12:15:30.779865-06:00","updated_at":"2026-02-10T01:04:08.224292-06:00","closed_at":"2025-11-23T14:59:55.837371-06:00","labels":["logging","observability","phase-2"]}
{"id":"crystalmath-90ze","title":"[cs5.3] Cost Estimation Dashboard - pre-submission estimates","description":"Estimate job cost before submission based on: node hours, spot vs on-demand, storage. Historical cost tracking. Budget alerts.","notes":"Consolidated into parent epic dgg. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:17:16.105468-06:00","updated_at":"2026-02-08T14:13:22.744654-06:00","closed_at":"2026-02-08T14:13:22.744657-06:00","labels":["analytics","cloud","cost"]}
{"id":"crystalmath-92rw","title":"MVP Vertical Slice: HighThroughput.from_mp() → atomate2 → Results","status":"closed","priority":1,"issue_type":"feature","owner":"squires.b@gmail.com","created_at":"2026-02-10T08:27:01.899723-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T08:36:56.415013-06:00","closed_at":"2026-02-10T08:36:56.415013-06:00","close_reason":"MVP vertical slice implemented: 4-agent plan completed. All 147 tests pass (12 skipped). atomate2_bridge dual-path submit/result, SQLiteJobStore CRUD, HighThroughput.from_mp/run_standard_analysis, WorkflowBuilder.build, get_runner factory, TUI materials enrichment, and E2E test coverage."}
{"id":"crystalmath-93y","title":"Assess TUI package rename impact and target namespace","description":"Assess TUI package rename impact and target namespace","status":"closed","priority":3,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-27T00:15:35.039429-06:00","updated_at":"2026-02-10T01:04:08.768907-06:00","closed_at":"2025-12-27T12:23:01.60096-06:00","dependencies":[{"issue_id":"crystalmath-93y","depends_on_id":"crystalmath-c6e","type":"parent-child","created_at":"2025-12-27T00:15:48.46081-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-9kt","title":"SECURITY: Enable SSH host key verification","description":"SECURITY: Enable SSH host key verification","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-21T08:07:43.789762-06:00","updated_at":"2026-02-10T01:04:09.16144-06:00","closed_at":"2025-11-21T13:02:18.615751-06:00","labels":["critical","phase-2","remote-execution","security"]}
{"id":"crystalmath-a2j","title":"Implement lib/cry-exec.sh","description":"Implement lib/cry-exec.sh","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.919546-06:00","updated_at":"2026-02-10T01:04:09.544241-06:00","closed_at":"2025-11-19T20:56:48.771185-06:00","dependencies":[{"issue_id":"crystalmath-a2j","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:50.041441-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-a2j","depends_on_id":"crystalmath-7e1","type":"blocks","created_at":"2025-11-19T20:36:50.548204-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-a2j","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.163205-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-a9n","title":"Implement SLURM Runner for batch submission","description":"Implement SLURM Runner for batch submission","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-20T23:24:08.923256-06:00","updated_at":"2026-02-10T01:04:10.124705-06:00","closed_at":"2025-11-21T06:55:36.923725-06:00","labels":["phase-2","remote-execution","slurm"]}
{"id":"crystalmath-a9zr","title":"[co6.1] Multi-User Project Workspaces - shared team projects","description":"Shared project directories with access control. SQLite → PostgreSQL migration for multi-user. Git-like history for input file changes. Team dashboards.","notes":"Consolidated into parent epic gh8. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:17:34.743572-06:00","updated_at":"2026-02-08T14:13:24.509758-06:00","closed_at":"2026-02-08T14:13:24.509765-06:00","labels":["collaboration","multi-user","workspaces"]}
{"id":"crystalmath-ae6","title":"[epic] Runner Correctness \u0026 Data Safety Sprint","description":"[epic] Runner Correctness \u0026 Data Safety Sprint","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T09:29:40.188636-06:00","updated_at":"2026-02-10T01:04:10.516249-06:00","closed_at":"2025-12-22T19:07:43.127323-06:00","labels":["critical","phase-2","runners","sprint"]}
{"id":"crystalmath-ae6.1","title":"[task] CRITICAL: Fix orchestrator atexit cleanup data loss","description":"[task] CRITICAL: Fix orchestrator atexit cleanup data loss","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T09:30:38.91687-06:00","updated_at":"2026-02-10T01:04:10.885464-06:00","closed_at":"2025-12-22T18:04:46.349174-06:00","labels":["critical","data-loss","orchestrator"],"dependencies":[{"issue_id":"crystalmath-ae6.1","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:30:38.91757-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":10,"issue_id":"crystalmath-ae6.1","author":"briansquires","text":"Fixed: Changed _work_dirs from Set to Dict mapping work_dir -\u003e workflow_id. Updated _cleanup_work_dirs to only clean directories for workflows in terminal state (COMPLETED, FAILED, CANCELLED). Running workflow directories are now preserved.","created_at":"2025-12-22T15:49:11Z"}]}
{"id":"crystalmath-ae6.10","title":"[task] Update project documentation (CLAUDE.md, AGENTS.md)","description":"[task] Update project documentation (CLAUDE.md, AGENTS.md)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T09:33:32.456198-06:00","updated_at":"2026-02-10T01:04:11.272173-06:00","closed_at":"2025-12-22T18:04:46.354874-06:00","labels":["blocked","documentation"],"dependencies":[{"issue_id":"crystalmath-ae6.10","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:33:32.456931-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":22,"issue_id":"crystalmath-ae6.10","author":"briansquires","text":"Updated CLAUDE.md with ae6 sprint changes (runner safety section, orchestrator features, project status). Updated GEMINI.md to reflect Phase 2 complete status and remove outdated security warnings. AGENTS.md unchanged (no workflow pattern changes).","created_at":"2025-12-22T16:19:04Z"}]}
{"id":"crystalmath-ae6.11","title":"[bug] CRITICAL: LocalRunner _last_result race condition still exists","description":"[bug] CRITICAL: LocalRunner _last_result race condition still exists","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:09:11.948749-06:00","updated_at":"2026-02-10T01:04:11.801168-06:00","closed_at":"2025-12-22T18:04:46.355234-06:00","labels":["P0","bug","critical"],"dependencies":[{"issue_id":"crystalmath-ae6.11","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T10:09:11.950014-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":18,"issue_id":"crystalmath-ae6.11","author":"briansquires","text":"Fixed race condition by yielding JobResult as final item from run_job() and capturing it directly in _run_job_task() instead of reading shared _last_result. All 27 LocalRunner tests pass.","created_at":"2025-12-22T16:11:27Z"}]}
{"id":"crystalmath-ae6.12","title":"[bug] Remote runner concurrency limits only throttle submissions","description":"[bug] Remote runner concurrency limits only throttle submissions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:09:26.1432-06:00","updated_at":"2026-02-10T01:04:12.150727-06:00","closed_at":"2025-12-22T19:07:49.777073-06:00","labels":["P1","bug","high"],"dependencies":[{"issue_id":"crystalmath-ae6.12","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T10:09:26.144339-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":20,"issue_id":"crystalmath-ae6.12","author":"briansquires","text":"Cross-validation finding: SSH/SLURM runners release semaphore after submission, not job completion. This is by design for SLURM (cluster scheduler manages concurrency), but problematic for SSHRunner. Proper fix requires QueueManager to track active job count or a background monitor. Deferring to Phase 4 as architectural improvement - current behavior is submission throttling, not execution limiting.","created_at":"2025-12-22T16:11:50Z"},{"id":21,"issue_id":"crystalmath-ae6.12","author":"briansquires","text":"Transferred to independent issue crystalmath-wlb for Phase 4. Closing this task.","created_at":"2025-12-22T16:17:42Z"}]}
{"id":"crystalmath-ae6.13","title":"[bug] Output parsers read wrong filename (job.out vs output{ext})","description":"[bug] Output parsers read wrong filename (job.out vs output{ext})","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:09:32.737969-06:00","updated_at":"2026-02-10T01:04:12.495232-06:00","closed_at":"2025-12-22T18:04:46.355748-06:00","labels":["P1","bug","medium"],"dependencies":[{"issue_id":"crystalmath-ae6.13","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T10:09:32.739037-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":19,"issue_id":"crystalmath-ae6.13","author":"briansquires","text":"Fixed by adding _find_output_file() helper that searches for output.d12, output.out, output.log, job.out, and *.out patterns. All 10 parser tests pass.","created_at":"2025-12-22T16:11:33Z"}]}
{"id":"crystalmath-ae6.2","title":"[task] Fix LocalRunner result isolation and exception propagation","description":"[task] Fix LocalRunner result isolation and exception propagation","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T09:30:51.673724-06:00","updated_at":"2026-02-10T01:04:12.892205-06:00","closed_at":"2025-12-22T18:04:46.35051-06:00","labels":["high","local","runners"],"dependencies":[{"issue_id":"crystalmath-ae6.2","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:30:51.674414-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":11,"issue_id":"crystalmath-ae6.2","author":"briansquires","text":"Fixed: Added per-job result storage (_job_results, _job_errors dicts), updated _run_job_task to store results/exceptions per handle, updated get_status() to use per-job results instead of global _last_result. Added get_job_result() and get_job_error() methods.","created_at":"2025-12-22T15:49:17Z"}]}
{"id":"crystalmath-ae6.3","title":"[task] Fix LocalRunner output file name mismatch in streaming","description":"[task] Fix LocalRunner output file name mismatch in streaming","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T09:31:22.684615-06:00","updated_at":"2026-02-10T01:04:13.382212-06:00","closed_at":"2025-12-22T18:04:46.35117-06:00","labels":["high","local","runners","streaming"],"dependencies":[{"issue_id":"crystalmath-ae6.3","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:31:22.68528-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":12,"issue_id":"crystalmath-ae6.3","author":"briansquires","text":"Fixed: Changed get_output() to tail 'output{ext}' instead of 'input{ext}' to match the filename used by run_job() when writing output.","created_at":"2025-12-22T15:49:24Z"}]}
{"id":"crystalmath-ae6.4","title":"[task] Fix BaseRunner cleanup to terminate active subprocesses","description":"[task] Fix BaseRunner cleanup to terminate active subprocesses","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T09:31:28.797045-06:00","updated_at":"2026-02-10T01:04:13.682012-06:00","closed_at":"2025-12-22T18:04:46.351989-06:00","labels":["base","cleanup","high","runners"],"dependencies":[{"issue_id":"crystalmath-ae6.4","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:31:28.797691-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":13,"issue_id":"crystalmath-ae6.4","author":"briansquires","text":"Fixed: Added cleanup() override in LocalRunner that terminates all active subprocesses (SIGTERM then SIGKILL after 5s timeout) before calling parent cleanup(). Also clears job result/error tracking dicts.","created_at":"2025-12-22T15:49:31Z"}]}
{"id":"crystalmath-ae6.5","title":"[task] Complete BaseRunner abstract method implementations","description":"[task] Complete BaseRunner abstract method implementations","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T09:31:35.3775-06:00","updated_at":"2026-02-10T01:04:14.119199-06:00","closed_at":"2025-12-22T18:04:46.352695-06:00","labels":["api-contract","base","high","runners"],"dependencies":[{"issue_id":"crystalmath-ae6.5","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:31:35.378246-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":15,"issue_id":"crystalmath-ae6.5","author":"briansquires","text":"Implemented retrieve_results() in LocalRunner with proper file copying from work_dir to dest. Uses code_config.auxiliary_outputs for file patterns. Includes:\n- Main output file copying (output.out)\n- Auxiliary output files (fort.9, fort.98, HESSOPT.DAT, OPTINFO.DAT, FREQINFO.DAT, fort.25)\n- Graceful error handling for missing files\n- Logging for all file operations\n- Respects cleanup parameter with config defaults\n- Handles same-directory edge case (work_dir == dest)","created_at":"2025-12-22T15:50:29Z"}]}
{"id":"crystalmath-ae6.6","title":"[task] Enforce concurrency limits in runners","description":"[task] Enforce concurrency limits in runners","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T09:31:42.008216-06:00","updated_at":"2026-02-10T01:04:14.526913-06:00","closed_at":"2025-12-22T18:04:46.353177-06:00","labels":["concurrency","medium","runners"],"dependencies":[{"issue_id":"crystalmath-ae6.6","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:31:42.00899-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":16,"issue_id":"crystalmath-ae6.6","author":"briansquires","text":"Added semaphore-based concurrency limiting to submit_job() in LocalRunner, SSHRunner, and SLURMRunner. All runners now respect max_concurrent_jobs setting.","created_at":"2025-12-22T15:50:50Z"}]}
{"id":"crystalmath-ae6.7","title":"[task] Fix SSHRunner status type mismatch","description":"[task] Fix SSHRunner status type mismatch","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T09:31:48.93485-06:00","updated_at":"2026-02-10T01:04:14.890069-06:00","closed_at":"2025-12-22T18:04:46.353624-06:00","labels":["medium","runners","ssh","typing"],"dependencies":[{"issue_id":"crystalmath-ae6.7","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:31:48.935532-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":14,"issue_id":"crystalmath-ae6.7","author":"briansquires","text":"Fixed status type mismatches in SSHRunner. All status assignments now use JobStatus enum instead of strings. Changed lines 410 and 419 in ssh_runner.py from 'cancelled' (string) to JobStatus.CANCELLED (enum). Verified all other runners (SLURMRunner, LocalRunner) already use proper enum types.","created_at":"2025-12-22T15:50:18Z"}]}
{"id":"crystalmath-ae6.8","title":"[task] Implement custom output parsers","description":"[task] Implement custom output parsers","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T09:31:55.455761-06:00","updated_at":"2026-02-10T01:04:15.132597-06:00","closed_at":"2025-12-22T18:04:46.354071-06:00","labels":["feature","orchestrator","parsers"],"dependencies":[{"issue_id":"crystalmath-ae6.8","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:31:55.456344-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":17,"issue_id":"crystalmath-ae6.8","author":"briansquires","text":"Implemented custom output parser registry in WorkflowOrchestrator. Added register_parser(), _get_output_parser() methods and example parsers for energy, bandgap, and lattice extraction. Updated _extract_node_results() to apply registered parsers with graceful error handling. All 10 tests passing.","created_at":"2025-12-22T15:51:53Z"}]}
{"id":"crystalmath-ae6.9","title":"[task] Cross-validate epic completion with Codex/Gemini","description":"[task] Cross-validate epic completion with Codex/Gemini","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T09:33:26.398413-06:00","updated_at":"2026-02-10T01:04:15.406397-06:00","closed_at":"2025-12-22T18:04:46.354501-06:00","labels":["blocked","quality","validation"],"dependencies":[{"issue_id":"crystalmath-ae6.9","depends_on_id":"crystalmath-ae6","type":"parent-child","created_at":"2025-12-22T09:33:26.399085-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-am9","title":"Remove .bak backup scripts from cli/lib","description":"Remove .bak backup scripts from cli/lib","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T12:15:45.134755-06:00","updated_at":"2026-02-10T01:04:15.71126-06:00","closed_at":"2025-11-23T14:59:49.304451-06:00","labels":["cleanup","cli","maintainability"]}
{"id":"crystalmath-as6l","title":"Resolve TUI Identity Crisis + Core Unification","description":"Consolidate UI direction with Python/Textual as primary TUI while retaining Rust/Ratatui as a secondary/experimental front-end. Establish a shared core library, unify templates and dependency management, and set a roadmap for optional AiiDA integration without forcing heavy dependencies.","design":"Decision locked: Python Textual is primary UI for feature development and user workflows. Rust Ratatui remains secondary/experimental and should only evolve behind a stable IPC boundary (no new PyO3 coupling). Core boundaries: input generation, job state, runners, parsers, and DB access in Python core. Prefer phased migration and compatibility shims.","acceptance_criteria":"ADR committed stating Python TUI is primary and Rust TUI is secondary; README/CLAUDE updated; migration plan and dependencies captured as child issues; deprecation/maintenance policy for Rust TUI documented.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-05T20:38:03.134697-06:00","updated_at":"2026-01-27T12:22:53.827721-06:00","closed_at":"2026-01-27T12:22:53.827721-06:00","close_reason":"TUI architecture resolved (16/18 tasks). ADRs published, Python TUI primary, Rust secondary. Remaining: Python CLI (optional), library evaluation (P3).","labels":["architecture","epic","refactor"]}
{"id":"crystalmath-as6l.1","title":"ADR: choose Python Textual as primary TUI","description":"ADR: choose Python Textual as primary TUI","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-05T20:38:30.220351-06:00","updated_at":"2026-02-10T01:04:16.064623-06:00","closed_at":"2026-01-05T20:51:39.980357-06:00","labels":["architecture","decision"],"dependencies":[{"issue_id":"crystalmath-as6l.1","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:38:30.221234-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.10","title":"Implement dual-backend adapter (SQLite vs AiiDA)","description":"Implement dual-backend adapter (SQLite vs AiiDA)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T20:40:37.122206-06:00","updated_at":"2026-02-10T01:04:16.410469-06:00","closed_at":"2026-01-05T22:43:56.122715-06:00","labels":["aiida","architecture","backend"],"dependencies":[{"issue_id":"crystalmath-as6l.10","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:40:37.122883-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.10","depends_on_id":"crystalmath-as6l.5","type":"blocks","created_at":"2026-01-05T20:43:42.184873-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.11","title":"Define IPC boundary for Rust TUI (secondary)","description":"Define IPC boundary for Rust TUI (secondary)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T20:40:47.580172-06:00","updated_at":"2026-02-10T01:04:16.702535-06:00","closed_at":"2026-01-05T22:14:43.48584-06:00","labels":["architecture","ipc","rust"],"dependencies":[{"issue_id":"crystalmath-as6l.11","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:40:47.580927-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.11","depends_on_id":"crystalmath-as6l.1","type":"blocks","created_at":"2026-01-05T20:43:52.636539-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.12","title":"Editor/LSP strategy + upstream integration","description":"Editor/LSP strategy + upstream integration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T20:40:58.697096-06:00","updated_at":"2026-02-10T01:04:16.961357-06:00","closed_at":"2026-01-05T22:29:47.229171-06:00","labels":["editor","lsp"],"dependencies":[{"issue_id":"crystalmath-as6l.12","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:40:58.697805-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.12","depends_on_id":"crystalmath-as6l.1","type":"blocks","created_at":"2026-01-05T20:44:00.919625-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.13","title":"Evaluate external runner \u0026 parser libraries (Fabric/Submitit/ASE/Pymatgen)","description":"Assess replacing custom SSH/Slurm and parsing logic with proven libraries (Fabric or ParallelSSH; Submitit for Slurm; ASE/Pymatgen for parsing).","design":"Run a spike comparing API fit, async behavior, and dependency footprint. Identify minimal integration path and migration plan.","acceptance_criteria":"Decision doc with chosen libraries (or justification to keep custom); follow-up integration tasks created if adopted.","notes":"Parent epic as6l closed. Library evaluation deferred indefinitely.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-05T20:41:10.163298-06:00","updated_at":"2026-02-08T14:13:01.088745-06:00","closed_at":"2026-02-08T14:13:01.088748-06:00","labels":["architecture","deps"],"dependencies":[{"issue_id":"crystalmath-as6l.13","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:41:10.16401-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.14","title":"Refactor Python TUI to consume python/crystalmath core","description":"Refactor Python TUI to consume python/crystalmath core","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T21:02:02.076482-06:00","updated_at":"2026-02-10T01:04:17.2976-06:00","closed_at":"2026-01-05T22:32:02.463619-06:00","labels":["python","refactor","tui"],"dependencies":[{"issue_id":"crystalmath-as6l.14","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T21:02:02.077485-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.14","depends_on_id":"crystalmath-as6l.5","type":"blocks","created_at":"2026-01-05T21:02:12.29855-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.15","title":"Move JSON serialization to Rust adapter (rust_bridge)","description":"Move JSON serialization to Rust adapter (rust_bridge)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T21:14:16.012792-06:00","updated_at":"2026-02-10T01:04:17.666595-06:00","closed_at":"2026-01-05T22:31:52.49588-06:00","labels":["bridge","core","python"],"dependencies":[{"issue_id":"crystalmath-as6l.15","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T21:14:16.015691-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.15","depends_on_id":"crystalmath-as6l.5","type":"blocks","created_at":"2026-01-05T21:14:27.049748-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.16","title":"Remove legacy Rust LSP implementation","description":"Remove legacy Rust LSP implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T21:14:39.82483-06:00","updated_at":"2026-02-10T01:04:18.045483-06:00","closed_at":"2026-01-05T22:30:02.12499-06:00","labels":["cleanup","lsp","rust"],"dependencies":[{"issue_id":"crystalmath-as6l.16","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T21:14:39.827003-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.16","depends_on_id":"crystalmath-as6l.11","type":"blocks","created_at":"2026-01-05T21:14:50.983551-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.17","title":"Centralize configuration across CLI and Python core","description":"Centralize configuration across CLI and Python core","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T21:17:29.758867-06:00","updated_at":"2026-02-10T01:04:18.359367-06:00","closed_at":"2026-01-05T22:33:29.799986-06:00","labels":["config","core"],"dependencies":[{"issue_id":"crystalmath-as6l.17","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T21:17:29.760429-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.18","title":"Freeze Rust TUI feature work until IPC is defined","description":"Freeze Rust TUI feature work until IPC is defined","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T21:17:43.333696-06:00","updated_at":"2026-02-10T01:04:18.68673-06:00","closed_at":"2026-01-05T22:15:37.060244-06:00","labels":["policy","rust"],"dependencies":[{"issue_id":"crystalmath-as6l.18","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T21:17:43.334843-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.18","depends_on_id":"crystalmath-as6l.11","type":"blocks","created_at":"2026-01-05T21:17:53.434128-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.19","title":"Add tui -\u003e python core editable dependency","description":"Add tui -\u003e python core editable dependency","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T21:18:05.971879-06:00","updated_at":"2026-02-10T01:04:18.947299-06:00","closed_at":"2026-01-05T22:32:13.800771-06:00","labels":["python","tooling","tui"],"dependencies":[{"issue_id":"crystalmath-as6l.19","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T21:18:05.973768-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.19","depends_on_id":"crystalmath-as6l.5","type":"blocks","created_at":"2026-01-05T21:18:14.831937-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.2","title":"Publish Rust TUI secondary/experimental policy","description":"Publish Rust TUI secondary/experimental policy","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T20:38:46.824753-06:00","updated_at":"2026-02-10T01:04:19.268413-06:00","closed_at":"2026-01-05T22:11:22.651503-06:00","labels":["deprecation","docs"],"dependencies":[{"issue_id":"crystalmath-as6l.2","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:38:46.825624-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.2","depends_on_id":"crystalmath-as6l.1","type":"blocks","created_at":"2026-01-05T20:41:57.493183-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.3","title":"Define target repo layout + migration plan","description":"Define target repo layout + migration plan","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T20:39:13.844695-06:00","updated_at":"2026-02-10T01:04:19.563593-06:00","closed_at":"2026-01-05T21:28:54.426538-06:00","labels":["architecture","refactor"],"dependencies":[{"issue_id":"crystalmath-as6l.3","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:39:13.845395-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.3","depends_on_id":"crystalmath-as6l.1","type":"blocks","created_at":"2026-01-05T20:42:31.726036-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.4","title":"Execute repo restructuring (move sources to target layout)","description":"Execute repo restructuring (move sources to target layout)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T20:39:25.390613-06:00","updated_at":"2026-02-10T01:04:19.853629-06:00","closed_at":"2026-01-05T22:37:05.531757-06:00","labels":["refactor","repo"],"dependencies":[{"issue_id":"crystalmath-as6l.4","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:39:25.391289-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.4","depends_on_id":"crystalmath-as6l.3","type":"blocks","created_at":"2026-01-05T20:42:41.729721-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.5","title":"Extract shared Python core library","description":"Extract shared Python core library","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T20:39:38.027623-06:00","updated_at":"2026-02-10T01:04:20.099337-06:00","closed_at":"2026-01-05T22:31:41.613535-06:00","labels":["core","python","refactor"],"dependencies":[{"issue_id":"crystalmath-as6l.5","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:39:38.028457-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.5","depends_on_id":"crystalmath-as6l.3","type":"blocks","created_at":"2026-01-05T20:42:52.387264-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.6","title":"Centralize DFT templates in core","description":"Centralize DFT templates in core","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T20:39:51.742641-06:00","updated_at":"2026-02-10T01:04:20.410216-06:00","closed_at":"2026-01-05T22:55:10.540411-06:00","labels":["core","templates"],"dependencies":[{"issue_id":"crystalmath-as6l.6","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:39:51.743503-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.6","depends_on_id":"crystalmath-as6l.5","type":"blocks","created_at":"2026-01-05T20:43:02.097031-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.7","title":"Unify Python dependency management (uv workspace)","description":"Unify Python dependency management (uv workspace)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T20:40:02.10054-06:00","updated_at":"2026-02-10T01:04:20.631762-06:00","closed_at":"2026-01-05T23:03:40.080759-06:00","labels":["python","tooling"],"dependencies":[{"issue_id":"crystalmath-as6l.7","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:40:02.101356-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.7","depends_on_id":"crystalmath-as6l.3","type":"blocks","created_at":"2026-01-05T20:43:11.079692-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.8","title":"Replace Bash CLI with Python CLI wrapper","description":"Deprecate the Bash CLI by creating a Python CLI (Typer/Click) that calls the shared core library. Preserve current command UX where possible.","design":"Map existing CLI commands to core API calls; add a compatibility shim or adapter for critical flags. Provide migration docs and mark bash CLI as legacy.","acceptance_criteria":"Python CLI supports core workflows (submit, explain/dry-run, status); bash CLI marked deprecated; parity tests or acceptance tests added.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T20:40:15.075174-06:00","updated_at":"2026-02-08T12:48:28.721048-06:00","closed_at":"2026-02-08T12:48:28.721051-06:00","labels":["cli","python"],"dependencies":[{"issue_id":"crystalmath-as6l.8","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:40:15.075938-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.8","depends_on_id":"crystalmath-as6l.5","type":"blocks","created_at":"2026-01-05T20:43:22.022792-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as6l.9","title":"Enable SQLite WAL + concurrency tuning","description":"Enable SQLite WAL + concurrency tuning","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T20:40:26.503169-06:00","updated_at":"2026-02-10T01:04:20.880569-06:00","closed_at":"2026-01-05T22:45:51.382566-06:00","labels":["database","performance"],"dependencies":[{"issue_id":"crystalmath-as6l.9","depends_on_id":"crystalmath-as6l","type":"parent-child","created_at":"2026-01-05T20:40:26.503844-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-as6l.9","depends_on_id":"crystalmath-as6l.5","type":"blocks","created_at":"2026-01-05T20:43:32.811241-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-as9","title":"Create BaseRunner abstract interface","description":"Create BaseRunner abstract interface","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-20T23:24:10.269958-06:00","updated_at":"2026-02-10T01:04:21.205466-06:00","closed_at":"2025-11-21T06:56:03.252796-06:00","labels":["architecture","phase-2","remote-execution"]}
{"id":"crystalmath-awi","title":"Add Input File Preview","description":"Add Input File Preview","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-20T19:20:28.769112-06:00","updated_at":"2026-02-10T01:04:21.470098-06:00","closed_at":"2025-11-20T23:25:21.403257-06:00","labels":["mvp","phase-1","ui"]}
{"id":"crystalmath-b42","title":"HIGH: Fix _last_result race condition in concurrent job execution","description":"HIGH: Fix _last_result race condition in concurrent job execution","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T19:08:39.543084-06:00","updated_at":"2026-02-10T01:04:21.739307-06:00","closed_at":"2025-12-22T19:16:56.187499-06:00"}
{"id":"crystalmath-b8j","title":"TUI Core Refactoring \u0026 Hardening","description":"TUI Core Refactoring \u0026 Hardening","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T13:29:08.185845-06:00","updated_at":"2026-02-10T01:04:21.98244-06:00","closed_at":"2025-12-27T12:22:55.257448-06:00","dependencies":[{"issue_id":"crystalmath-b8j","depends_on_id":"crystalmath-7dl","type":"blocks","created_at":"2025-12-17T13:30:17.792363-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-b8j","depends_on_id":"crystalmath-c6z","type":"blocks","created_at":"2025-12-17T13:30:22.895045-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-b8j","depends_on_id":"crystalmath-7cp","type":"blocks","created_at":"2025-12-17T13:30:27.977531-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-b8j","depends_on_id":"crystalmath-cmy","type":"blocks","created_at":"2025-12-17T13:30:33.149249-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-b8j","depends_on_id":"crystalmath-w1w","type":"blocks","created_at":"2025-12-17T14:31:28.328453-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-b8j","depends_on_id":"crystalmath-6fm","type":"blocks","created_at":"2025-12-17T14:31:33.457253-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-b8j","depends_on_id":"crystalmath-4x0","type":"blocks","created_at":"2025-12-17T14:31:38.58959-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-be3","title":"Implement lib/cry-ui.sh (visual components)","description":"Implement lib/cry-ui.sh (visual components)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.777197-06:00","updated_at":"2026-02-10T01:04:22.29192-06:00","closed_at":"2025-11-19T20:57:16.162002-06:00","dependencies":[{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-3cv","type":"blocks","created_at":"2025-11-19T20:36:49.693572-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-hyl","type":"blocks","created_at":"2025-11-19T20:36:49.737708-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-ib2","type":"blocks","created_at":"2025-11-19T20:36:49.784108-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-a2j","type":"blocks","created_at":"2025-11-19T20:36:49.831244-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-wwa","type":"blocks","created_at":"2025-11-19T20:36:49.853996-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:49.945857-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-pq3","type":"blocks","created_at":"2025-11-19T20:36:50.202927-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-7e1","type":"blocks","created_at":"2025-11-19T20:36:50.454496-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-be3","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.05997-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-biph","title":"Phase 2: Untracked Job Adoption","description":"Phase 2: Untracked Job Adoption","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T13:56:10.905915-06:00","updated_at":"2026-02-10T01:04:22.575671-06:00","closed_at":"2026-01-05T14:35:20.552394-06:00","dependencies":[{"issue_id":"crystalmath-biph","depends_on_id":"crystalmath-877r","type":"parent-child","created_at":"2026-01-05T13:56:43.537564-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-bj8","title":"Implement Template System with Jinja2","description":"Implement Template System with Jinja2","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-20T23:24:18.403006-06:00","updated_at":"2026-02-10T01:04:22.891217-06:00","closed_at":"2025-11-21T06:58:01.423995-06:00","labels":["core","phase-2","templates"]}
{"id":"crystalmath-bl5","title":"Resolve unused CLI helper stubs (stage/parallel)","description":"Resolve unused CLI helper stubs (stage/parallel)","status":"closed","priority":3,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-27T00:08:22.207434-06:00","updated_at":"2026-02-10T01:04:23.137423-06:00","closed_at":"2025-12-30T08:27:16.638698-06:00","dependencies":[{"issue_id":"crystalmath-bl5","depends_on_id":"crystalmath-ewo","type":"parent-child","created_at":"2025-12-27T00:09:27.761963-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-bo31","title":"Workflow Results Visualization","description":"Collect results and generate visualizations for completed workflows.\n\n## Scope\n- Parse energies/properties from job outputs\n- Update workflow state with results\n- Generate appropriate visualization:\n  - Convergence: ASCII energy vs parameter plot\n  - Band Structure: band diagram (may need external tool)\n  - Phonon: dispersion (may need external tool)\n  - EOS: E-V curve with fit parameters\n\n## Technical\n- Backend: `update_*_workflow_json` methods exist\n- Results parsing from CRYSTAL/VASP output\n- TUI: ASCII plots using ratatui or custom\n- Consider export to matplotlib for publication plots\n\n## Acceptance\n- [ ] Energies extracted from completed jobs\n- [ ] Convergence shows converged value\n- [ ] EOS shows fitted parameters (B0, V0, E0)","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-02T22:35:24.615479-06:00","created_by":"TheFermiSea","updated_at":"2026-02-03T00:47:09.767042-06:00","closed_at":"2026-02-03T00:47:09.767046-06:00","dependencies":[{"issue_id":"crystalmath-bo31","depends_on_id":"crystalmath-4p01","type":"blocks","created_at":"2026-02-02T22:35:33.867003-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-byg","title":"[ct3.6] Implement VASP Benchmarking Integration","description":"[ct3.6] Implement VASP Benchmarking Integration","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T03:04:06.586848-06:00","updated_at":"2026-02-10T01:04:23.467487-06:00","closed_at":"2025-12-28T11:28:52.616199-06:00"}
{"id":"crystalmath-c0p","title":"[se2.1] Surface Slab Generator - Miller indices, layers, vacuum","description":"Rust UI modal for slab parameters (Miller index, layers, vacuum thickness, symmetric, termination). pymatgen SlabGenerator backend. Preview in 3D viewer.","notes":"Consolidated into parent epic 7k7. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:15:22.489528-06:00","updated_at":"2026-02-08T14:13:17.332711-06:00","closed_at":"2026-02-08T14:13:17.332714-06:00","labels":["pymatgen","structures","surfaces"]}
{"id":"crystalmath-c4r","title":"Define CLI failure-handling behavior and acceptance criteria","description":"Define CLI failure-handling behavior and acceptance criteria","status":"closed","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-27T00:10:04.638889-06:00","updated_at":"2026-02-10T01:04:23.699283-06:00","closed_at":"2025-12-30T08:08:27.134013-06:00","dependencies":[{"issue_id":"crystalmath-c4r","depends_on_id":"crystalmath-0az","type":"parent-child","created_at":"2025-12-27T00:10:17.217035-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-c6e","title":"Clarify TUI package namespace (avoid 'src' collisions)","description":"Clarify TUI package namespace (avoid 'src' collisions)","status":"closed","priority":3,"issue_type":"task","estimated_minutes":240,"created_at":"2025-12-27T00:08:45.244112-06:00","updated_at":"2026-02-10T01:04:23.926634-06:00","closed_at":"2025-12-27T12:23:01.601545-06:00","dependencies":[{"issue_id":"crystalmath-c6e","depends_on_id":"crystalmath-ewo","type":"parent-child","created_at":"2025-12-27T00:09:49.240498-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-c6z","title":"Extract Common Remote Runner Logic","description":"Extract Common Remote Runner Logic","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T13:29:39.671478-06:00","updated_at":"2026-02-10T01:04:24.185746-06:00","closed_at":"2025-12-17T18:40:40.149197-06:00"}
{"id":"crystalmath-cmy","title":"Normalize Database Job Model","description":"Normalize Database Job Model","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-17T13:30:04.72387-06:00","updated_at":"2026-02-10T01:04:24.416391-06:00","closed_at":"2025-12-17T15:14:47.161792-06:00"}
{"id":"crystalmath-cn9","title":"AiiDA Integration Epic","description":"Epic: Migrate CRYSTAL-TOOLS TUI from SQLite + custom workflow engine to full AiiDA backend with PostgreSQL, WorkChains, and provenance tracking.\n\nTimeline: 8-12 weeks\nDesign Document: tui/docs/AIIDA_INTEGRATION_DESIGN.md\n\nBenefits:\n- Full provenance tracking\n- Mature workflow engine\n- aiida-crystal-dft ecosystem integration\n- Web interface (future)\n- Community standard approach\n\nTrade-offs:\n- Requires PostgreSQL + RabbitMQ\n- Heavier infrastructure\n- Migration complexity","notes":"EPIC COMPLETE: All 15 AiiDA integration tasks closed. CalcJob, Parser, WorkChains, QueryAdapter, Migration, Docker infrastructure all implemented.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-23T16:11:48.003309-06:00","updated_at":"2025-12-28T11:29:38.75266-06:00","closed_at":"2025-12-28T11:29:38.752665-06:00","labels":["aiida integration architecture phase-3"],"comments":[{"id":26,"issue_id":"crystalmath-cn9","author":"briansquires","text":"VALIDATION REVIEW (2025-12-24) by Gemini + GPT-5.2:\n\nSTATUS: Epic should remain OPEN - not production-ready.\n\nCRITICAL GAPS IDENTIFIED:\n1. Zero unit tests for AiiDA components\n2. No Docker Compose for infrastructure\n3. Placeholder implementations remain (create_job, _migrate_single_job, _fallback_parse are 'pass')\n\nNEW TASKS ADDED:\n- cn9.13 (5fc): Docker Compose for PostgreSQL/RabbitMQ\n- cn9.14 (frz): Unit tests for AiiDA components\n- cn9.15 (yha): Complete placeholder implementations\n\nMVP PATH RECOMMENDED:\n1. Docker compose + quicksetup automation\n2. Local computer only first\n3. Single submission path (no daemon initially)\n4. Minimal query surface (list_jobs, get_job)\n5. Defer migration, SSH/SLURM for later phases\n\nPARSER STRATEGY: Keep custom parsers (don't migrate to aiida-crystal-dft yet - P2/P3)\n\nPRIORITY ASSIGNMENTS:\n- P0: Docker Compose, unit tests, placeholder completion\n- P1: cn9.11 E2E tests, lite mode (SQLite backend)\n- P2: Migration validation, advanced infrastructure","created_at":"2025-12-24T16:44:12Z"}]}
{"id":"crystalmath-cn9.1","title":"Install and configure AiiDA with PostgreSQL","description":"Install and configure AiiDA with PostgreSQL","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-23T16:12:07.079098-06:00","updated_at":"2026-02-10T01:04:24.6937-06:00","closed_at":"2025-11-24T22:07:27.7394-06:00","labels":["aiida infrastructure phase-3 setup"]}
{"id":"crystalmath-cn9.10","title":"Implement WorkChain submission from TUI","description":"Implement WorkChain submission from TUI","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-23T16:13:38.207098-06:00","updated_at":"2026-02-10T01:04:24.93637-06:00","closed_at":"2025-11-24T22:10:08.480156-06:00","labels":["aiida submission ui phase-3"]}
{"id":"crystalmath-cn9.11","title":"Add comprehensive AiiDA integration tests","description":"Add comprehensive AiiDA integration tests","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T16:13:43.880338-06:00","updated_at":"2026-02-10T01:04:25.187955-06:00","closed_at":"2025-12-25T02:38:25.98559-06:00","labels":["aiida testing phase-3 qa"],"comments":[{"id":25,"issue_id":"crystalmath-cn9.11","author":"briansquires","text":"SCOPE CLARIFICATION (validated 2025-12-24): This task now focuses on E2E/integration tests only. Unit tests for query_adapter, submitter, parser are handled by cn9.14. Definition of Done expanded to include: profile setup, daemon vs no-daemon modes, submit/query/parse via TUI interfaces, CI smoke test.","created_at":"2025-12-24T16:43:52Z"}]}
{"id":"crystalmath-cn9.12","title":"Create AiiDA integration documentation","description":"Create AiiDA integration documentation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T16:13:49.548491-06:00","updated_at":"2026-02-10T01:04:25.472587-06:00","closed_at":"2025-12-24T10:05:09.844418-06:00","labels":["aiida documentation phase-3"]}
{"id":"crystalmath-cn9.2","title":"Setup AiiDA Computers and Codes","description":"Setup AiiDA Computers and Codes","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-23T16:12:12.691978-06:00","updated_at":"2026-02-10T01:04:25.694875-06:00","closed_at":"2025-11-24T22:07:33.364812-06:00","labels":["aiida configuration phase-3 setup"]}
{"id":"crystalmath-cn9.3","title":"Implement AiiDA QueryBuilder adapter for database.py","description":"Implement AiiDA QueryBuilder adapter for database.py","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-23T16:12:36.825781-06:00","updated_at":"2026-02-10T01:04:25.850173-06:00","closed_at":"2025-11-24T22:07:38.976227-06:00","labels":["aiida adapter architecture phase-3"]}
{"id":"crystalmath-cn9.4","title":"Create database migration utility","description":"Create database migration utility","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T16:12:42.444286-06:00","updated_at":"2026-02-10T01:04:26.017576-06:00","closed_at":"2025-11-24T22:07:44.586023-06:00","labels":["aiida migration phase-3 data"]}
{"id":"crystalmath-cn9.5","title":"Implement CRYSTAL23 CalcJob","description":"Implement CRYSTAL23 CalcJob","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-23T16:12:48.067555-06:00","updated_at":"2026-02-10T01:04:26.265814-06:00","closed_at":"2025-11-24T22:07:50.20975-06:00","labels":["aiida calcjob crystal phase-3"]}
{"id":"crystalmath-cn9.6","title":"Implement CRYSTAL23 output parser","description":"Implement CRYSTAL23 output parser","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-23T16:12:53.688511-06:00","updated_at":"2026-02-10T01:04:26.592586-06:00","closed_at":"2025-11-24T22:07:55.837377-06:00","labels":["aiida parser crystal phase-3"]}
{"id":"crystalmath-cn9.7","title":"Implement base CRYSTAL WorkChain with error handling","description":"Implement base CRYSTAL WorkChain with error handling","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-23T16:13:21.245514-06:00","updated_at":"2026-02-10T01:04:26.972814-06:00","closed_at":"2025-11-24T22:08:01.449408-06:00","labels":["aiida workchain crystal phase-3"]}
{"id":"crystalmath-cn9.8","title":"Implement geometry optimization WorkChain","description":"Implement geometry optimization WorkChain","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T16:13:26.894908-06:00","updated_at":"2026-02-10T01:04:27.25014-06:00","closed_at":"2025-11-24T22:08:07.056177-06:00","labels":["aiida workchain optimization phase-3"]}
{"id":"crystalmath-cn9.9","title":"Update TUI screens to use AiiDA adapter","description":"Update TUI screens to use AiiDA adapter","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-23T16:13:32.548919-06:00","updated_at":"2026-02-10T01:04:27.486656-06:00","closed_at":"2025-11-24T22:10:02.853154-06:00","labels":["aiida ui integration phase-3"]}
{"id":"crystalmath-cp9","title":"Add migration notes and compatibility shim for TUI rename","description":"Add migration notes and compatibility shim for TUI rename","status":"closed","priority":4,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-27T00:16:25.334548-06:00","updated_at":"2026-02-10T01:04:27.752942-06:00","closed_at":"2025-12-27T12:23:01.601952-06:00","dependencies":[{"issue_id":"crystalmath-cp9","depends_on_id":"crystalmath-c6e","type":"parent-child","created_at":"2025-12-27T00:16:34.748729-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-cp9","depends_on_id":"crystalmath-8ft","type":"blocks","created_at":"2025-12-27T01:30:06.827005-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-crp","title":"Inventory missing helper references and decide strategy","description":"Inventory missing helper references and decide strategy","status":"closed","priority":3,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-27T00:12:41.793686-06:00","updated_at":"2026-02-10T01:04:27.999041-06:00","closed_at":"2025-12-30T08:26:51.315977-06:00","dependencies":[{"issue_id":"crystalmath-crp","depends_on_id":"crystalmath-bl5","type":"parent-child","created_at":"2025-12-27T00:12:56.860824-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-ct3","title":"epic","description":"epic","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T03:01:58.338174-06:00","updated_at":"2026-02-10T01:04:28.255548-06:00","closed_at":"2025-12-28T11:29:45.4432-06:00"}
{"id":"crystalmath-d1a","title":"Convert ClusterConfig.cluster_type to enum","description":"Convert ClusterConfig.cluster_type to enum","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T14:41:34.054177-06:00","updated_at":"2026-02-10T01:04:28.475324-06:00","closed_at":"2025-12-30T14:46:58.75473-06:00"}
{"id":"crystalmath-d6t","title":"TUI Quality Improvements Epic - Phase 2 Stabilization","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-10T07:20:22.352466-06:00","updated_at":"2025-12-22T18:31:46.800438-06:00","closed_at":"2025-12-22T18:31:46.800438-06:00","labels":["phase-2-stabilization","quality","refactor"]}
{"id":"crystalmath-d6t.1","title":"Consolidate Exception Hierarchy","description":"Consolidate Exception Hierarchy","status":"closed","priority":0,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-10T07:21:46.407338-06:00","updated_at":"2026-02-10T01:04:28.710283-06:00","closed_at":"2025-12-12T11:25:28.981327-06:00","labels":["critical","exceptions","phase-1","refactor"],"dependencies":[{"issue_id":"crystalmath-d6t.1","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:21:46.411026-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.10","title":"Fix Entry Point Configuration","description":"Fix Entry Point Configuration","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-10T07:24:15.413888-06:00","updated_at":"2026-02-10T01:04:28.9358-06:00","closed_at":"2025-12-22T18:31:36.396189-06:00","labels":["config","medium","packaging","phase-3"],"dependencies":[{"issue_id":"crystalmath-d6t.10","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:24:15.414744-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":24,"issue_id":"crystalmath-d6t.10","author":"briansquires","text":"Verified entry point src.main:main is correct. The import works and main function is accessible.","created_at":"2025-12-23T00:14:32Z"}]}
{"id":"crystalmath-d6t.11","title":"Add Graceful Fallbacks for Optional Dependencies","description":"Add Graceful Fallbacks for Optional Dependencies","status":"closed","priority":2,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-10T07:24:23.106752-06:00","updated_at":"2026-02-10T01:04:29.137282-06:00","closed_at":"2025-12-22T18:31:36.396925-06:00","labels":["dependencies","feature","medium","phase-3"],"dependencies":[{"issue_id":"crystalmath-d6t.11","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:24:23.108329-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.12","title":"Clean Up AiiDA Integration","description":"Clean Up AiiDA Integration","status":"closed","priority":2,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-10T07:24:31.196249-06:00","updated_at":"2026-02-10T01:04:29.35213-06:00","closed_at":"2025-12-22T18:31:36.397469-06:00","labels":["aiida","medium","phase-3","refactor"],"dependencies":[{"issue_id":"crystalmath-d6t.12","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:24:31.196933-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.13","title":"Improve CLI Configuration Validation","description":"Improve CLI Configuration Validation","status":"closed","priority":2,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-10T07:24:37.947574-06:00","updated_at":"2026-02-10T01:04:29.550901-06:00","closed_at":"2025-12-22T18:31:36.398127-06:00","labels":["cli","feature","medium","phase-3"],"dependencies":[{"issue_id":"crystalmath-d6t.13","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:24:37.948341-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.14","title":"Fix Database Pool Deprecation Warning","description":"Fix Database Pool Deprecation Warning","status":"closed","priority":3,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-10T07:25:05.763781-06:00","updated_at":"2026-02-10T01:04:29.74996-06:00","closed_at":"2025-12-22T18:31:36.398645-06:00","labels":["cleanup","database","low","phase-4"],"dependencies":[{"issue_id":"crystalmath-d6t.14","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:25:05.765083-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.15","title":"Clean Up Test Suite","description":"Clean Up Test Suite","status":"closed","priority":3,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-10T07:25:12.00669-06:00","updated_at":"2026-02-10T01:04:29.918074-06:00","closed_at":"2025-12-22T18:31:36.399155-06:00","labels":["low","phase-4","testing"],"dependencies":[{"issue_id":"crystalmath-d6t.15","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:25:12.007847-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.16","title":"Fix BASH_SOURCE Robustness","description":"Fix BASH_SOURCE Robustness","status":"closed","priority":3,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-10T07:25:20.060577-06:00","updated_at":"2026-02-10T01:04:30.083111-06:00","closed_at":"2025-12-22T18:31:36.399655-06:00","labels":["cli","low","phase-4","robustness"],"dependencies":[{"issue_id":"crystalmath-d6t.16","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:25:20.061615-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.17","title":"Add Keyring Fallback","description":"Add Keyring Fallback","status":"closed","priority":3,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-10T07:25:26.886805-06:00","updated_at":"2026-02-10T01:04:30.284646-06:00","closed_at":"2025-12-22T18:31:36.400167-06:00","labels":["feature","low","phase-4","security"],"dependencies":[{"issue_id":"crystalmath-d6t.17","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:25:26.88809-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.2","title":"Implement Workflow Execution","description":"Implement Workflow Execution","status":"closed","priority":0,"issue_type":"task","estimated_minutes":720,"created_at":"2025-12-10T07:22:02.802535-06:00","updated_at":"2026-02-10T01:04:30.488366-06:00","closed_at":"2025-12-12T11:36:16.278243-06:00","labels":["critical","feature","phase-1","workflow"],"dependencies":[{"issue_id":"crystalmath-d6t.2","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:22:02.803397-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-d6t.2","depends_on_id":"crystalmath-d6t.1","type":"blocks","created_at":"2025-12-10T07:26:22.517174-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.3","title":"Implement Job Cancellation","description":"Implement Job Cancellation","status":"closed","priority":0,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-10T07:22:18.147842-06:00","updated_at":"2026-02-10T01:04:30.689577-06:00","closed_at":"2025-12-17T08:03:22.853241-06:00","labels":["critical","feature","orchestrator","phase-1"],"dependencies":[{"issue_id":"crystalmath-d6t.3","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:22:18.149305-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-d6t.3","depends_on_id":"crystalmath-d6t.1","type":"blocks","created_at":"2025-12-10T07:26:15.14732-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.4","title":"Fix Database Async Safety","description":"Fix Database Async Safety","status":"closed","priority":1,"issue_type":"task","estimated_minutes":360,"created_at":"2025-12-10T07:23:01.010457-06:00","updated_at":"2026-02-10T01:04:30.89177-06:00","closed_at":"2025-12-17T08:12:11.415689-06:00","labels":["database","high","phase-2","refactor"],"dependencies":[{"issue_id":"crystalmath-d6t.4","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:23:01.012032-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.5","title":"Fix Encapsulation Violations","description":"Fix Encapsulation Violations","status":"closed","priority":1,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-10T07:23:08.139775-06:00","updated_at":"2026-02-10T01:04:31.080477-06:00","closed_at":"2025-12-17T08:11:57.192387-06:00","labels":["high","phase-2","refactor","ssh"],"dependencies":[{"issue_id":"crystalmath-d6t.5","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:23:08.140679-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-d6t.6","title":"Implement Custom Output Parsers","description":"Implement Custom Output Parsers","status":"closed","priority":1,"issue_type":"task","estimated_minutes":300,"created_at":"2025-12-10T07:23:14.576035-06:00","updated_at":"2026-02-10T01:04:31.365687-06:00","closed_at":"2025-12-22T09:33:03.002234-06:00","labels":["feature","high","orchestrator","phase-2"],"dependencies":[{"issue_id":"crystalmath-d6t.6","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:23:14.577788-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-d6t.6","depends_on_id":"crystalmath-d6t.2","type":"blocks","created_at":"2025-12-10T07:26:31.235138-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":9,"issue_id":"crystalmath-d6t.6","author":"briansquires","text":"TRANSFERRED to crystalmath-ae6.8 in new Runner Correctness \u0026 Data Safety Sprint epic. This issue depends on runner correctness work and will be addressed after contract completion.","created_at":"2025-12-22T15:32:37Z"}]}
{"id":"crystalmath-d6t.7","title":"Fix Abstract Base Classes","description":"Fix Abstract Base Classes","status":"closed","priority":1,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-10T07:23:21.413491-06:00","updated_at":"2026-02-10T01:04:31.584027-06:00","closed_at":"2025-12-22T09:32:57.821318-06:00","labels":["high","phase-2","refactor","typing"],"dependencies":[{"issue_id":"crystalmath-d6t.7","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:23:21.414531-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":8,"issue_id":"crystalmath-d6t.7","author":"briansquires","text":"TRANSFERRED to crystalmath-ae6.7 in new Runner Correctness \u0026 Data Safety Sprint epic. This issue is being consolidated with typing fixes identified in Codex deep code review.","created_at":"2025-12-22T15:32:31Z"}]}
{"id":"crystalmath-d6t.8","title":"Fix BaseRunner get_output() Stub","description":"Fix BaseRunner get_output() Stub","status":"closed","priority":1,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-10T07:23:29.356178-06:00","updated_at":"2026-02-10T01:04:32.040825-06:00","closed_at":"2025-12-22T09:32:52.740201-06:00","labels":["feature","high","phase-2","runners"],"dependencies":[{"issue_id":"crystalmath-d6t.8","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:23:29.357964-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":7,"issue_id":"crystalmath-d6t.8","author":"briansquires","text":"TRANSFERRED to crystalmath-ae6.5 in new Runner Correctness \u0026 Data Safety Sprint epic. This issue is being consolidated with other runner contract work identified in Codex deep code review.","created_at":"2025-12-22T15:32:24Z"}]}
{"id":"crystalmath-d6t.9","title":"Fix Package Discovery","description":"Fix Package Discovery","status":"closed","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-10T07:24:07.846344-06:00","updated_at":"2026-02-10T01:04:32.366736-06:00","closed_at":"2025-12-22T18:31:36.39458-06:00","labels":["config","medium","packaging","phase-3"],"dependencies":[{"issue_id":"crystalmath-d6t.9","depends_on_id":"crystalmath-d6t","type":"parent-child","created_at":"2025-12-10T07:24:07.847203-06:00","created_by":"briansquires","metadata":"{}"}],"comments":[{"id":23,"issue_id":"crystalmath-d6t.9","author":"briansquires","text":"Fixed by replacing explicit package list with setuptools auto-discovery. Now includes all packages: src.core.codes, src.core.codes.parsers, src.tui.widgets. Verified with uv pip install -e . and import tests.","created_at":"2025-12-23T00:14:25Z"}]}
{"id":"crystalmath-d9k","title":"Implement Queue Manager for job scheduling","description":"Implement Queue Manager for job scheduling","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-20T23:24:29.845912-06:00","updated_at":"2026-02-10T01:04:32.637618-06:00","closed_at":"2025-11-21T06:59:18.731639-06:00","labels":["batch","core","phase-2"]}
{"id":"crystalmath-dddy","title":"1.2: Library Compatibility Research","description":"1.2: Library Compatibility Research","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:17:28.965783-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:32.993704-06:00","closed_at":"2026-01-08T23:00:44.847548-06:00","close_reason":"Research complete - all deliverables documented in notes"}
{"id":"crystalmath-dgg","title":"[epic] Cloud \u0026 Scale - AWS Batch, Kubernetes","notes":"Downgraded P3→P4 backlog. Sub-tasks consolidated.","status":"open","priority":4,"issue_type":"epic","created_at":"2025-12-30T15:14:21.632613-06:00","updated_at":"2026-02-10T01:59:06.678406-06:00","labels":["P3","cloud","epic","scale"]}
{"id":"crystalmath-djc","title":"MEDIUM: Align tests with production app_enhanced.py entrypoint","description":"MEDIUM: Align tests with production app_enhanced.py entrypoint","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T19:09:07.118286-06:00","updated_at":"2026-02-10T01:04:33.312733-06:00","closed_at":"2025-12-24T10:17:33.863167-06:00"}
{"id":"crystalmath-dji","title":"[ct3.2] Implement Multi-File VASP Input Staging","description":"[ct3.2] Implement Multi-File VASP Input Staging","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-25T03:02:52.209338-06:00","updated_at":"2026-02-10T01:04:33.566286-06:00","closed_at":"2025-12-28T11:15:51.99145-06:00","comments":[{"id":28,"issue_id":"crystalmath-dji","author":"briansquires","text":"✅ **COMPLETE**: Multi-file VASP input staging\n\n**Deliverables**:\n- Created VASPInputManagerScreen (428 lines)\n- Tabbed interface for all 4 VASP input files (POSCAR, INCAR, KPOINTS, POTCAR)\n- File validators for each input type\n- Default templates for INCAR and KPOINTS\n- POTCAR element selection (Si, C, O, Ti, N, H)\n- VASPFilesReady message for workflow integration\n\n**Features**:\n- Upload/paste POSCAR (atomic positions)\n- Upload/paste INCAR (calculation parameters)\n- Upload/paste KPOINTS (k-point mesh)\n- Select POTCAR element from dropdown\n- Validation before job creation\n- Default templates provided\n\n**Validators**:\n- POSCARValidator: Checks minimum 8 lines, valid scaling factor\n- INCARValidator: Checks for KEY=VALUE parameters\n- KPOINTSValidator: Checks minimum 4 lines\n\n**Files Created**:\n- tui/src/tui/screens/vasp_input_manager.py (428 lines)\n\n**Files Modified**:\n- tui/src/tui/screens/__init__.py\n\n**Status**: ✅ Production ready","created_at":"2025-12-25T09:24:58Z"}]}
{"id":"crystalmath-dksy","title":"2.2: Atomate2 Integration Design","description":"2.2: Atomate2 Integration Design","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:17:54.36467-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:33.823614-06:00","closed_at":"2026-01-09T05:55:02.763335-06:00","close_reason":"Atomate2 integration design complete: atomate2_bridge.py, jobflow_store.py, ATOMATE2-INTEGRATION.md","dependencies":[{"issue_id":"crystalmath-dksy","depends_on_id":"crystalmath-tw3k","type":"blocks","created_at":"2026-01-08T22:18:55.840271-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-dky","title":"Update docs/tests for CLI helper changes","description":"Update docs/tests for CLI helper changes","status":"closed","priority":4,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-27T00:13:40.380317-06:00","updated_at":"2026-02-10T01:04:34.056995-06:00","closed_at":"2025-12-27T12:23:25.623395-06:00","dependencies":[{"issue_id":"crystalmath-dky","depends_on_id":"crystalmath-bl5","type":"parent-child","created_at":"2025-12-27T00:13:54.914428-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-dky","depends_on_id":"crystalmath-ufw","type":"blocks","created_at":"2025-12-27T01:29:36.890968-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dlj","title":"[wf1.3] Band Structure + DOS Workflow - automatic k-path","description":"[wf1.3] Band Structure + DOS Workflow - automatic k-path","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:15:05.548314-06:00","updated_at":"2026-02-10T01:04:34.315006-06:00","closed_at":"2026-01-05T17:44:41.383488-06:00","labels":["bands","electronic","workflow"]}
{"id":"crystalmath-dm1u","title":"Phase 2: Architecture Planning Phase","description":"Design the unified workflow architecture before implementation.\n\n**READ FIRST:** prompts/META-PROMPT-WORKFLOW-INTEGRATION.md → Phase 2\n\n**Deliverables:**\n- UML class diagram or architectural diagram\n- Interface definitions (Python Protocol classes)\n- Data flow for complete workflow pipeline\n- atomate2 integration design with module structure\n- High-level API design with fluent builder pattern\n\n**IMPORTANT:** Update this epic's notes after completing each sub-task with design decisions.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-08T22:16:53.338423-06:00","created_by":"briansquires","updated_at":"2026-01-09T05:55:05.845341-06:00","closed_at":"2026-01-09T05:55:05.845341-06:00","close_reason":"All Phase 2 architecture tasks complete","dependencies":[{"issue_id":"crystalmath-dm1u","depends_on_id":"crystalmath-5wjb","type":"blocks","created_at":"2026-01-08T22:17:04.847232-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-dmt","title":"Write unit tests for lib/cry-stage.sh","description":"Write unit tests for lib/cry-stage.sh","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T20:36:19.253695-06:00","updated_at":"2026-02-10T01:04:34.55036-06:00","closed_at":"2025-11-20T00:40:41.589542-06:00","dependencies":[{"issue_id":"crystalmath-dmt","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.402954-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-dpd","title":"Migrate to AiiDA VASP parsers - use aiida-vasp plugin parsers","description":"Migrate to AiiDA VASP parsers - use aiida-vasp plugin parsers","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:52:08.356947-06:00","updated_at":"2026-02-10T01:04:34.769991-06:00","closed_at":"2026-01-05T16:00:00-06:00"}
{"id":"crystalmath-drj","title":"Queue manager race conditions","description":"Queue manager race conditions","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T08:08:18.009111-06:00","updated_at":"2026-02-10T01:04:34.962507-06:00","closed_at":"2025-11-23T14:38:48.712498-06:00","labels":["concurrency","phase-2","queue","reliability"]}
{"id":"crystalmath-dsx","title":"[ct3.7] Implement VASP Error Handling \u0026 Recovery","description":"[ct3.7] Implement VASP Error Handling \u0026 Recovery","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-25T03:04:23.426148-06:00","updated_at":"2026-02-10T01:04:35.140745-06:00","closed_at":"2025-12-28T11:16:19.412237-06:00"}
{"id":"crystalmath-dyn","title":"Python TUI Async/Memory Optimization Epic","notes":"Epic for fixing async/memory issues in Python TUI found during Codex/Gemini deep analysis.\n\n**Issues Found:**\n1. CRITICAL: WorkflowOrchestrator blocking SQLite calls\n2. HIGH: Memory leak - workflows never cleaned up\n3. HIGH: ConnectionManager global lock contention during SSH connect\n4. HIGH: LocalRunner subprocess leaks on error/cancel\n5. MEDIUM: No SSH connection retry logic","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-29T22:13:39.772639-06:00","updated_at":"2025-12-29T22:22:53.214505-06:00","closed_at":"2025-12-29T22:22:53.214505-06:00","labels":["epic python-tui optimization async"]}
{"id":"crystalmath-dyn.1","title":"[CRITICAL] Fix WorkflowOrchestrator blocking SQLite calls","description":"[CRITICAL] Fix WorkflowOrchestrator blocking SQLite calls","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-29T22:14:13.518058-06:00","updated_at":"2026-02-10T01:04:35.424651-06:00","closed_at":"2025-12-29T22:22:53.21127-06:00","labels":["critical python-tui async"],"dependencies":[{"issue_id":"crystalmath-dyn.1","depends_on_id":"crystalmath-dyn","type":"parent-child","created_at":"2025-12-29T22:14:13.519775-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyn.2","title":"[HIGH] Fix memory leak - workflows never cleaned up","description":"[HIGH] Fix memory leak - workflows never cleaned up","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-29T22:14:19.981873-06:00","updated_at":"2026-02-10T01:04:35.682621-06:00","closed_at":"2025-12-29T22:22:53.213104-06:00","labels":["high python-tui memory"],"dependencies":[{"issue_id":"crystalmath-dyn.2","depends_on_id":"crystalmath-dyn","type":"parent-child","created_at":"2025-12-29T22:14:19.983093-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyn.3","title":"[HIGH] Fix ConnectionManager lock contention during SSH connect","description":"[HIGH] Fix ConnectionManager lock contention during SSH connect","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-29T22:14:27.093744-06:00","updated_at":"2026-02-10T01:04:35.955762-06:00","closed_at":"2025-12-29T22:22:53.213524-06:00","labels":["high python-tui async"],"dependencies":[{"issue_id":"crystalmath-dyn.3","depends_on_id":"crystalmath-dyn","type":"parent-child","created_at":"2025-12-29T22:14:27.09447-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyn.4","title":"[HIGH] Fix LocalRunner subprocess leaks on error/cancel","description":"[HIGH] Fix LocalRunner subprocess leaks on error/cancel","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-29T22:14:33.39919-06:00","updated_at":"2026-02-10T01:04:36.263068-06:00","closed_at":"2025-12-29T22:22:53.213861-06:00","labels":["high python-tui runners"],"dependencies":[{"issue_id":"crystalmath-dyn.4","depends_on_id":"crystalmath-dyn","type":"parent-child","created_at":"2025-12-29T22:14:33.399898-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyn.5","title":"[MEDIUM] Add SSH connection retry logic","description":"[MEDIUM] Add SSH connection retry logic","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-29T22:14:39.734508-06:00","updated_at":"2026-02-10T01:04:36.508933-06:00","closed_at":"2025-12-29T22:22:53.214188-06:00","labels":["medium python-tui ssh"],"dependencies":[{"issue_id":"crystalmath-dyn.5","depends_on_id":"crystalmath-dyn","type":"parent-child","created_at":"2025-12-29T22:14:39.73525-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyu","title":"DFT Code-Specific UI Enhancements","description":"Add missing UI components for QE and enhance VASP/CRYSTAL23 workflows based on Codex/Gemini code review recommendations. Key gaps: QE lacks pseudopotential management, scheduler resources not configurable, VASP POTCAR path needs better integration.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-28T20:39:34.354549-06:00","updated_at":"2026-02-02T21:29:45.892687-06:00","closed_at":"2026-02-02T21:29:45.892687-06:00","close_reason":"All subtasks for DFT Code-Specific UI Enhancements epic are complete.","labels":["dft-codes","ui"]}
{"id":"crystalmath-dyu.1","title":"QE Pseudopotential (UPF) Manager Screen","description":"QE Pseudopotential (UPF) Manager Screen","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T20:39:52.599415-06:00","updated_at":"2026-02-10T01:04:36.856567-06:00","closed_at":"2025-12-29T15:51:22.652807-06:00","dependencies":[{"issue_id":"crystalmath-dyu.1","depends_on_id":"crystalmath-dyu","type":"parent-child","created_at":"2025-12-28T20:39:52.601107-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyu.2","title":"Scheduler Resource Configuration UI","description":"Scheduler Resource Configuration UI","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T20:40:09.923847-06:00","updated_at":"2026-02-10T01:04:37.189403-06:00","closed_at":"2025-12-30T08:51:09.196895-06:00","dependencies":[{"issue_id":"crystalmath-dyu.2","depends_on_id":"crystalmath-dyu","type":"parent-child","created_at":"2025-12-28T20:40:09.924587-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyu.3","title":"VASP POTCAR Path Integration","description":"VASP POTCAR Path Integration","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T20:40:16.450141-06:00","updated_at":"2026-02-10T01:04:37.525854-06:00","closed_at":"2025-12-30T08:56:11.695708-06:00","dependencies":[{"issue_id":"crystalmath-dyu.3","depends_on_id":"crystalmath-dyu","type":"parent-child","created_at":"2025-12-28T20:40:16.45083-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyu.4","title":"Complete QE Code Configuration","description":"Complete QE Code Configuration","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T20:40:40.665256-06:00","updated_at":"2026-02-10T01:04:37.775675-06:00","closed_at":"2025-12-30T08:47:28.237627-06:00","dependencies":[{"issue_id":"crystalmath-dyu.4","depends_on_id":"crystalmath-dyu","type":"parent-child","created_at":"2025-12-28T20:40:40.666847-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyu.5","title":"Input Syntax Validation","description":"Add input file validation to editor views: 1) CRYSTAL23 .d12 - validate block structure, 2) VASP INCAR - validate parameter names/types, 3) QE .in - validate namelist structure. Could integrate with dft-language-server for real-time validation. Currently no validation before submission.","acceptance_criteria":"1. Basic syntax check on input content change\\n2. Error highlighting in editor\\n3. Validation errors shown before job creation\\n4. Works offline (server optional)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T20:40:47.619495-06:00","updated_at":"2026-02-02T21:24:59.906337-06:00","closed_at":"2026-02-02T21:24:59.906337-06:00","close_reason":"Implemented VASP input syntax validation using Pymatgen on the Python backend, integrated with the Rust TUI VASP Input modal.","dependencies":[{"issue_id":"crystalmath-dyu.5","depends_on_id":"crystalmath-dyu","type":"parent-child","created_at":"2025-12-28T20:40:47.620266-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dyu.6","title":"Cluster Environment Paths UI","description":"Enhance ClusterManagerScreen environment section: 1) Add guided setup for common paths (VASP_PP_PATH, ESPRESSO_ROOT, CRY23_ROOT), 2) Add 'Test Path' button to verify paths exist on cluster via SSH, 3) Show which DFT codes are available based on configured paths.","acceptance_criteria":"1. Labeled input fields for each DFT code's paths\\n2. Test button validates path exists\\n3. Visual indicator of configured/available codes\\n4. Paths saved to cluster.environment_json","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T20:40:54.452121-06:00","updated_at":"2026-02-02T21:29:17.774963-06:00","closed_at":"2026-02-02T21:29:17.774963-06:00","close_reason":"Implemented Cluster Environment Paths UI in the Rust TUI Cluster Manager, with backend support in Python and database migration v8.","dependencies":[{"issue_id":"crystalmath-dyu.6","depends_on_id":"crystalmath-dyu","type":"parent-child","created_at":"2025-12-28T20:40:54.453461-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-dzoa","title":"[epic] Collaboration \u0026 Sharing","description":"Multi-user features. Shared workspaces, export to standard formats (CIF, NOMAD), and lightweight read-only web dashboard.","notes":"Duplicate of crystalmath-gh8","status":"closed","priority":3,"issue_type":"epic","created_at":"2025-12-30T21:19:50.162985Z","updated_at":"2025-12-31T08:58:49.416885-06:00","closed_at":"2025-12-31T08:58:49.416887-06:00"}
{"id":"crystalmath-e1h","title":"Add CLI tests for failure output retrieval","description":"Add CLI tests for failure output retrieval","status":"closed","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-27T00:10:52.219903-06:00","updated_at":"2026-02-10T01:04:38.078594-06:00","closed_at":"2025-12-30T08:10:07.770109-06:00","dependencies":[{"issue_id":"crystalmath-e1h","depends_on_id":"crystalmath-0az","type":"parent-child","created_at":"2025-12-27T00:11:06.566517-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-e1h","depends_on_id":"crystalmath-c4r","type":"blocks","created_at":"2025-12-27T01:29:07.024879-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-ehl5","title":"[AI] Cost/Usage Tracking","description":"Track AI API usage and costs:\n- Log tokens used per request.\n- Display cumulative cost in footer or settings.\n- Allow user to set budget limits.\n- Warn before expensive operations.","notes":"Parent AI epic closed. Deferred.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T17:09:59.379342-06:00","updated_at":"2026-02-08T14:13:12.062703-06:00","closed_at":"2026-02-08T14:13:12.062707-06:00","dependencies":[{"issue_id":"crystalmath-ehl5","depends_on_id":"crystalmath-0b7j","type":"blocks","created_at":"2026-01-05T17:09:59.382079-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-ej0","title":"Extend JobSubmission for VASP multi-file support","description":"Extend JobSubmission for VASP multi-file support","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-30T14:41:47.900663-06:00","updated_at":"2026-02-10T01:04:38.386231-06:00","closed_at":"2025-12-30T14:48:01.200632-06:00"}
{"id":"crystalmath-ejy","title":"Implement module loader (cry_require)","description":"Implement module loader (cry_require)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.740574-06:00","updated_at":"2026-02-10T01:04:38.646102-06:00","closed_at":"2025-11-19T20:52:31.893411-06:00","dependencies":[{"issue_id":"crystalmath-ejy","depends_on_id":"crystalmath-be3","type":"blocks","created_at":"2025-11-19T20:36:49.597902-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ejy","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:49.923232-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ejy","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.035547-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-euv","title":"[wf1.2] Phonon Calculation Pipeline - phonopy integration","description":"[wf1.2] Phonon Calculation Pipeline - phonopy integration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:14:58.508577-06:00","updated_at":"2026-02-10T01:04:38.895122-06:00","closed_at":"2026-01-05T17:44:42.43473-06:00","labels":["phonons","thermodynamics","workflow"]}
{"id":"crystalmath-ewo","title":"CLI/TUI reliability \u0026 safety hardening","description":"Track reliability/safety fixes: CLI failure-handling, parallel binary validation, dead helper cleanup, gum install gating, and TUI package namespace clarification.","acceptance_criteria":"Epic complete when all child issues are closed, tests updated, and docs reflect behavior changes.","notes":"Epic complete. All 5 child issues closed: CLI failure flow (0az), MPI binary validation (3pb), helper stubs cleanup (bl5), TUI namespace (c6e), gum install gating (ohv). Runner concurrency (wlb) also fixed in parallel.","status":"closed","priority":1,"issue_type":"epic","estimated_minutes":600,"created_at":"2025-12-27T00:06:45.877898-06:00","updated_at":"2025-12-30T08:41:16.022391-06:00","closed_at":"2025-12-30T08:41:16.022393-06:00"}
{"id":"crystalmath-exp","title":"Implement MPI binary preflight checks","description":"Implement MPI binary preflight checks","status":"closed","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-27T00:11:38.729037-06:00","updated_at":"2026-02-10T01:04:39.137381-06:00","closed_at":"2025-12-30T08:19:39.336943-06:00","dependencies":[{"issue_id":"crystalmath-exp","depends_on_id":"crystalmath-3pb","type":"parent-child","created_at":"2025-12-27T00:11:50.84463-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-exp","depends_on_id":"crystalmath-1cj","type":"blocks","created_at":"2025-12-27T01:29:16.829706-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-ezl8","title":"Phase 4: Documentation \u0026 Examples","description":"Enable users with comprehensive documentation and working examples.\n\n**READ FIRST:** prompts/META-PROMPT-WORKFLOW-INTEGRATION.md → Phase 4\n\n**Deliverables:**\n- User documentation at docs/workflows/\n- Example Jupyter notebooks at examples/\n- All notebooks executable on beefcake2 cluster\n\n**IMPORTANT:** Update this epic's notes with documentation coverage.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-08T22:16:56.632602-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:59:05.362805-06:00","closed_at":"2026-02-10T01:59:05.362808-06:00","dependencies":[{"issue_id":"crystalmath-ezl8","depends_on_id":"crystalmath-ot4c","type":"blocks","created_at":"2026-01-08T22:17:05.111815-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-f264","title":"[AI] Job Error Analysis Workflow","description":"Implement specific \"Analyze Error\" workflow:\n1. User selects FAILED job.\n2. User presses `E` (Explain).\n3. UI calls `analyze_job_error(pk)`.\n4. Backend gathers stderr, exit code, and last 50 lines of stdout.\n5. AI explains *why* it failed and suggests a fix.\n6. UI displays explanation.","notes":"Parent AI epic closed. Deferred.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T17:06:52.369509-06:00","updated_at":"2026-02-08T14:13:07.950906-06:00","closed_at":"2026-02-08T14:13:07.950909-06:00","dependencies":[{"issue_id":"crystalmath-f264","depends_on_id":"crystalmath-11q0","type":"blocks","created_at":"2026-01-05T17:06:52.370931-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-f264","depends_on_id":"crystalmath-y6tn","type":"blocks","created_at":"2026-01-05T17:10:10.791084-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-f3kg","title":"[wf1.4] Geometry Optimization Restart Recovery","description":"[wf1.4] Geometry Optimization Restart Recovery","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T22:59:05.509247-06:00","updated_at":"2026-02-10T01:04:39.410333-06:00","closed_at":"2026-01-05T18:17:29.266636-06:00","labels":["reliability","restart","workflow"]}
{"id":"crystalmath-fcq","title":"Extend database schema for remote jobs","description":"Extend database schema for remote jobs","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-20T23:24:12.283543-06:00","updated_at":"2026-02-10T01:04:39.648088-06:00","closed_at":"2025-11-21T06:56:04.353603-06:00","labels":["database","phase-2","remote-execution"]}
{"id":"crystalmath-fh9n","title":"[epic] Cloud \u0026 Scale","description":"Cloud bursting and containerized execution. AWS Batch and Kubernetes integration. Focus: Cost estimation and hybrid scheduling.","notes":"Duplicate of crystalmath-dgg","status":"closed","priority":3,"issue_type":"epic","created_at":"2025-12-30T21:19:45.001485Z","updated_at":"2025-12-31T08:58:54.532357-06:00","closed_at":"2025-12-31T08:58:54.532359-06:00"}
{"id":"crystalmath-frz","title":"[cn9.14] Add unit tests for AiiDA components","description":"[cn9.14] Add unit tests for AiiDA components","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T10:42:54.034118-06:00","updated_at":"2026-02-10T01:04:39.838588-06:00","closed_at":"2025-12-28T11:29:14.621358-06:00","labels":["aiida testing phase-3 qa"]}
{"id":"crystalmath-g1i","title":"Database migrations not transactional","description":"Database migrations not transactional","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T08:08:17.033933-06:00","updated_at":"2026-02-10T01:04:40.024418-06:00","closed_at":"2025-11-23T14:38:55.032342-06:00","labels":["database","phase-2","reliability"]}
{"id":"crystalmath-g4p","title":"Create tutorial module system from MASTER_TUTORIAL.md","description":"Create tutorial module system from MASTER_TUTORIAL.md","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T23:00:50.061432-06:00","updated_at":"2026-02-10T01:04:40.255866-06:00","closed_at":"2025-11-19T23:55:25.054325-06:00","dependencies":[{"issue_id":"crystalmath-g4p","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T23:00:56.832772-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-gh8","title":"[epic] Collaboration \u0026 Sharing - Workspaces, Export","notes":"Downgraded P3→P4 backlog. Sub-tasks consolidated.","status":"open","priority":4,"issue_type":"epic","created_at":"2025-12-30T15:14:30.553454-06:00","updated_at":"2026-02-10T01:59:06.793856-06:00","labels":["P4","collaboration","epic"]}
{"id":"crystalmath-hai","title":"Enhance Job Status Display","description":"Enhance Job Status Display","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-20T19:20:27.245956-06:00","updated_at":"2026-02-10T01:04:40.526073-06:00","closed_at":"2025-11-20T23:25:04.940838-06:00","labels":["mvp","phase-1","ui"]}
{"id":"crystalmath-hdh","title":"[ct3.5] Implement VASP Output Retrieval System","description":"[ct3.5] Implement VASP Output Retrieval System","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-25T03:03:49.66054-06:00","updated_at":"2026-02-10T01:04:40.852717-06:00","closed_at":"2025-12-28T11:16:12.419566-06:00"}
{"id":"crystalmath-hiph","title":"[wf1.5] Equation of State Fitting - Birch-Murnaghan","description":"[wf1.5] Equation of State Fitting - Birch-Murnaghan","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T22:59:13.139392-06:00","updated_at":"2026-02-10T01:04:41.139927-06:00","closed_at":"2026-01-05T18:17:27.916507-06:00","labels":["eos","thermodynamics","workflow"]}
{"id":"crystalmath-hk2x","title":"2.3: High-Level API Design","description":"2.3: High-Level API Design","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:17:56.466319-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:41.636756-06:00","closed_at":"2026-01-09T05:55:04.644714-06:00","close_reason":"High-level API design complete: api.py, builder.py, clusters.py, registry.py, results.py, progress.py, HIGH-LEVEL-API.md","dependencies":[{"issue_id":"crystalmath-hk2x","depends_on_id":"crystalmath-tw3k","type":"blocks","created_at":"2026-01-08T22:18:55.91892-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-hmfo","title":"Workflow Execution Pipeline","description":"Implement job creation and submission for workflow inputs.\n\n## Scope\n- Take generated inputs from workflow creation\n- Create job entries in database for each input\n- Submit jobs to selected cluster\n- Link jobs to parent workflow for tracking\n\n## Technical\n- Extend `launch_selected_workflow()` to actually submit\n- Add `workflow_id` foreign key to jobs table\n- Batch job creation from workflow inputs array\n- Use existing job submission infrastructure\n\n## Acceptance\n- [ ] Workflow generates jobs in database\n- [ ] Jobs submitted to cluster\n- [ ] Jobs linked to workflow for tracking","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-02T22:35:24.199543-06:00","created_by":"TheFermiSea","updated_at":"2026-02-02T23:53:27.437361-06:00","closed_at":"2026-02-02T23:53:27.437364-06:00","dependencies":[{"issue_id":"crystalmath-hmfo","depends_on_id":"crystalmath-4u9h","type":"blocks","created_at":"2026-02-02T22:35:33.479271-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-hyl","title":"Implement lib/cry-scratch.sh","description":"Implement lib/cry-scratch.sh","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.849221-06:00","updated_at":"2026-02-10T01:04:41.964718-06:00","closed_at":"2025-11-19T20:55:33.203349-06:00","dependencies":[{"issue_id":"crystalmath-hyl","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:49.99272-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-hyl","depends_on_id":"crystalmath-pc3","type":"blocks","created_at":"2025-11-19T20:36:50.294435-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-hyl","depends_on_id":"crystalmath-7e1","type":"blocks","created_at":"2025-11-19T20:36:50.501139-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-hyl","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.108019-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-i1tz","title":"Implement SQLite to AiiDA migration tool","description":"## Overview\n\nCreate a migration tool that allows users to export their SQLite-based crystalmath projects to AiiDA, enabling a smooth upgrade path from \"Standard Mode\" to \"Pro/Provenance Mode\".\n\n## Strategic Context\n\n### Why Hybrid Architecture (Not Full AiiDA)\n\nAfter analysis with Gemini, we decided to **maintain the hybrid strategy** rather than making AiiDA mandatory. This task implements the bridge between the two modes.\n\n### Pros of Full AiiDA Adoption (Considered but Rejected as Default)\n\n| Benefit | Description |\n|---------|-------------|\n| **Community leverage** | Large AiiDA developer/user base, active development |\n| **Full provenance** | Graph-based data lineage, reproducibility for publications |\n| **Mature workflows** | Self-healing WorkChains, restart/recovery, checkpointing |\n| **Common Workflows** | Standardized DFT protocols across codes |\n| **Plugin ecosystem** | aiida-crystal, aiida-vasp, aiida-quantumespresso |\n| **REST API** | New pydantic ORM integration for web interfaces |\n| **Sharing** | AiiDA archive format for collaboration |\n\n### Cons of Full AiiDA Adoption (Why We Keep SQLite Default)\n\n| Risk | Impact |\n|------|--------|\n| **Heavy dependencies** | PostgreSQL + RabbitMQ + daemon required before first calculation |\n| **Startup latency** | Profile loading, daemon checks add seconds vs instant SQLite |\n| **Offline broken** | Daemon dependency kills laptop/airplane/disconnected use |\n| **60fps TUI risk** | AiiDA ORM queries slower than SQLite for real-time Rust TUI |\n| **Barrier to entry** | Students/educators face unnecessary complexity |\n| **Deployment complexity** | Single binary + Python vs multi-service stack |\n| **Maintenance burden** | Shifts from engine logic to integration/adapter layer |\n\n### The Compromise: Migration Tool\n\n\u003e \"The Community Benefit of AiiDA is realized best by offering it as a powerful upgrade path, not a mandatory hurdle.\" — Gemini analysis\n\nUsers start with zero-config SQLite, then migrate to AiiDA when they need:\n- Full provenance for publications\n- High-throughput HPC campaigns\n- Multi-user collaboration\n- Advanced workflow features\n\n## Implementation Details\n\n### 1. Core Migration Function\n\n```python\n# python/crystalmath/migration.py\n\nfrom pathlib import Path\nfrom typing import Optional, List\nfrom crystalmath.api import CrystalController\nfrom crystalmath.models import JobStatus, JobDetails\n\nclass SQLiteToAiiDAMigrator:\n    \"\"\"Migrate crystalmath SQLite data to AiiDA.\"\"\"\n    \n    def __init__(\n        self,\n        sqlite_path: Path,\n        aiida_profile: str = \"default\",\n        dry_run: bool = False,\n    ):\n        self.sqlite_controller = CrystalController(\n            use_aiida=False, \n            db_path=str(sqlite_path)\n        )\n        self.aiida_profile = aiida_profile\n        self.dry_run = dry_run\n        self._aiida_controller: Optional[CrystalController] = None\n    \n    def connect_aiida(self) -\u003e bool:\n        \"\"\"Initialize AiiDA connection.\"\"\"\n        if self.dry_run:\n            return True\n        self._aiida_controller = CrystalController(\n            use_aiida=True,\n            aiida_profile=self.aiida_profile\n        )\n        return self._aiida_controller is not None\n    \n    def get_migration_summary(self) -\u003e dict:\n        \"\"\"Preview what will be migrated.\"\"\"\n        jobs = self.sqlite_controller.get_jobs(limit=10000)\n        clusters = self.sqlite_controller.get_clusters()\n        \n        return {\n            \"jobs_total\": len(jobs),\n            \"jobs_by_status\": self._count_by_status(jobs),\n            \"clusters_total\": len(clusters),\n            \"estimated_nodes\": self._estimate_aiida_nodes(jobs),\n        }\n    \n    def migrate_job(self, job: JobStatus) -\u003e Optional[int]:\n        \"\"\"Migrate a single job to AiiDA.\n        \n        Returns AiiDA node PK or None if dry_run/failed.\n        \"\"\"\n        # 1. Get full job details from SQLite\n        details = self.sqlite_controller.get_job_details(job.pk)\n        if not details:\n            return None\n        \n        # 2. Create AiiDA CalcJobNode with:\n        #    - Input files as SinglefileData\n        #    - Parameters as Dict\n        #    - Computer/Code references\n        #    - Output files and parsed results\n        \n        # 3. Preserve metadata:\n        #    - Original timestamps (created_at, updated_at)\n        #    - Work directory path\n        #    - Exit status and error messages\n        \n        if self.dry_run:\n            return -1  # Placeholder\n        \n        # Actual AiiDA node creation...\n        return aiida_pk\n    \n    def migrate_all(\n        self,\n        job_filter: Optional[List[str]] = None,  # Status filter\n        batch_size: int = 100,\n        progress_callback: Optional[callable] = None,\n    ) -\u003e dict:\n        \"\"\"Migrate all jobs matching filter.\"\"\"\n        results = {\n            \"migrated\": 0,\n            \"skipped\": 0,\n            \"failed\": 0,\n            \"mapping\": {},  # sqlite_pk -\u003e aiida_pk\n        }\n        # Implementation...\n        return results\n```\n\n### 2. CLI Interface\n\n```bash\n# crystalmath migrate command\ncrystalmath migrate sqlite-to-aiida \\\n    --sqlite-path .crystal_tui.db \\\n    --aiida-profile production \\\n    --dry-run  # Preview first\n\ncrystalmath migrate sqlite-to-aiida \\\n    --sqlite-path .crystal_tui.db \\\n    --aiida-profile production \\\n    --status completed,failed  # Only terminal jobs\n    --batch-size 50 \\\n    --verbose\n```\n\n### 3. TUI Integration\n\nAdd migration screen to Python TUI:\n- Preview panel showing migration summary\n- Status filter checkboxes\n- Progress bar during migration\n- Mapping report (old PK → new AiiDA PK)\n- Option to delete SQLite data after successful migration\n\n### 4. Data Mapping Strategy\n\n| SQLite Field | AiiDA Equivalent |\n|--------------|------------------|\n| `jobs.id` | `CalcJobNode.pk` (new, store mapping) |\n| `jobs.name` | `CalcJobNode.label` |\n| `jobs.status` | `CalcJobNode.process_state` + `exit_status` |\n| `jobs.input_content` | `SinglefileData` (INPUT.d12) |\n| `jobs.work_dir` | `CalcJobNode.get_remote_workdir()` |\n| `jobs.results_json` | `Dict` node + parsed outputs |\n| `jobs.created_at` | `CalcJobNode.ctime` (set via extras) |\n| `jobs.cluster_id` | `Computer` reference |\n| `clusters.*` | `Computer` + `Code` configuration |\n\n### 5. Provenance Preservation\n\nFor completed jobs, create \"imported\" CalcJobNodes that:\n- Are marked as `imported=True` in extras\n- Link to reconstructed input nodes\n- Include original output files as `FolderData`\n- Preserve timing metadata in extras\n\n```python\nfrom aiida import orm\n\ndef create_imported_calcjob(details: JobDetails) -\u003e orm.CalcJobNode:\n    \"\"\"Create AiiDA node for historical job.\"\"\"\n    builder = orm.CalcJobNode()\n    builder.computer = get_or_create_computer(details.cluster_id)\n    builder.set_attribute(\"imported\", True)\n    builder.set_extra(\"original_sqlite_pk\", details.pk)\n    builder.set_extra(\"original_created_at\", details.created_at.isoformat())\n    # ... attach inputs/outputs\n    builder.store()\n    return builder\n```\n\n## Acceptance Criteria\n\n1. [ ] `crystalmath migrate sqlite-to-aiida --dry-run` shows accurate preview\n2. [ ] Completed jobs migrate with all metadata preserved\n3. [ ] Failed jobs migrate with error messages preserved\n4. [ ] Cluster configs create corresponding AiiDA Computer/Code entries\n5. [ ] Migration is idempotent (re-running skips already migrated)\n6. [ ] PK mapping file generated for reference\n7. [ ] TUI screen for guided migration workflow\n8. [ ] Documentation: \"Upgrading to AiiDA Mode\" guide\n\n## Non-Goals (Future Work)\n\n- Live sync (keeping both in sync) - too complex\n- Reverse migration (AiiDA → SQLite) - data loss risk\n- Workflow migration (DAGs) - jobs only for v1\n\n## Dependencies\n\n- AiiDA 2.x with pydantic ORM (aiida-core \u003e= 2.5)\n- aiida-crystal plugin (for CRYSTAL-specific node types)\n- Optional: aiida-vasp for VASP job migration\n\n## References\n\n- Gemini analysis on hybrid vs full AiiDA (2026-01-27)\n- ADR-002: Rust TUI Secondary Policy\n- AiiDA pydantic ORM blog: https://www.aiida.net/news/posts/2025-09-05-orm.html","notes":"Downgraded P2→P4. Legitimate future work but not actively planned.","status":"open","priority":3,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-01-27T13:23:27.818528-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T00:57:29.545605-06:00","labels":["aiida","feature","migration","python"]}
{"id":"crystalmath-i1tz.1","title":"Core migration module","description":"python/crystalmath/migration.py - SQLiteToAiiDAMigrator class, job/cluster mapping, idempotent re-runs","status":"open","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T00:57:37.307818-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T00:57:37.307818-06:00","dependencies":[{"issue_id":"crystalmath-i1tz.1","depends_on_id":"crystalmath-i1tz","type":"parent-child","created_at":"2026-02-10T00:57:37.314476-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-i1tz.2","title":"CLI interface for migration","description":"crystalmath migrate sqlite-to-aiida command with --dry-run, --status filter, --batch-size, --verbose","status":"open","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T00:57:38.4244-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T00:57:38.4244-06:00","dependencies":[{"issue_id":"crystalmath-i1tz.2","depends_on_id":"crystalmath-i1tz","type":"parent-child","created_at":"2026-02-10T00:57:38.425835-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-i1tz.2","depends_on_id":"crystalmath-i1tz.1","type":"blocks","created_at":"2026-02-10T00:57:48.423656-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-i1tz.3","title":"TUI migration screen","description":"Python TUI screen: preview panel, status filters, progress bar, PK mapping report","status":"open","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T00:57:40.003545-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T00:57:40.003545-06:00","dependencies":[{"issue_id":"crystalmath-i1tz.3","depends_on_id":"crystalmath-i1tz","type":"parent-child","created_at":"2026-02-10T00:57:40.006167-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-i1tz.3","depends_on_id":"crystalmath-i1tz.1","type":"blocks","created_at":"2026-02-10T00:57:48.92438-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-i1tz.4","title":"Data mapping and provenance","description":"Map SQLite fields to AiiDA nodes (CalcJobNode, SinglefileData, Dict, Computer). Mark imported nodes with extras","status":"open","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T00:57:41.523235-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T00:57:41.523235-06:00","dependencies":[{"issue_id":"crystalmath-i1tz.4","depends_on_id":"crystalmath-i1tz","type":"parent-child","created_at":"2026-02-10T00:57:41.526016-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-i1tz.4","depends_on_id":"crystalmath-i1tz.1","type":"blocks","created_at":"2026-02-10T00:57:49.415268-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-i1tz.5","title":"Tests and documentation","description":"Unit tests with mocked AiiDA, integration test, Upgrading to AiiDA Mode user guide","status":"open","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T00:57:42.816958-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T00:57:42.816958-06:00","dependencies":[{"issue_id":"crystalmath-i1tz.5","depends_on_id":"crystalmath-i1tz","type":"parent-child","created_at":"2026-02-10T00:57:42.818631-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-i1tz.5","depends_on_id":"crystalmath-i1tz.1","type":"blocks","created_at":"2026-02-10T00:57:50.676242-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-i1tz.5","depends_on_id":"crystalmath-i1tz.2","type":"blocks","created_at":"2026-02-10T00:57:50.925563-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-i1tz.5","depends_on_id":"crystalmath-i1tz.3","type":"blocks","created_at":"2026-02-10T00:57:51.133846-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-ib2","title":"Implement lib/cry-stage.sh","description":"Implement lib/cry-stage.sh","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.884651-06:00","updated_at":"2026-02-10T01:04:42.206562-06:00","closed_at":"2025-11-19T20:55:39.606558-06:00","dependencies":[{"issue_id":"crystalmath-ib2","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:50.017047-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ib2","depends_on_id":"crystalmath-dmt","type":"blocks","created_at":"2025-11-19T20:36:50.340079-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ib2","depends_on_id":"crystalmath-7e1","type":"blocks","created_at":"2025-11-19T20:36:50.524587-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ib2","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.135967-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-iir9","title":"[epic] Gemini CodebaseInvestigator Findings - Jan 2025","description":"Issues discovered by Gemini CLI CodebaseInvestigator agent analysis. Critical shell injection risks and performance bottlenecks identified.","notes":"All 10 issues addressed. Fixed: P0 eval shell injection in cry-exec.sh, P1 path injection in base.py, P2 memory exhaustion in orchestrator.py. Already addressed: ssh_runner security, database thread-safety, security tests. P3 issues closed as accepted risk/architecture debt.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-31T12:00:49.283559-06:00","updated_at":"2025-12-31T12:19:56.814292-06:00","closed_at":"2025-12-31T12:19:56.814295-06:00","labels":["performance","review","security"]}
{"id":"crystalmath-iir9.1","title":"[P0] Shell injection in cli/lib/cry-exec.sh via eval","description":"[P0] Shell injection in cli/lib/cry-exec.sh via eval","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-31T12:01:22.823215-06:00","updated_at":"2026-02-10T01:04:42.499997-06:00","closed_at":"2025-12-31T12:12:51.147247-06:00","labels":["cli","injection","security"],"dependencies":[{"issue_id":"crystalmath-iir9.1","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:01:22.824345-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.10","title":"[P3] Missing documentation for base.py input sanitization","description":"[P3] Missing documentation for base.py input sanitization","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T12:03:20.763106-06:00","updated_at":"2026-02-10T01:04:42.80276-06:00","closed_at":"2025-12-31T12:19:44.069586-06:00","labels":["docs","security"],"dependencies":[{"issue_id":"crystalmath-iir9.10","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:03:20.76385-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.2","title":"[P0] Shell injection in ssh_runner.py - mpi_ranks/threads interpolation","description":"[P0] Shell injection in ssh_runner.py - mpi_ranks/threads interpolation","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-31T12:01:37.554438-06:00","updated_at":"2026-02-10T01:04:43.217485-06:00","closed_at":"2025-12-31T12:13:41.675745-06:00","labels":["injection","python-tui","security"],"dependencies":[{"issue_id":"crystalmath-iir9.2","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:01:37.555254-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.3","title":"[P1] Shell injection in base.py - build_command uses bash -lc","description":"[P1] Shell injection in base.py - build_command uses bash -lc","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-31T12:01:50.972373-06:00","updated_at":"2026-02-10T01:04:43.47464-06:00","closed_at":"2025-12-31T12:14:42.085375-06:00","labels":["injection","python-tui","security"],"dependencies":[{"issue_id":"crystalmath-iir9.3","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:01:50.973289-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.4","title":"[P2] Memory exhaustion in orchestrator.py _parse_energy","description":"[P2] Memory exhaustion in orchestrator.py _parse_energy","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T12:02:04.275372-06:00","updated_at":"2026-02-10T01:04:43.844563-06:00","closed_at":"2025-12-31T12:16:28.020983-06:00","labels":["memory","performance","python-tui"],"dependencies":[{"issue_id":"crystalmath-iir9.4","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:02:04.276293-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.5","title":"[P3] SSH polling efficiency in ssh_runner.py","description":"[P3] SSH polling efficiency in ssh_runner.py","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T12:02:18.778972-06:00","updated_at":"2026-02-10T01:04:44.132267-06:00","closed_at":"2025-12-31T12:19:28.700397-06:00","labels":["efficiency","performance","python-tui"],"dependencies":[{"issue_id":"crystalmath-iir9.5","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:02:18.780105-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.6","title":"[P2] Thread-safety in database.py deprecated conn property","description":"[P2] Thread-safety in database.py deprecated conn property","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T12:02:36.338397-06:00","updated_at":"2026-02-10T01:04:44.495959-06:00","closed_at":"2025-12-31T12:17:21.184014-06:00","labels":["python-tui","quality","thread-safety"],"dependencies":[{"issue_id":"crystalmath-iir9.6","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:02:36.339454-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.7","title":"[P3] BridgeHandle Drop risks zombie threads","description":"[P3] BridgeHandle Drop risks zombie threads","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T12:02:48.856401-06:00","updated_at":"2026-02-10T01:04:44.779579-06:00","closed_at":"2025-12-31T12:19:33.821136-06:00","labels":["architecture","rust"],"dependencies":[{"issue_id":"crystalmath-iir9.7","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:02:48.857543-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.8","title":"[P3] Logic overlap between workflow.py and orchestrator.py","description":"[P3] Logic overlap between workflow.py and orchestrator.py","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T12:03:01.014857-06:00","updated_at":"2026-02-10T01:04:45.096132-06:00","closed_at":"2025-12-31T12:19:38.951952-06:00","labels":["architecture","duplication","python-tui"],"dependencies":[{"issue_id":"crystalmath-iir9.8","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:03:01.015589-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-iir9.9","title":"[P2] Missing security tests for shell injection vectors","description":"[P2] Missing security tests for shell injection vectors","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T12:03:15.5897-06:00","updated_at":"2026-02-10T01:04:45.340269-06:00","closed_at":"2025-12-31T12:19:11.61811-06:00","labels":["security","testing"],"dependencies":[{"issue_id":"crystalmath-iir9.9","depends_on_id":"crystalmath-iir9","type":"parent-child","created_at":"2025-12-31T12:03:15.590419-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-ikl","title":"Create project directory structure","description":"Create project directory structure","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.625726-06:00","updated_at":"2026-02-10T01:04:45.5564-06:00","closed_at":"2025-11-19T20:46:28.005003-06:00","dependencies":[{"issue_id":"crystalmath-ikl","depends_on_id":"crystalmath-6sp","type":"blocks","created_at":"2025-11-19T20:36:49.480865-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ikl","depends_on_id":"crystalmath-lcc","type":"blocks","created_at":"2025-11-19T20:36:49.506133-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ikl","depends_on_id":"crystalmath-ejy","type":"blocks","created_at":"2025-11-19T20:36:49.528672-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ikl","depends_on_id":"crystalmath-7jf","type":"blocks","created_at":"2025-11-19T20:36:50.109912-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-ikl","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:06.961671-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-ilp","title":"LSP stdin/stdout take() unwrap calls could panic","description":"LSP stdin/stdout take() unwrap calls could panic","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T14:55:29.772802-06:00","updated_at":"2026-02-10T01:04:45.843123-06:00","closed_at":"2025-12-30T15:00:16.40488-06:00","labels":["error-handling","lsp","rust"]}
{"id":"crystalmath-irtk","title":"Codex Code Review 2026-Q1","description":"Tracks 7 genuine findings from Codex deep code review of crystalmath monorepo (55% true positive rate). Organized into 5 sub-epics: Security Hardening, Rust-Python Contract Unification, Async Safety, Package Boundary Cleanup, and CI Gates.","status":"closed","priority":1,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:30:35.881469-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:18.710322-06:00","closed_at":"2026-02-10T03:37:18.710325-06:00"}
{"id":"crystalmath-irtk.1","title":"Security Hardening — Remote Execution","description":"Fix SSH host key verification bypass, unquoted POTCAR paths, and shell injection in orchestrator script nodes.","status":"closed","priority":1,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:30:45.436182-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:17.830777-06:00","closed_at":"2026-02-10T03:37:17.83078-06:00","dependencies":[{"issue_id":"crystalmath-irtk.1","depends_on_id":"crystalmath-irtk","type":"parent-child","created_at":"2026-02-10T02:30:45.440095-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.1.1","title":"Enforce SSH host key verification in SLURM runner","description":"Files: python/crystalmath/integrations/slurm_runner.py lines 553, 1226, 1336, 1484. Replace all 4 known_hosts=None with proper host key loading. Use ConnectionManager pattern from tui/src/core/connection_manager.py:309 (already does it right). Add explicit opt-in flag + warning log for insecure mode.","status":"closed","priority":0,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:31:03.907146-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T02:54:33.104561-06:00","closed_at":"2026-02-10T02:54:33.104561-06:00","close_reason":"Auto-created duplicates; real tasks are irtk.1.4-6 and irtk.2.3-5","dependencies":[{"issue_id":"crystalmath-irtk.1.1","depends_on_id":"crystalmath-irtk.1","type":"parent-child","created_at":"2026-02-10T02:31:03.921732-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.1.2","title":"Quote POTCAR paths in SSH runner","description":"Files: tui/src/runners/ssh_runner.py lines 1071, 1081. Apply shlex.quote() to base_path and full path in test -f command. Validate potcar_type against allowlist (element already validated via _ELEMENT_PATTERN).","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:31:07.192842-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T02:54:33.129196-06:00","closed_at":"2026-02-10T02:54:33.129196-06:00","close_reason":"Auto-created duplicates; real tasks are irtk.1.4-6 and irtk.2.3-5","dependencies":[{"issue_id":"crystalmath-irtk.1.2","depends_on_id":"crystalmath-irtk.1","type":"parent-child","created_at":"2026-02-10T02:31:07.196817-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.1.3","title":"Migrate orchestrator script-node to subprocess_exec","description":"Files: tui/src/core/orchestrator.py lines 1912, 1932. Replace create_subprocess_shell(command) with create_subprocess_exec + shlex.split(). Validate Jinja-rendered command against allowlist of safe executables.","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:31:09.98327-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T02:54:33.153905-06:00","closed_at":"2026-02-10T02:54:33.153905-06:00","close_reason":"Auto-created duplicates; real tasks are irtk.1.4-6 and irtk.2.3-5","dependencies":[{"issue_id":"crystalmath-irtk.1.3","depends_on_id":"crystalmath-irtk.1","type":"parent-child","created_at":"2026-02-10T02:31:09.985866-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.1.4","title":"Enforce SSH host key verification in SLURM runner","description":"Files: python/crystalmath/integrations/slurm_runner.py lines 553, 1226, 1336, 1484. Replace all 4 known_hosts=None with proper host key loading. Use ConnectionManager pattern from tui/src/core/connection_manager.py:309 (already does it right). Add explicit opt-in flag + warning log for insecure mode.","notes":"Fixed: all 4 known_hosts=None replaced with _get_known_hosts(), opt-in allow_insecure flag added","status":"closed","priority":0,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:33.047107-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:33:18.476128-06:00","closed_at":"2026-02-10T03:33:18.476139-06:00","dependencies":[{"issue_id":"crystalmath-irtk.1.4","depends_on_id":"crystalmath-irtk.1","type":"parent-child","created_at":"2026-02-10T02:53:33.048731-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.1.5","title":"Quote POTCAR paths in SSH runner","description":"Files: tui/src/runners/ssh_runner.py lines 1071, 1081. Apply shlex.quote() to base_path and full path in test -f command. Validate potcar_type against allowlist (element already validated via _ELEMENT_PATTERN).","notes":"Fixed: shlex.quote() applied to POTCAR paths, potcar_type allowlist added","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:33.302403-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:33:18.594642-06:00","closed_at":"2026-02-10T03:33:18.594649-06:00","dependencies":[{"issue_id":"crystalmath-irtk.1.5","depends_on_id":"crystalmath-irtk.1","type":"parent-child","created_at":"2026-02-10T02:53:33.303599-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-irtk.1.5","depends_on_id":"crystalmath-irtk.1.4","type":"blocks","created_at":"2026-02-10T02:53:45.363137-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.1.6","title":"Migrate orchestrator script-node to subprocess_exec","description":"Files: tui/src/core/orchestrator.py lines 1912, 1932. Replace create_subprocess_shell(command) with create_subprocess_exec + shlex.split(). Validate Jinja-rendered command against allowlist of safe executables.","notes":"Fixed: create_subprocess_shell replaced with create_subprocess_exec + shlex.split, executable allowlist added","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:33.550195-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:33:18.793011-06:00","closed_at":"2026-02-10T03:33:18.793015-06:00","dependencies":[{"issue_id":"crystalmath-irtk.1.6","depends_on_id":"crystalmath-irtk.1","type":"parent-child","created_at":"2026-02-10T02:53:33.551157-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-irtk.1.6","depends_on_id":"crystalmath-irtk.1.5","type":"blocks","created_at":"2026-02-10T02:53:46.002393-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.2","title":"Rust↔Python Contract Unification","description":"Unify cluster connection test response schema, cluster config schema, and modernize contract tests to validate Rust deserialization.","status":"closed","priority":1,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:30:47.936829-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:18.003231-06:00","closed_at":"2026-02-10T03:37:18.003235-06:00","dependencies":[{"issue_id":"crystalmath-irtk.2","depends_on_id":"crystalmath-irtk","type":"parent-child","created_at":"2026-02-10T02:30:47.939014-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.2.1","title":"Unify cluster connection test response schema","description":"Python (api.py:1717): returns {connected: True, message: ...}. Rust (models.rs:685): expects {success: true, error: ...}. Fix: rename Python connected → success, message → error (null on success). Update bridge.rs:1169 deserialization if needed.","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:31:12.387864-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T02:54:33.17735-06:00","closed_at":"2026-02-10T02:54:33.17735-06:00","close_reason":"Auto-created duplicates; real tasks are irtk.1.4-6 and irtk.2.3-5","dependencies":[{"issue_id":"crystalmath-irtk.2.1","depends_on_id":"crystalmath-irtk.2","type":"parent-child","created_at":"2026-02-10T02:31:12.392895-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.2.2","title":"Unify cluster config schema (canonical ClusterConfig)","description":"Python (api.py:1586,1620,1519): uses connection_config dict, string type. Rust (models.rs:270): has ClusterStatus enum (Active/Offline/Testing/Unknown). Fix: define one canonical schema, align status enums, ensure fields like cry23_root/vasp_root serialize correctly.","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:31:15.716207-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T02:54:33.200007-06:00","closed_at":"2026-02-10T02:54:33.200007-06:00","close_reason":"Auto-created duplicates; real tasks are irtk.1.4-6 and irtk.2.3-5","dependencies":[{"issue_id":"crystalmath-irtk.2.2","depends_on_id":"crystalmath-irtk.2","type":"parent-child","created_at":"2026-02-10T02:31:15.71911-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.2.3","title":"Unify cluster connection test response schema","description":"Python (api.py:1717): returns {connected: True, message: ...}. Rust (models.rs:685): expects {success: true, error: ...}. Fix: rename Python connected → success, message → error (null on success). Update bridge.rs:1169 deserialization if needed.","notes":"Fixed: connected→success, message removed, matches Rust ClusterConnectionResult","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:33.802027-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:35:10.201056-06:00","closed_at":"2026-02-10T03:35:10.201059-06:00","dependencies":[{"issue_id":"crystalmath-irtk.2.3","depends_on_id":"crystalmath-irtk.2","type":"parent-child","created_at":"2026-02-10T02:53:33.803118-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.2.4","title":"Unify cluster config schema (canonical ClusterConfig)","description":"Python (api.py:1586,1620,1519): uses connection_config dict, string type. Rust (models.rs:270): has ClusterStatus enum (Active/Offline/Testing/Unknown). Fix: define one canonical schema, align status enums, ensure fields like cry23_root/vasp_root serialize correctly.","notes":"Fixed: flattened connection_config, aligned ClusterStatus enum (Offline→Inactive, added Error)","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:34.047496-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:35:10.313912-06:00","closed_at":"2026-02-10T03:35:10.313915-06:00","dependencies":[{"issue_id":"crystalmath-irtk.2.4","depends_on_id":"crystalmath-irtk.2","type":"parent-child","created_at":"2026-02-10T02:53:34.048653-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.2.5","title":"Modernize contract tests to validate Rust deserialization","description":"Files: tui/tests/test_json_contract.py lines 1186, 1188, 1205. Tests currently codify the OLD payloads (connected, inactive/error status). Fix: update test payloads to match canonical schema; add roundtrip test that deserializes via actual Rust serde structs.","notes":"Fixed: updated test payloads to canonical schema, added 2 roundtrip serde tests, 36/36 pass","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:34.288367-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:35:10.456793-06:00","closed_at":"2026-02-10T03:35:10.456797-06:00","dependencies":[{"issue_id":"crystalmath-irtk.2.5","depends_on_id":"crystalmath-irtk.2","type":"parent-child","created_at":"2026-02-10T02:53:34.289495-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-irtk.2.5","depends_on_id":"crystalmath-irtk.2.3","type":"blocks","created_at":"2026-02-10T02:53:46.634822-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-irtk.2.5","depends_on_id":"crystalmath-irtk.2.4","type":"blocks","created_at":"2026-02-10T02:53:47.299962-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.3","title":"Async \u0026 Event Loop Safety","description":"Fix sync DB calls blocking event loop in queue_manager failure paths and eliminate run_until_complete in SLURM API.","status":"closed","priority":2,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:30:51.356299-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:18.192023-06:00","closed_at":"2026-02-10T03:37:18.192026-06:00","dependencies":[{"issue_id":"crystalmath-irtk.3","depends_on_id":"crystalmath-irtk","type":"parent-child","created_at":"2026-02-10T02:30:51.359662-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.3.1","title":"Async DB wrapper for queue_manager failure paths","description":"Files: tui/src/core/queue_manager.py lines 996, 1004. Sync db.update_status() calls block event loop in _handle_failure(). Fix: route through _run_db() async wrapper or asyncio.to_thread().","notes":"Fixed: 4 sync db calls in _handle_job_failure() now route through _run_db() async wrapper","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:34.538373-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:32:58.40052-06:00","closed_at":"2026-02-10T03:32:58.400522-06:00","dependencies":[{"issue_id":"crystalmath-irtk.3.1","depends_on_id":"crystalmath-irtk.3","type":"parent-child","created_at":"2026-02-10T02:53:34.539457-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.3.2","title":"Async-first SLURM API (eliminate run_until_complete)","description":"Files: python/crystalmath/integrations/slurm_runner.py lines 385, 1187, 1271, 1461. Multiple run_until_complete calls fail under active event loops. Fix: make API natively async, add sync adapters only at entry boundaries.","notes":"Fixed: 6 methods made natively async with _async suffix, sync adapters via _run_sync(), zero breaking changes","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:34.779656-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:32:58.500689-06:00","closed_at":"2026-02-10T03:32:58.500691-06:00","dependencies":[{"issue_id":"crystalmath-irtk.3.2","depends_on_id":"crystalmath-irtk.3","type":"parent-child","created_at":"2026-02-10T02:53:34.780498-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.4","title":"Architecture — Package Boundary Cleanup","description":"Eliminate sys.path mutation in api.py by extracting shared services into python/crystalmath/ package with proper uv workspace imports.","status":"closed","priority":2,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:30:53.42269-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:18.365621-06:00","closed_at":"2026-02-10T03:37:18.365625-06:00","dependencies":[{"issue_id":"crystalmath-irtk.4","depends_on_id":"crystalmath-irtk","type":"parent-child","created_at":"2026-02-10T02:30:53.42509-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.4.1","title":"Eliminate sys.path mutation in api.py","description":"Files: python/crystalmath/api.py lines 168, 867, 1024, 1678. 4 locations mutate sys.path to import TUI internals. Fix: extract shared services into python/crystalmath/ package; use proper imports via uv workspace.","notes":"Fixed: removed all 11 sys.path mutations across 6 import groups, using uv workspace imports instead","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:35.03163-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:34:34.562601-06:00","closed_at":"2026-02-10T03:34:34.562605-06:00","dependencies":[{"issue_id":"crystalmath-irtk.4.1","depends_on_id":"crystalmath-irtk.4","type":"parent-child","created_at":"2026-02-10T02:53:35.032603-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.5","title":"Code Quality \u0026 CI Gates","description":"Enforce cargo fmt in CI, resolve duplicate unicode-width Cargo dependency, and set up IPC integration test CI. Depends on all other sub-epics completing first.","status":"closed","priority":3,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:30:54.62495-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:18.537784-06:00","closed_at":"2026-02-10T03:37:18.537788-06:00","dependencies":[{"issue_id":"crystalmath-irtk.5","depends_on_id":"crystalmath-irtk","type":"parent-child","created_at":"2026-02-10T02:30:54.627676-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-irtk.5","depends_on_id":"crystalmath-irtk.1","type":"blocks","created_at":"2026-02-10T02:53:48.18795-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-irtk.5","depends_on_id":"crystalmath-irtk.2","type":"blocks","created_at":"2026-02-10T02:53:48.665623-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-irtk.5","depends_on_id":"crystalmath-irtk.3","type":"blocks","created_at":"2026-02-10T02:53:49.07301-06:00","created_by":"TheFermiSea"},{"issue_id":"crystalmath-irtk.5","depends_on_id":"crystalmath-irtk.4","type":"blocks","created_at":"2026-02-10T02:53:49.727295-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.5.1","title":"cargo fmt enforcement + CI gate","description":"Run cargo fmt --all, enforce in CI (check mode). Add cargo fmt --all --check to CI pipeline.","notes":"Created .github/workflows/ci.yml with cargo fmt --all --check gate","status":"closed","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:35.272083-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:12.124318-06:00","closed_at":"2026-02-10T03:37:12.124323-06:00","dependencies":[{"issue_id":"crystalmath-irtk.5.1","depends_on_id":"crystalmath-irtk.5","type":"parent-child","created_at":"2026-02-10T02:53:35.272994-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.5.2","title":"Resolve duplicate unicode-width Cargo dependency","description":"cargo tree -d shows unicode-width 0.1 + 0.2 coexisting. Align crate constraints, verify with cargo tree -d in CI.","notes":"Updated unicode-truncate 1.0→2.0, resolves direct dep duplication. Remaining transitive duplication from ratatui 0.29 is upstream.","status":"closed","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:35.513922-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:12.413615-06:00","closed_at":"2026-02-10T03:37:12.413619-06:00","dependencies":[{"issue_id":"crystalmath-irtk.5.2","depends_on_id":"crystalmath-irtk.5","type":"parent-child","created_at":"2026-02-10T02:53:35.514811-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-irtk.5.3","title":"IPC integration test CI setup","description":"tests/ipc_integration.rs:214 needs crystalmath-server binary in CI PATH. Add build step or explicit skip in CI config.","notes":"CI workflow skips IPC tests by default (CRYSTALMATH_SKIP_IPC_TESTS=1), runs them separately with continue-on-error","status":"closed","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T02:53:35.754757-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T03:37:12.619951-06:00","closed_at":"2026-02-10T03:37:12.619956-06:00","dependencies":[{"issue_id":"crystalmath-irtk.5.3","depends_on_id":"crystalmath-irtk.5","type":"parent-child","created_at":"2026-02-10T02:53:35.755606-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-j8lr","title":"[se2.4] Bulk to Nanostructure Transformation","description":"Bulk crystal → Nanoparticle/nanowire/nanotube carving. Wulff construction for equilibrium shapes. Passivation with H/OH groups. Common for catalysis research.","notes":"Consolidated into parent epic 7k7. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T22:59:20.29849-06:00","updated_at":"2026-02-08T14:13:17.583879-06:00","closed_at":"2026-02-08T14:13:17.583882-06:00","labels":["nanostructures","pymatgen","structures"]}
{"id":"crystalmath-jca1","title":"[cs5.1] AWS Batch Cloud Burst - automatic overflow","description":"Cloud burst when local HPC queue depth exceeds threshold. AWS Batch with Spot instances. Cost estimation before submission. Configurable price limits.","notes":"Consolidated into parent epic dgg. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:17:03.007526-06:00","updated_at":"2026-02-08T14:13:22.577556-06:00","closed_at":"2026-02-08T14:13:22.577559-06:00","labels":["aws","cloud","scale"]}
{"id":"crystalmath-jewq","title":"Pre-push hooks + GitHub workflows overhaul","description":"Replace broken CI with cost-effective, path-filtered workflows. Add local pre-push quality gate. See plan: ci-python.yml, ci-cli.yml, ci-rust.yml replacing ci.yml, plus pre-push-quality.sh composite hook.","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-02-10T09:44:53.96029-06:00","created_by":"TheFermiSea","updated_at":"2026-02-10T09:47:49.805547-06:00","closed_at":"2026-02-10T09:47:49.805547-06:00","close_reason":"Implemented: 3 path-filtered workflows, composite pre-push hook, ruff baseline regression check"}
{"id":"crystalmath-jmt","title":"Integrate cry23.bashrc Environment","description":"Integrate cry23.bashrc Environment","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-20T19:20:26.142779-06:00","updated_at":"2026-02-10T01:04:46.206941-06:00","closed_at":"2025-11-20T23:24:24.808242-06:00","labels":["integration","mvp","phase-1"]}
{"id":"crystalmath-jq2u","title":"3.2: High-Level Workflow Runners","description":"3.2: High-Level Workflow Runners","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:18:25.281823-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:46.565669-06:00","closed_at":"2026-01-09T08:10:24.137585-06:00","close_reason":"All 5 workflow runners implemented with full functionality","dependencies":[{"issue_id":"crystalmath-jq2u","depends_on_id":"crystalmath-vxgl","type":"blocks","created_at":"2026-01-08T22:19:06.197471-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-jqun","title":"[AI] DFT Knowledge Base Context","description":"Build a RAG (Retrieval-Augmented Generation) context for DFT-specific knowledge:\n- CRYSTAL23 manual excerpts\n- Common error patterns and fixes\n- Basis set recommendations by element/system type\n- Convergence strategies\n\nStore as embeddings for semantic search during AI queries.","notes":"Parent AI epic closed. Deferred.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T17:09:51.132804-06:00","updated_at":"2026-02-08T14:13:10.137964-06:00","closed_at":"2026-02-08T14:13:10.137968-06:00","dependencies":[{"issue_id":"crystalmath-jqun","depends_on_id":"crystalmath-11q0","type":"blocks","created_at":"2026-01-05T17:09:51.134508-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-jqun","depends_on_id":"crystalmath-5grc","type":"blocks","created_at":"2026-01-05T17:10:11.397967-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-jxcg","title":"[ai4.2] Natural Language Input Generation - prompt to .d12","description":"User: 'Calculate band structure of silicon with HSE06' → Generate Si.d12 with HSE06 hybrid functional + BAND keyword + high-symmetry k-path. Claude API with tool use. Validate with LSP.","notes":"Speculative AI feature. Deferred indefinitely.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:16:37.89408-06:00","updated_at":"2026-02-08T14:13:21.268178-06:00","closed_at":"2026-02-08T14:13:21.26818-06:00","labels":["ai","input-generation","llm"],"dependencies":[{"issue_id":"crystalmath-jxcg","depends_on_id":"crystalmath-y6tn","type":"related","created_at":"2026-01-05T17:13:17.987018-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-kdl7","title":"CrystalMath Advanced Workflow Integration","description":"Deep integration of crystalmath with AiiDA, pymatgen, atomate2, and other advanced computational libraries. Enables high-level workflows with minimal effort.\n\n**Meta-Prompt Location:** prompts/META-PROMPT-WORKFLOW-INTEGRATION.md\n\n**WORKFLOW INSTRUCTIONS:**\n1. Before starting ANY task, read the corresponding prompt section from the meta-prompt file\n2. After completing each task, update the beads issue with:\n   - Key findings/decisions made\n   - Files created or modified\n   - Any blockers or dependencies discovered\n3. Close the task only when ALL deliverables are complete\n\n**Success Criteria:**\n- [ ] pymatgen Structure objects flow seamlessly through workflows\n- [ ] atomate2 Flows can be executed via crystalmath backends\n- [ ] High-level API enables one-liner workflow execution\n- [ ] Beefcake2 cluster fully configured for all codes\n- [ ] 80%+ test coverage on integration modules\n- [ ] Documentation covers all major use cases","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-08T22:14:01.506929-06:00","created_by":"briansquires","updated_at":"2026-01-27T12:22:33.661145-06:00","closed_at":"2026-01-27T12:22:33.661145-06:00","close_reason":"Superseded by crystalmath-ot4c (Phase 3) and crystalmath-xr21 (AiiDA Enhancement). All workflow integration goals achieved."}
{"id":"crystalmath-kkpc","title":"[AI] Streaming Response Support","description":"Implement streaming for AI responses:\n- Python side: Yield tokens as they arrive from Opencode.\n- Bridge: Use mpsc channel to stream chunks to Rust.\n- Rust UI: Update display incrementally (typewriter effect).\nThis improves UX for longer explanations.","notes":"Parent AI epic closed. Deferred.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T17:09:57.404579-06:00","updated_at":"2026-02-08T14:13:10.795313-06:00","closed_at":"2026-02-08T14:13:10.795317-06:00","dependencies":[{"issue_id":"crystalmath-kkpc","depends_on_id":"crystalmath-0b7j","type":"blocks","created_at":"2026-01-05T17:09:57.406081-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lac","title":"Duplicate dependency resolution logic","description":"Duplicate dependency resolution logic","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-21T12:15:16.479008-06:00","updated_at":"2026-02-10T01:04:47.017896-06:00","closed_at":"2025-11-22T23:47:15.899249-06:00","labels":["architecture","orchestration","phase-2","queue"]}
{"id":"crystalmath-lcc","title":"Implement lib/cry-logging.sh","description":"Implement lib/cry-logging.sh","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.702964-06:00","updated_at":"2026-02-10T01:04:47.339636-06:00","closed_at":"2025-11-19T20:50:22.965951-06:00","dependencies":[{"issue_id":"crystalmath-lcc","depends_on_id":"crystalmath-ejy","type":"blocks","created_at":"2025-11-19T20:36:49.574097-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-lcc","depends_on_id":"crystalmath-be3","type":"blocks","created_at":"2025-11-19T20:36:49.644519-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-lcc","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:49.900194-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-lcc","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.01077-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-lcgf","title":"[am3.4] Calculation Reproducibility Checksums","description":"Hash input files + binary version + environment. Verify calculation can be reproduced. Detect accidental parameter changes. Critical for publication-quality results.","notes":"Consolidated into parent epic 5uy. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T22:59:27.328923-06:00","updated_at":"2026-02-08T14:13:19.017752-06:00","closed_at":"2026-02-08T14:13:19.017756-06:00","labels":["analytics","reproducibility","verification"]}
{"id":"crystalmath-lo7","title":"Rust TUI Feature Parity with Textual TUI","description":"Bring Rust TUI to feature parity with Python Textual TUI. Core viewing functionality works (Jobs, Editor, Results, Log). Missing: job creation, cluster management, batch submission, template browser, VASP multi-file, materials search, SLURM queue. The Rust TUI provides 60fps rendering + LSP integration not in Python version.","notes":"Materials Search UI partially implemented. Cluster Manager and Slurm Queue basics exist.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-28T20:47:42.257269-06:00","updated_at":"2026-02-02T21:07:03.41173-06:00","closed_at":"2026-02-02T21:07:03.41173-06:00","close_reason":"Rust TUI has reached feature parity with Textual TUI, including animations and LSP integration.","labels":["parity","rust","tui"]}
{"id":"crystalmath-lo7.1","title":"Rust TUI: New Job Screen","description":"Rust TUI: New Job Screen","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T20:48:00.538046-06:00","updated_at":"2026-02-10T01:04:47.656091-06:00","closed_at":"2025-12-29T15:47:26.343161-06:00","dependencies":[{"issue_id":"crystalmath-lo7.1","depends_on_id":"crystalmath-lo7","type":"parent-child","created_at":"2025-12-28T20:48:00.538748-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lo7.2","title":"Rust TUI: Cluster Manager Screen","description":"Rust TUI: Cluster Manager Screen","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T20:48:06.764863-06:00","updated_at":"2026-02-10T01:04:47.90356-06:00","closed_at":"2025-12-30T13:48:51.463238-06:00","dependencies":[{"issue_id":"crystalmath-lo7.2","depends_on_id":"crystalmath-lo7","type":"parent-child","created_at":"2025-12-28T20:48:06.765612-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lo7.3","title":"Rust TUI: SLURM Queue Screen","description":"Rust TUI: SLURM Queue Screen","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T20:48:13.0824-06:00","updated_at":"2026-02-10T01:04:48.125611-06:00","closed_at":"2025-12-30T13:56:57.834548-06:00","dependencies":[{"issue_id":"crystalmath-lo7.3","depends_on_id":"crystalmath-lo7","type":"parent-child","created_at":"2025-12-28T20:48:13.083257-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lo7.4","title":"Rust TUI: VASP Multi-File Input","description":"Rust TUI: VASP Multi-File Input","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-28T20:48:30.65822-06:00","updated_at":"2026-02-10T01:04:48.376745-06:00","closed_at":"2025-12-30T14:04:51.946579-06:00","dependencies":[{"issue_id":"crystalmath-lo7.4","depends_on_id":"crystalmath-lo7","type":"parent-child","created_at":"2025-12-28T20:48:30.65891-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lo7.5","title":"Rust TUI: Template Browser","description":"Port TemplateBrowserScreen to Rust TUI. List available input templates, preview, select to populate editor. Requires PyO3 bridge for template listing.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T20:48:36.937636-06:00","updated_at":"2026-02-02T21:06:31.931389-06:00","closed_at":"2026-02-02T21:06:31.931389-06:00","close_reason":"Implemented Template Browser and Batch Submission modals with slide-in/out animations in Rust TUI.","dependencies":[{"issue_id":"crystalmath-lo7.5","depends_on_id":"crystalmath-lo7","type":"parent-child","created_at":"2025-12-28T20:48:36.938413-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lo7.6","title":"Rust TUI: Materials Search","description":"Port MaterialsSearchScreen to Rust TUI. Query Materials Project API, display results, select structure to generate input. Lower priority as Phase 4 feature.","notes":"Rust UI component src/ui/materials.rs exists and implements the modal rendering.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T20:48:43.575299-06:00","updated_at":"2026-01-27T12:04:33.119268-06:00","closed_at":"2026-01-27T12:04:33.119268-06:00","close_reason":"Implemented: src/ui/materials.rs (Rust) and tui/src/tui/screens/materials_search.py (Python)","dependencies":[{"issue_id":"crystalmath-lo7.6","depends_on_id":"crystalmath-lo7","type":"parent-child","created_at":"2025-12-28T20:48:43.575985-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lo7.7","title":"Rust TUI: Batch Submission","description":"Port BatchSubmissionScreen to Rust TUI. Submit multiple jobs at once with parameter sweeps. Lower priority workflow feature.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T20:48:50.116205-06:00","updated_at":"2026-02-02T21:06:31.937221-06:00","closed_at":"2026-02-02T21:06:31.937221-06:00","close_reason":"Implemented Template Browser and Batch Submission modals with slide-in/out animations in Rust TUI.","dependencies":[{"issue_id":"crystalmath-lo7.7","depends_on_id":"crystalmath-lo7","type":"parent-child","created_at":"2025-12-28T20:48:50.116923-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lo7.8","title":"Rust TUI: Fix PyO3 0.27 deprecations","description":"Rust TUI: Fix PyO3 0.27 deprecations","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-28T20:49:03.394496-06:00","updated_at":"2026-02-10T01:04:48.648124-06:00","closed_at":"2025-12-29T22:37:39.196218-06:00","dependencies":[{"issue_id":"crystalmath-lo7.8","depends_on_id":"crystalmath-lo7","type":"parent-child","created_at":"2025-12-28T20:49:03.395293-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-lrku","title":"Implement Crystal23Calculation and Parser","description":"Implement core AiiDA plugin classes for CRYSTAL23: CalcJob and Parser.\n- python/crystalmath/aiida_plugin/calcjobs/crystal23.py: Crystal23Calculation\n- python/crystalmath/aiida_plugin/parsers/crystal23.py: Crystal23Parser\n- Must handle input generation (d12) and output parsing (energy, forces, geometry).","notes":"Crystal23Calculation and Crystal23Parser already implemented in tui/src/aiida/calcjobs/crystal23.py and parser.py","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T16:36:38.353333-06:00","updated_at":"2026-02-08T14:12:55.206473-06:00","closed_at":"2026-02-08T14:12:55.206479-06:00","dependencies":[{"issue_id":"crystalmath-lrku","depends_on_id":"crystalmath-7r8","type":"blocks","created_at":"2026-01-05T16:36:38.35619-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-m1v5","title":"1.1: Current State Analysis","description":"1.1: Current State Analysis","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:17:27.527675-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:48.896311-06:00","closed_at":"2026-01-08T23:00:44.824851-06:00","close_reason":"Research complete - all deliverables documented in notes"}
{"id":"crystalmath-m8eu","title":"3.4: Testing Suite","description":"3.4: Testing Suite","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:18:27.523364-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:49.12546-06:00","closed_at":"2026-01-09T08:28:03.023141-06:00","close_reason":"Comprehensive test suite created with 4501 lines of tests","dependencies":[{"issue_id":"crystalmath-m8eu","depends_on_id":"crystalmath-vxgl","type":"blocks","created_at":"2026-01-08T22:19:06.432315-06:00","created_by":"briansquires"},{"issue_id":"crystalmath-m8eu","depends_on_id":"crystalmath-jq2u","type":"blocks","created_at":"2026-01-08T22:19:06.512732-06:00","created_by":"briansquires"},{"issue_id":"crystalmath-m8eu","depends_on_id":"crystalmath-seki","type":"blocks","created_at":"2026-01-08T22:19:06.592019-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-mbpt","title":"[epic] Structure Engineering Tools","description":"Tools for building and manipulating crystal structures. Slabs (surface science), Defects (supercells), and Heterostructures. Backend: Pymatgen. Frontend: Rust TUI forms.","notes":"Duplicate of crystalmath-7k7","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-30T21:19:29.580064Z","updated_at":"2025-12-31T08:58:44.292243-06:00","closed_at":"2025-12-31T08:58:44.292245-06:00"}
{"id":"crystalmath-n3fy","title":"1.3: Beefcake2 Cluster Integration Points","description":"1.3: Beefcake2 Cluster Integration Points","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:17:29.859524-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:49.412247-06:00","closed_at":"2026-01-08T23:00:44.869398-06:00","close_reason":"Research complete - all deliverables documented in notes"}
{"id":"crystalmath-n5e","title":"Add bats tests for missing parallel binary","description":"Add bats tests for missing parallel binary","status":"closed","priority":3,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-27T00:12:14.0762-06:00","updated_at":"2026-02-10T01:04:49.730017-06:00","closed_at":"2025-12-30T08:27:53.283558-06:00","dependencies":[{"issue_id":"crystalmath-n5e","depends_on_id":"crystalmath-3pb","type":"parent-child","created_at":"2025-12-27T00:12:23.812816-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-n5e","depends_on_id":"crystalmath-exp","type":"blocks","created_at":"2025-12-27T01:29:22.067764-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-nim","title":"Write unit tests for lib/cry-config.sh","description":"Write unit tests for lib/cry-config.sh","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T20:36:19.098633-06:00","updated_at":"2026-02-10T01:04:49.977906-06:00","closed_at":"2025-11-20T00:40:36.148444-06:00","dependencies":[{"issue_id":"crystalmath-nim","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.284252-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-nroc","title":"Update Documentation and Tests","description":"Update Documentation and Tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T16:17:35.265026-06:00","updated_at":"2026-02-10T01:04:50.167383-06:00","closed_at":"2026-01-05T16:29:19.388411-06:00","dependencies":[{"issue_id":"crystalmath-nroc","depends_on_id":"crystalmath-yu6t","type":"blocks","created_at":"2026-01-05T16:17:35.266771-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-nui","title":"[ct3.8] Create VASP Documentation \u0026 Guides","description":"[ct3.8] Create VASP Documentation \u0026 Guides","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T03:04:41.020919-06:00","updated_at":"2026-02-10T01:04:50.332059-06:00","closed_at":"2025-12-28T11:28:59.774464-06:00"}
{"id":"crystalmath-obqk","title":"[CRITICAL] eval() in workflow condition_expr enables code injection","description":"[CRITICAL] eval() in workflow condition_expr enables code injection","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-30T22:57:59.239796-06:00","updated_at":"2026-02-10T01:04:50.502755-06:00","closed_at":"2025-12-31T09:00:44.440422-06:00","labels":["critical","security","workflow"]}
{"id":"crystalmath-ohv","title":"Gate gum auto-install to OS/arch + user consent","description":"Gate gum auto-install to OS/arch + user consent","status":"closed","priority":3,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-27T00:08:33.52569-06:00","updated_at":"2026-02-10T01:04:50.712854-06:00","closed_at":"2025-12-30T08:39:46.203783-06:00","dependencies":[{"issue_id":"crystalmath-ohv","depends_on_id":"crystalmath-ewo","type":"parent-child","created_at":"2025-12-27T00:09:36.855904-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-ot4c","title":"Phase 3: Implementation Phase","description":"Build the integration incrementally with comprehensive tests.\n\n**READ FIRST:** prompts/META-PROMPT-WORKFLOW-INTEGRATION.md → Phase 3\n\n**Deliverables:**\n- Core integration module at python/crystalmath/integrations/\n- High-level workflow runners at python/crystalmath/workflows/high_level.py\n- Beefcake2 cluster configuration at python/crystalmath/clusters/beefcake2.py\n- Comprehensive test suite at python/tests/test_integrations/\n\n**IMPORTANT:** Update this epic's notes with files created and test coverage.","notes":"## Phase 3 Deliverables - COMPLETE\n\n**Core Integration Module (python/crystalmath/workflows/):**\n- convergence.py (15k) - ConvergenceStudy/ConvergenceWorkflow\n- bands.py (15k) - BandStructureWorkflow  \n- phonon.py (18k) - PhononWorkflow\n- eos.py (13k) - EOSWorkflow (Birch-Murnaghan fitting)\n- aiida_launcher.py (19k) - AiiDA workflow launchers\n\n**Test Suite (python/tests/):**\n- test_workflows.py (23k)\n- test_high_level_api.py (29k)\n- test_pymatgen_bridge.py (30k)\n- test_cluster_config.py (25k)\n- test_atomate2_bridge.py (24k)\n- test_slurm_runner.py (18k)\n\n**TUI Integration (tui/):**\n- 48 test files total\n- Comprehensive test coverage for core, runners, aiida modules","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-08T22:16:54.413407-06:00","created_by":"briansquires","updated_at":"2026-01-27T12:22:17.083092-06:00","closed_at":"2026-01-27T12:22:17.083092-06:00","close_reason":"All Phase 3 deliverables implemented: workflows, high-level API, comprehensive test suites. Validated by Gemini code review.","dependencies":[{"issue_id":"crystalmath-ot4c","depends_on_id":"crystalmath-dm1u","type":"blocks","created_at":"2026-01-08T22:17:05.038236-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-oxy","title":"Refactor runcrystal into modular architecture","description":"Transform monolithic 372-line runcrystal script into production-grade modular CLI tool with separate lib/ modules, shared UI components, and comprehensive testing","design":"Architecture based on gemini/codex analysis: cry-config, cry-ui, cry-parallel, cry-scratch, cry-stage, cry-exec, cry-help modules. Main script becomes thin orchestrator \u003c100 lines. Use CRY_JOB associative array for state passing. Implement trap-based cleanup guarantee.","acceptance_criteria":"- All modules created and tested independently\n- Main runcrystal script \u003c100 lines\n- Zero functionality regression\n- Test coverage \u003e80%\n- Documentation complete\n- cry-docs can reuse UI components","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-19T20:35:09.537435-06:00","updated_at":"2025-11-20T00:40:56.402673-06:00","closed_at":"2025-11-20T00:40:56.402673-06:00"}
{"id":"crystalmath-pc3","title":"Write unit tests for lib/cry-scratch.sh","description":"Write unit tests for lib/cry-scratch.sh","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T20:36:19.218728-06:00","updated_at":"2026-02-10T01:04:51.001971-06:00","closed_at":"2025-11-20T00:40:41.58912-06:00","dependencies":[{"issue_id":"crystalmath-pc3","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.375628-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-pmbk","title":"Phase 1: Background Remote Status Sync","description":"Phase 1: Background Remote Status Sync","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T13:56:05.772643-06:00","updated_at":"2026-02-10T01:04:51.312959-06:00","closed_at":"2026-01-05T14:35:15.430816-06:00","dependencies":[{"issue_id":"crystalmath-pmbk","depends_on_id":"crystalmath-877r","type":"parent-child","created_at":"2026-01-05T13:56:38.401654-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-poz","title":"Template path traversal vulnerability","description":"Template path traversal vulnerability","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T08:08:22.913047-06:00","updated_at":"2026-02-10T01:04:51.686521-06:00","closed_at":"2025-11-22T23:47:15.898908-06:00","labels":["phase-2","security","templates"]}
{"id":"crystalmath-pq3","title":"Write unit tests for lib/cry-ui.sh","description":"Write unit tests for lib/cry-ui.sh","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T20:36:19.139819-06:00","updated_at":"2026-02-10T01:04:52.110323-06:00","closed_at":"2025-11-20T00:40:41.588066-06:00","dependencies":[{"issue_id":"crystalmath-pq3","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.308856-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-ps0","title":"Create developer documentation (CONTRIBUTING.md)","description":"Create developer documentation (CONTRIBUTING.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-19T20:36:19.434779-06:00","updated_at":"2026-02-10T01:04:52.380105-06:00","closed_at":"2025-11-19T21:09:36.094457-06:00","dependencies":[{"issue_id":"crystalmath-ps0","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.527853-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-qt1","title":"Implement New Job Modal Screen","description":"Implement New Job Modal Screen","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-20T19:20:24.783967-06:00","updated_at":"2026-02-10T01:04:52.685639-06:00","closed_at":"2025-11-20T23:25:50.486124-06:00","labels":["mvp","phase-1","ui"]}
{"id":"crystalmath-r7z","title":"Connection manager cleanup issues","description":"Connection manager cleanup issues","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T08:08:19.109654-06:00","updated_at":"2026-02-10T01:04:53.024841-06:00","closed_at":"2025-11-23T02:14:09.742176-06:00","labels":["phase-2","reliability","remote-execution"]}
{"id":"crystalmath-rdmn","title":"Ralph: Implement SLURM connection for high-level API","description":"Ralph: Implement SLURM connection for high-level API","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T12:38:00.370515-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:53.348676-06:00","closed_at":"2026-01-09T12:45:04.327473-06:00","close_reason":"Completed in 6m: Implemented SLURMWorkflowRunner (1100+ lines) bridging high-level API to SLURM job submission. Auto-selects SLURM when cluster.scheduler=slurm. 30 new tests, 319 total pass. Documented in cluster-setup.md."}
{"id":"crystalmath-rfj","title":"CRITICAL: Orchestrator doesn't submit jobs to runners","description":"CRITICAL: Orchestrator doesn't submit jobs to runners","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-21T08:07:49.524286-06:00","updated_at":"2026-02-10T01:04:53.688036-06:00","closed_at":"2025-11-21T14:27:24.07948-06:00","labels":["critical","orchestration","phase-2","workflow"],"comments":[{"id":2,"issue_id":"crystalmath-rfj","author":"briansquires","text":"Agent 5 implementation: NEEDS_WORK (52% confidence)\n\n✅ COMPLETED: \n- _submit_node() method implemented (85 lines)\n- _on_node_complete() callback handler created\n- Callback tracking infrastructure added (_node_callbacks dict)\n- 9 integration tests passing\n\n❌ REMAINING ISSUE: Callbacks NOT wired to queue manager or runner completion events (lines 720-768)\n\nCRITICAL: Workflows will STALL after first node submission. The _on_node_complete() method is defined but NEVER CALLED.\n\nREQUIRED FIX: Wire orchestrator to receive job status change events from queue/runner.\n\nOptions:\n1. Add callback registration in queue_manager.py when job completes\n2. Add polling mechanism to check job completion  \n3. Implement event bus for job status changes\n\nFile: tui/src/core/orchestrator.py\nCodex review: See CODE_QUALITY_REVIEW.md - Agent 5 section\n","created_at":"2025-11-21T19:03:28Z"}]}
{"id":"crystalmath-rx0r","title":"[epic] Workflow Automation","description":"Implement core DFT workflows using AiiDA backend. Focus on automation of standard research tasks: Convergence studies (k-points, basis), Phonon calculations (phonopy), and Electronic structure (bands/DOS).","notes":"Duplicate of crystalmath-7r8","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-30T21:19:24.444713Z","updated_at":"2025-12-30T23:01:38.611367-06:00","closed_at":"2025-12-30T23:01:38.611369-06:00"}
{"id":"crystalmath-rxvh","title":"Refactor bridge.rs to JSON-RPC IPC pattern","description":"Replace thick bridge pattern (~30 manual method wrappers) with generic JSON-RPC style message passing. This decouples Rust frontend from Python backend API surface, reducing maintenance burden. Reference: ADR-002 Thin IPC goal.","notes":"Phase 4 in progress: fetch_jobs migrated to JSON-RPC. Pattern validated with 2 methods (fetch_clusters, fetch_jobs). Gemini confirmed our Pydantic DTO approach is sufficient - no need for AiiDA nested Model pattern.","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-27T12:03:52.642058-06:00","created_by":"TheFermiSea","updated_at":"2026-02-08T12:48:21.845376-06:00","closed_at":"2026-02-08T12:48:21.845378-06:00","labels":["architecture","ipc","refactor","rust"],"dependencies":[{"issue_id":"crystalmath-rxvh","depends_on_id":"crystalmath-8g06","type":"blocks","created_at":"2026-01-27T12:03:59.998143-06:00","created_by":"TheFermiSea"}]}
{"id":"crystalmath-rzw","title":"Write unit tests for lib/cry-parallel.sh","description":"Write unit tests for lib/cry-parallel.sh","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T20:36:19.179675-06:00","updated_at":"2026-02-10T01:04:54.055157-06:00","closed_at":"2025-11-20T00:40:41.588656-06:00","dependencies":[{"issue_id":"crystalmath-rzw","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.336708-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-s0vw","title":"[AI] Assistant UI Modal","description":"Create `src/ui/assistant.rs`.\n- Modal dialog with a chat-like interface (Input field + Scrollable history).\n- Markdown rendering for AI responses (using `termimad` or similar, or simple text wrapping).\n- Keybinding `?` or `a` to open.\n- Context-aware: If opened while a job is selected, auto-populate context.","notes":"Parent AI epic closed. Deferred.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T17:06:52.352293-06:00","updated_at":"2026-02-08T14:13:08.462568-06:00","closed_at":"2026-02-08T14:13:08.462576-06:00","dependencies":[{"issue_id":"crystalmath-s0vw","depends_on_id":"crystalmath-11q0","type":"blocks","created_at":"2026-01-05T17:06:52.353879-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-s0vw","depends_on_id":"crystalmath-f264","type":"blocks","created_at":"2026-01-05T17:10:10.184468-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-seki","title":"3.3: Beefcake2 Cluster Configuration","description":"3.3: Beefcake2 Cluster Configuration","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:18:26.625409-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:54.357232-06:00","closed_at":"2026-01-09T08:16:30.318856-06:00","close_reason":"All cluster configuration deliverables implemented","dependencies":[{"issue_id":"crystalmath-seki","depends_on_id":"crystalmath-n3fy","type":"blocks","created_at":"2026-01-08T22:19:06.275459-06:00","created_by":"briansquires"},{"issue_id":"crystalmath-seki","depends_on_id":"crystalmath-vxgl","type":"blocks","created_at":"2026-01-08T22:19:06.352647-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-skp","title":"LOW: Address FIX comments in queue_manager.py (lines 261, 271, 943, 1128)","description":"LOW: Address FIX comments in queue_manager.py (lines 261, 271, 943, 1128)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T19:09:19.615572-06:00","updated_at":"2026-02-10T01:04:54.690509-06:00","closed_at":"2025-12-27T12:23:07.932661-06:00"}
{"id":"crystalmath-sro","title":"Implement SSH Runner for remote execution","description":"Implement SSH Runner for remote execution","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-20T23:24:08.062949-06:00","updated_at":"2026-02-10T01:04:54.977071-06:00","closed_at":"2025-11-21T06:59:41.751892-06:00","labels":["core","phase-2","remote-execution"]}
{"id":"crystalmath-t20","title":"SECURITY: Escape SLURM script generation","description":"SECURITY: Escape SLURM script generation","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-21T08:07:48.316042-06:00","updated_at":"2026-02-10T01:04:55.22822-06:00","closed_at":"2025-11-21T13:02:42.248498-06:00","labels":["critical","phase-2","remote-execution","security","slurm"]}
{"id":"crystalmath-tai","title":"TUI Architecture Realignment - Wire production app to QueueManager/Orchestrator","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-22T19:08:10.602025-06:00","updated_at":"2025-12-24T09:30:37.839248-06:00","closed_at":"2025-12-24T09:30:37.839248-06:00"}
{"id":"crystalmath-tw3k","title":"2.1: Unified Workflow Architecture","description":"2.1: Unified Workflow Architecture","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:17:53.459032-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:04:55.495323-06:00","closed_at":"2026-01-09T05:43:40.683426-06:00","close_reason":"Architecture design complete with Protocol interfaces and documentation","dependencies":[{"issue_id":"crystalmath-tw3k","depends_on_id":"crystalmath-m1v5","type":"blocks","created_at":"2026-01-08T22:18:55.603902-06:00","created_by":"briansquires"},{"issue_id":"crystalmath-tw3k","depends_on_id":"crystalmath-dddy","type":"blocks","created_at":"2026-01-08T22:18:55.683841-06:00","created_by":"briansquires"},{"issue_id":"crystalmath-tw3k","depends_on_id":"crystalmath-n3fy","type":"blocks","created_at":"2026-01-08T22:18:55.763705-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-tx4","title":"[ct3.1] Configure SSH Runner for VASP Cluster","description":"[ct3.1] Configure SSH Runner for VASP Cluster","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-25T03:02:33.056543-06:00","updated_at":"2026-02-10T01:04:55.675032-06:00","closed_at":"2025-12-28T11:15:45.172558-06:00","comments":[{"id":27,"issue_id":"crystalmath-tx4","author":"briansquires","text":"✅ **COMPLETE**: SSH runner configuration for VASP cluster\n\n**Deliverables**:\n- Created ClusterManagerScreen (528 lines) with full UI\n- Added VASP-specific configuration (VASP_PP_PATH, variant selection)\n- Integrated ConnectionManager into main app with lifecycle management\n- Implemented SSH connection testing\n- Added 'c' key binding to launch cluster manager\n\n**Features**:\n- Add/edit cluster configurations\n- Configure VASP paths and executables\n- Test SSH connectivity before saving\n- Verify VASP executable exists on remote\n- Support for multiple DFT codes (VASP, CRYSTAL, QE)\n\n**Files Created**:\n- tui/src/tui/screens/cluster_manager.py (528 lines)\n\n**Files Modified**:\n- tui/src/tui/screens/__init__.py\n- tui/src/tui/app.py\n\n**Status**: ✅ Production ready","created_at":"2025-12-25T09:24:42Z"}]}
{"id":"crystalmath-uaz","title":"CrystalMath v2 Refactoring Epic - Rust TUI with PyO3/AiiDA","description":"# CrystalMath v2 Refactoring Epic\n\n## Overview\nMigrate the CrystalMath TUI from Python/Textual to Rust/Ratatui with embedded Python via PyO3 for the scientific backend (AiiDA, Pymatgen).\n\n## Architecture: Hybrid Bridge\n- **Rust Frontend**: Ratatui TUI with 60fps rendering, crossterm events\n- **Python Backend**: AiiDA workflow engine, Pydantic models, scientific libraries\n- **LSP Integration**: dft-language-server (Node.js) for VASP/CRYSTAL23 validation\n- **Bridge**: PyO3 JSON-over-FFI for Rust-Python communication\n\n## Current State (Pre-Refactor)\n| Component | Status | Tech |\n|-----------|--------|------|\n| CLI | Production | Bash modular |\n| TUI | Production | Python/Textual |\n| LSP | v1.1.0 | TypeScript/Node.js |\n| AiiDA | Phase 3 | Python/PostgreSQL |\n\n## Goals\n1. Performance: 60fps TUI rendering (vs Textual ~30fps)\n2. Single Binary: Rust binary with embedded Python\n3. Maintainability: Strong typing across Rust-Python boundary\n4. Preserve Investment: Reuse existing Python scientific code\n\n## Phases\n- Phase 1: Data Contract (Pydantic models, serde compatibility)\n- Phase 2: AiiDA Facade (CrystalController Python class)\n- Phase 3: Rust Foundation (ratatui + crossterm skeleton)\n- Phase 4: PyO3 Integration (Python bridge module)\n- Phase 5: LSP Integration (dft-language-server spawn)\n- Phase 6: Migration and Testing\n\n## Reference Documents\n- REFACTOR/01_architecture_strategy.md\n- REFACTOR/02_data_models.md\n- REFACTOR/03_ui_implementation.md\n- REFACTOR/04_aiida_backend.md\n- REFACTOR/05_lsp_integration.md\n","notes":"CrystalMath v2 Refactoring Epic COMPLETE!\n\nAll 6 phases successfully implemented:\n- Phase 1: Pydantic data models with serde compatibility\n- Phase 2: CrystalController AiiDA facade (Python)\n- Phase 3: Ratatui TUI skeleton with 60fps rendering\n- Phase 4: PyO3 Python bridge (JSON-over-FFI)\n- Phase 5: LSP integration for dft-language-server\n- Phase 6: Unit tests (25 tests) and documentation\n\nRust TUI Features:\n- 4 tabs: Jobs, Editor, Results, Log\n- Dirty-flag rendering optimization\n- Non-fatal error handling\n- LSP diagnostics with color-coded severity\n- PyO3 bridge to Python scientific backend\n- Graceful LSP degradation\n\nTest Coverage:\n- LSP: file detection, diagnostics, URI, severity (11 tests)\n- Models: enums, serialization, builders (14 tests)\n\nDocumentation: CLAUDE.md fully updated","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-27T09:52:49.433111-06:00","updated_at":"2025-12-27T11:35:48.584819-06:00","closed_at":"2025-12-27T11:35:48.584822-06:00","labels":["architecture","phase-6","refactor","rust"]}
{"id":"crystalmath-uaz.1","title":"[refactor.1] Phase 1: Data Contract - Pydantic Models","description":"[refactor.1] Phase 1: Data Contract - Pydantic Models","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T09:53:51.310701-06:00","updated_at":"2026-02-10T01:04:55.890533-06:00","closed_at":"2025-12-27T10:16:38.101796-06:00","dependencies":[{"issue_id":"crystalmath-uaz.1","depends_on_id":"crystalmath-uaz","type":"parent-child","created_at":"2025-12-27T09:53:51.311766-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-uaz.2","title":"[refactor.2] Phase 2: AiiDA Facade - CrystalController","description":"[refactor.2] Phase 2: AiiDA Facade - CrystalController","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T09:54:07.7014-06:00","updated_at":"2026-02-10T01:04:56.122519-06:00","closed_at":"2025-12-27T10:19:12.620033-06:00","dependencies":[{"issue_id":"crystalmath-uaz.2","depends_on_id":"crystalmath-uaz","type":"parent-child","created_at":"2025-12-27T09:54:07.702636-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-uaz.3","title":"[refactor.3] Phase 3: Rust Foundation - Ratatui Skeleton","description":"[refactor.3] Phase 3: Rust Foundation - Ratatui Skeleton","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T09:54:23.806316-06:00","updated_at":"2026-02-10T01:04:56.479114-06:00","closed_at":"2025-12-27T10:25:10.91867-06:00","dependencies":[{"issue_id":"crystalmath-uaz.3","depends_on_id":"crystalmath-uaz","type":"parent-child","created_at":"2025-12-27T09:54:23.807238-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-uaz.4","title":"[refactor.4] Phase 4: PyO3 Integration - Python Bridge","description":"[refactor.4] Phase 4: PyO3 Integration - Python Bridge","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T09:54:42.351358-06:00","updated_at":"2026-02-10T01:04:56.697111-06:00","closed_at":"2025-12-27T10:25:17.779214-06:00","dependencies":[{"issue_id":"crystalmath-uaz.4","depends_on_id":"crystalmath-uaz","type":"parent-child","created_at":"2025-12-27T09:54:42.352458-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-uaz.5","title":"[refactor.5] Phase 5: LSP Integration - dft-language-server","description":"[refactor.5] Phase 5: LSP Integration - dft-language-server","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T09:55:07.111389-06:00","updated_at":"2026-02-10T01:04:57.04482-06:00","closed_at":"2025-12-27T11:35:03.199859-06:00","dependencies":[{"issue_id":"crystalmath-uaz.5","depends_on_id":"crystalmath-uaz","type":"parent-child","created_at":"2025-12-27T09:55:07.112544-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-uaz.6","title":"[refactor.6] Phase 6: Migration and Testing","description":"[refactor.6] Phase 6: Migration and Testing","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-27T09:55:23.69225-06:00","updated_at":"2026-02-10T01:04:57.379023-06:00","closed_at":"2025-12-27T11:35:18.100516-06:00","dependencies":[{"issue_id":"crystalmath-uaz.6","depends_on_id":"crystalmath-uaz","type":"parent-child","created_at":"2025-12-27T09:55:23.693481-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-ufw","title":"Implement or remove CLI helper stubs","description":"Implement or remove CLI helper stubs","status":"closed","priority":3,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-27T00:13:07.513227-06:00","updated_at":"2026-02-10T01:04:57.643781-06:00","closed_at":"2025-12-30T08:27:03.729539-06:00","dependencies":[{"issue_id":"crystalmath-ufw","depends_on_id":"crystalmath-bl5","type":"parent-child","created_at":"2025-12-27T00:13:23.97707-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-ufw","depends_on_id":"crystalmath-crp","type":"blocks","created_at":"2025-12-27T01:29:31.763556-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-uxrs","title":"[co6.3] Web Dashboard - browser-based monitoring","description":"FastAPI/Litestar backend serving React/Svelte dashboard. View jobs, results, trends from any device. Authentication with OAuth2. Complement to TUI, not replacement.","notes":"Consolidated into parent epic gh8. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:17:48.045157-06:00","updated_at":"2026-02-08T14:13:24.679865-06:00","closed_at":"2026-02-08T14:13:24.679868-06:00","labels":["collaboration","dashboard","web"]}
{"id":"crystalmath-v9i","title":"[epic] Quantum Espresso \u0026 VASP Implementation","description":"Full implementation of Quantum Espresso and VASP support in the TUI. Builds on existing stubs in src/core/codes/.\n\n## Goals\n- Complete QE and VASP output parsing\n- Multi-file input handling (VASP: INCAR/POSCAR/KPOINTS/POTCAR)\n- Input templates for common calculation types\n- Workflow support (relaxation, DOS, bands)\n- Integration with existing runners (local, SSH, SLURM)\n\n## Prerequisites\n- DFT-agnostic architecture (crystalmath-7yd) ✅\n- Runner correctness (crystalmath-ae6) ✅\n- Phase 4 stubs (crystalmath-7yd.5) ✅\n\n## Phases\n1. Output Parsers - Extract energy, forces, stress, convergence\n2. Input Handling - Multi-file support, template generation\n3. Workflows - Relaxation chains, DOS/bands post-processing\n4. Testing - Integration tests with sample calculations","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-22T18:10:49.339451-06:00","updated_at":"2025-12-22T18:53:52.36296-06:00","closed_at":"2025-12-22T18:53:52.36296-06:00","labels":["dft-codes","phase-4","qe","vasp"]}
{"id":"crystalmath-v9i.1","title":"[task] Implement Quantum Espresso output parser","description":"[task] Implement Quantum Espresso output parser","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T18:11:25.592319-06:00","updated_at":"2026-02-10T01:04:57.928219-06:00","closed_at":"2025-12-22T18:35:28.12481-06:00","labels":["parser","phase-4","qe"],"dependencies":[{"issue_id":"crystalmath-v9i.1","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:11:25.593741-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-v9i.2","title":"[task] Implement VASP output parser","description":"[task] Implement VASP output parser","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T18:11:32.077695-06:00","updated_at":"2026-02-10T01:04:58.203999-06:00","closed_at":"2025-12-22T18:35:28.126296-06:00","labels":["parser","phase-4","vasp"],"dependencies":[{"issue_id":"crystalmath-v9i.2","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:11:32.078711-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-v9i.3","title":"[task] Implement VASP multi-file input handling","description":"[task] Implement VASP multi-file input handling","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T18:11:38.504756-06:00","updated_at":"2026-02-10T01:04:58.518553-06:00","closed_at":"2025-12-22T18:38:59.272238-06:00","labels":["input","phase-4","vasp"],"dependencies":[{"issue_id":"crystalmath-v9i.3","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:11:38.505629-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-v9i.4","title":"[task] Create QE input templates","description":"[task] Create QE input templates","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:11:44.698525-06:00","updated_at":"2026-02-10T01:04:58.752925-06:00","closed_at":"2025-12-22T18:42:02.687783-06:00","labels":["phase-4","qe","templates"],"dependencies":[{"issue_id":"crystalmath-v9i.4","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:11:44.699313-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-v9i.5","title":"[task] Create VASP input templates","description":"[task] Create VASP input templates","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:11:51.963878-06:00","updated_at":"2026-02-10T01:04:59.008623-06:00","closed_at":"2025-12-22T18:42:02.688703-06:00","labels":["phase-4","templates","vasp"],"dependencies":[{"issue_id":"crystalmath-v9i.5","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:11:51.9647-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-v9i.6","title":"[task] Implement QE/VASP workflow chains","description":"[task] Implement QE/VASP workflow chains","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:11:58.782926-06:00","updated_at":"2026-02-10T01:04:59.269874-06:00","closed_at":"2025-12-22T18:44:42.691876-06:00","labels":["phase-4","qe","vasp","workflow"],"dependencies":[{"issue_id":"crystalmath-v9i.6","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:11:58.783705-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-v9i.7","title":"[task] Add QE/VASP integration tests","description":"[task] Add QE/VASP integration tests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:12:05.748922-06:00","updated_at":"2026-02-10T01:04:59.57074-06:00","closed_at":"2025-12-22T18:38:59.273793-06:00","labels":["phase-4","qe","testing","vasp"],"dependencies":[{"issue_id":"crystalmath-v9i.7","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:12:05.749646-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-v9i.8","title":"[task] Cross-validate QE/VASP epic with Codex/Gemini","description":"[task] Cross-validate QE/VASP epic with Codex/Gemini","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:12:12.290782-06:00","updated_at":"2026-02-10T01:04:59.798983-06:00","closed_at":"2025-12-22T18:53:34.88458-06:00","labels":["blocked","quality","validation"],"dependencies":[{"issue_id":"crystalmath-v9i.8","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:12:12.291524-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-v9i.9","title":"[task] Update documentation for QE/VASP support","description":"[task] Update documentation for QE/VASP support","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:12:18.692807-06:00","updated_at":"2026-02-10T01:05:00.028199-06:00","closed_at":"2025-12-22T18:53:45.873985-06:00","labels":["blocked","documentation"],"dependencies":[{"issue_id":"crystalmath-v9i.9","depends_on_id":"crystalmath-v9i","type":"parent-child","created_at":"2025-12-22T18:12:18.693647-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-vw3","title":"HIGH: Fix JobResult type mismatch - run_job yields object but handler expects string","description":"HIGH: Fix JobResult type mismatch - run_job yields object but handler expects string","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T19:08:33.387745-06:00","updated_at":"2026-02-10T01:05:00.231708-06:00","closed_at":"2025-12-22T19:16:49.923477-06:00"}
{"id":"crystalmath-vxgl","title":"3.1: Core Integration Module","description":"3.1: Core Integration Module","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T22:18:24.274888-06:00","created_by":"briansquires","updated_at":"2026-02-10T01:05:00.419777-06:00","closed_at":"2026-01-09T08:02:19.968574-06:00","close_reason":"All 6 integration modules implemented and syntax-verified","dependencies":[{"issue_id":"crystalmath-vxgl","depends_on_id":"crystalmath-dksy","type":"blocks","created_at":"2026-01-08T22:19:06.035847-06:00","created_by":"briansquires"},{"issue_id":"crystalmath-vxgl","depends_on_id":"crystalmath-hk2x","type":"blocks","created_at":"2026-01-08T22:19:06.118029-06:00","created_by":"briansquires"}]}
{"id":"crystalmath-w1w","title":"Debounce/Coalesce Refresh Triggers","description":"Debounce/Coalesce Refresh Triggers","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T14:30:50.674779-06:00","updated_at":"2026-02-10T01:05:00.612337-06:00","closed_at":"2025-12-27T12:22:55.257058-06:00"}
{"id":"crystalmath-wco","title":"Migrate to AiiDA QE parsers - Replace custom QEParser with aiida-quantumespresso parsers when AiiDA integration is active. The aiida-quantumespresso plugin provides production-tested PwParser with comprehensive error handling, support for all QE output formats, and automatic data provenance tracking.","description":"Migrate to AiiDA QE parsers - Replace custom QEParser with aiida-quantumespresso parsers when AiiDA integration is active. The aiida-quantumespresso plugin provides production-tested PwParser with comprehensive error handling, support for all QE output formats, and automatic data provenance tracking.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T18:51:55.047578-06:00","updated_at":"2026-02-10T01:05:00.755143-06:00","closed_at":"2026-01-05T16:00:00-06:00"}
{"id":"crystalmath-wil","title":"Implement automatic error analysis system","description":"Implement automatic error analysis system","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-19T23:00:48.95185-06:00","updated_at":"2026-02-10T01:05:00.904545-06:00","closed_at":"2025-11-19T23:55:18.477878-06:00","dependencies":[{"issue_id":"crystalmath-wil","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T23:00:56.806109-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-wjy","title":"Add strict mode to all bash modules","description":"Add strict mode to all bash modules","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-21T12:15:52.24898-06:00","updated_at":"2026-02-10T01:05:01.078938-06:00","closed_at":"2025-11-23T14:59:42.692703-06:00","labels":["bash","cli","reliability"]}
{"id":"crystalmath-wjz","title":"Rust TUI Materials API Integration","description":"Port Materials Project API integration from Python TUI to Rust TUI. Enables formula-based structure search and CRYSTAL23 .d12 generation from the Ratatui interface.\n\n## Background\nThe Python TUI has a working MaterialsSearchScreen with:\n- Formula-based search via Materials Project API\n- OPTIMADE fallback for cross-database queries  \n- SQLite cache with 30-day TTL\n- pymatgen Structure → CRYSTAL23 .d12 converter\n\n## Architecture Decision\nTwo approaches were evaluated with Codex and Gemini:\n\n### Option A: Hybrid (Codex recommendation)\n- Implement HTTP clients in pure Rust (reqwest)\n- Keep only .d12 converter in Python via PyO3\n- Pro: Reduces Python dependency surface\n- Con: Requires reimplementing ~1000 lines of service logic\n\n### Option B: Full PyO3 Bridge (Gemini recommendation)  \n- Reuse existing MaterialsService via PyO3 bridge\n- Python handles HTTP, caching, rate limiting\n- Pro: Fastest delivery, exact parity with Python TUI\n- Con: Keeps full Python dependency stack\n\n**Decision: Option B** - Python runtime already required for job management.\n\n## UI Design\n- Modal overlay (not tab) - matches Python TUI pattern\n- Centered dialog with search input, results table, status line\n- Request ID pattern for cancellation handling\n- Insert .d12 into editor on import","notes":"Implementation complete (2025-12-28):\n\n## Completed Components\n\n### .1 Python API Bridge (api.py)\n- search_materials_json() - async search with JSON response\n- generate_d12_json() - .d12 generation with config\n- get_material_details_json() - material details lookup\n- Uses asyncio.run() to bridge sync Rust -\u003e async Python\n\n### .2 Rust Models (models.rs)  \n- MaterialResult, MaterialProperties structs\n- D12GenerationConfig with PBE/POB-TZVP-REV2 defaults\n- ApiResponse\u003cT\u003e with into_result() error handling\n\n### .3 Rust Bridge (bridge.rs)\n- BridgeRequest::SearchMaterials, GenerateD12 with request_id\n- BridgeResponse::MaterialsFound, D12Generated\n- Async worker handles Python calls off main thread\n\n### .4 Rust App State (app.rs)\n- MaterialsSearchState with table navigation, loading state\n- Request ID pattern for stale response handling\n- open_materials_modal(), request_materials_search(), request_generate_d12()\n\n### .5 Modal UI (ui/materials.rs)\n- Centered modal overlay with Clear background\n- Search input, status bar, results table\n- Keyboard hints bar\n\n### .6 Keyboard Handling (main.rs)\n- Ctrl+I from Editor opens modal\n- Enter to search/import, Esc to close\n- j/k or arrows for table navigation\n\n### .7 Import Flow\n- D12Generated response inserts content into editor\n- Auto-names file as mp_id.d12\n- Switches to Editor tab on success\n\n## Tests\n- 44 tests pass\n- 2 new tests for centered_rect() helper\n\n## Usage\nFrom Editor tab: Ctrl+I → enter formula → Enter → select result → Enter","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-28T21:15:04.387529-06:00","updated_at":"2025-12-28T22:28:38.6017-06:00","closed_at":"2025-12-28T22:28:38.6017-06:00"}
{"id":"crystalmath-wjz.1","title":"Python API: Add MaterialsService bridge methods","description":"Python API: Add MaterialsService bridge methods","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:15:20.742523-06:00","updated_at":"2026-02-10T01:05:01.320896-06:00","closed_at":"2025-12-29T14:44:38.162987-06:00","dependencies":[{"issue_id":"crystalmath-wjz.1","depends_on_id":"crystalmath-wjz","type":"parent-child","created_at":"2025-12-28T21:15:20.744465-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wjz.2","title":"Rust Models: Add MaterialResult and related types","description":"Rust Models: Add MaterialResult and related types","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:15:35.137136-06:00","updated_at":"2026-02-10T01:05:01.502088-06:00","closed_at":"2025-12-29T14:44:43.28463-06:00","dependencies":[{"issue_id":"crystalmath-wjz.2","depends_on_id":"crystalmath-wjz","type":"parent-child","created_at":"2025-12-28T21:15:35.137939-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wjz.3","title":"Rust Bridge: Add materials search request/response types","description":"Rust Bridge: Add materials search request/response types","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:15:52.353831-06:00","updated_at":"2026-02-10T01:05:01.706088-06:00","closed_at":"2025-12-29T14:44:48.400818-06:00","dependencies":[{"issue_id":"crystalmath-wjz.3","depends_on_id":"crystalmath-wjz","type":"parent-child","created_at":"2025-12-28T21:15:52.354585-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wjz.4","title":"Rust App: Add MaterialsSearchState to App struct","description":"Rust App: Add MaterialsSearchState to App struct","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:16:10.025347-06:00","updated_at":"2026-02-10T01:05:01.980806-06:00","closed_at":"2025-12-29T14:44:53.546478-06:00","dependencies":[{"issue_id":"crystalmath-wjz.4","depends_on_id":"crystalmath-wjz","type":"parent-child","created_at":"2025-12-28T21:16:10.026153-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wjz.5","title":"Rust UI: Implement materials search modal renderer","description":"Rust UI: Implement materials search modal renderer","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:16:27.650759-06:00","updated_at":"2026-02-10T01:05:02.184025-06:00","closed_at":"2025-12-29T14:44:58.71535-06:00","dependencies":[{"issue_id":"crystalmath-wjz.5","depends_on_id":"crystalmath-wjz","type":"parent-child","created_at":"2025-12-28T21:16:27.651901-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wjz.6","title":"Rust Input: Add modal keyboard handling","description":"Rust Input: Add modal keyboard handling","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:16:47.563146-06:00","updated_at":"2026-02-10T01:05:02.426747-06:00","closed_at":"2025-12-29T14:45:03.890514-06:00","dependencies":[{"issue_id":"crystalmath-wjz.6","depends_on_id":"crystalmath-wjz","type":"parent-child","created_at":"2025-12-28T21:16:47.564254-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wjz.7","title":"Rust: Implement import flow to editor","description":"Rust: Implement import flow to editor","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:17:06.226558-06:00","updated_at":"2026-02-10T01:05:02.696736-06:00","closed_at":"2025-12-29T14:45:09.010992-06:00","dependencies":[{"issue_id":"crystalmath-wjz.7","depends_on_id":"crystalmath-wjz","type":"parent-child","created_at":"2025-12-28T21:17:06.227951-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wjz.8","title":"End-to-end validation and documentation","description":"End-to-end validation and documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T21:17:24.903543-06:00","updated_at":"2026-02-10T01:05:02.940377-06:00","closed_at":"2025-12-29T14:45:14.22361-06:00","dependencies":[{"issue_id":"crystalmath-wjz.8","depends_on_id":"crystalmath-wjz","type":"parent-child","created_at":"2025-12-28T21:17:24.904389-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wlb","title":"[enhancement] Remote runner concurrency should limit active jobs, not just submissions","description":"[enhancement] Remote runner concurrency should limit active jobs, not just submissions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T10:17:30.641361-06:00","updated_at":"2026-02-10T01:05:03.165397-06:00","closed_at":"2025-12-30T08:36:14.086432-06:00","labels":["P2","enhancement","phase4"]}
{"id":"crystalmath-wwa","title":"Implement lib/cry-help.sh","description":"Implement lib/cry-help.sh","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-19T20:36:18.953841-06:00","updated_at":"2026-02-10T01:05:03.441888-06:00","closed_at":"2025-11-19T20:55:19.451921-06:00","dependencies":[{"issue_id":"crystalmath-wwa","depends_on_id":"crystalmath-6vn","type":"blocks","created_at":"2025-11-19T20:36:50.063318-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-wwa","depends_on_id":"crystalmath-7e1","type":"blocks","created_at":"2025-11-19T20:36:50.571175-06:00","created_by":"daemon","metadata":"{}"},{"issue_id":"crystalmath-wwa","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.188014-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-wwz","title":"SLURM Queue Bridge Fixes","description":"SLURM Queue Bridge Fixes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:31:26.619346-06:00","updated_at":"2026-02-10T01:05:03.702945-06:00","closed_at":"2025-12-29T16:36:21.537841-06:00"}
{"id":"crystalmath-wwz.1","title":"Fix ConnectionManager API calls in api.py","description":"Fix ConnectionManager API calls in api.py","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:31:48.018806-06:00","updated_at":"2026-02-10T01:05:03.985261-06:00","closed_at":"2025-12-29T16:33:44.256004-06:00","dependencies":[{"issue_id":"crystalmath-wwz.1","depends_on_id":"crystalmath-wwz","type":"parent-child","created_at":"2025-12-29T16:31:48.019876-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wwz.2","title":"Fix job_id type mismatch","description":"Fix job_id type mismatch","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:32:00.142456-06:00","updated_at":"2026-02-10T01:05:04.228616-06:00","closed_at":"2025-12-29T16:33:50.672507-06:00","dependencies":[{"issue_id":"crystalmath-wwz.2","depends_on_id":"crystalmath-wwz","type":"parent-child","created_at":"2025-12-29T16:32:00.143275-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wwz.3","title":"Add slurm_request_id tracking","description":"Add slurm_request_id tracking","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:32:07.067373-06:00","updated_at":"2026-02-10T01:05:04.48153-06:00","closed_at":"2025-12-29T16:35:38.268634-06:00","dependencies":[{"issue_id":"crystalmath-wwz.3","depends_on_id":"crystalmath-wwz","type":"parent-child","created_at":"2025-12-29T16:32:07.06832-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wwz.4","title":"Add SLURM query timeout","description":"Add SLURM query timeout","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:32:13.518724-06:00","updated_at":"2026-02-10T01:05:04.703415-06:00","closed_at":"2025-12-29T16:36:14.946582-06:00","dependencies":[{"issue_id":"crystalmath-wwz.4","depends_on_id":"crystalmath-wwz","type":"parent-child","created_at":"2025-12-29T16:32:13.519573-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wwz.5","title":"Make cluster_id dynamic","description":"Make cluster_id dynamic","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:32:20.517843-06:00","updated_at":"2026-02-10T01:05:04.968429-06:00","closed_at":"2025-12-29T16:35:45.33662-06:00","dependencies":[{"issue_id":"crystalmath-wwz.5","depends_on_id":"crystalmath-wwz","type":"parent-child","created_at":"2025-12-29T16:32:20.518703-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-wwz.6","title":"Review SSH host key security","description":"Review SSH host key security","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T16:32:27.181558-06:00","updated_at":"2026-02-10T01:05:05.15057-06:00","closed_at":"2025-12-29T16:33:57.021915-06:00","dependencies":[{"issue_id":"crystalmath-wwz.6","depends_on_id":"crystalmath-wwz","type":"parent-child","created_at":"2025-12-29T16:32:27.182464-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-x7l","title":"Create Results Summary View","description":"Create Results Summary View","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-20T19:20:30.439808-06:00","updated_at":"2026-02-10T01:05:05.312621-06:00","closed_at":"2025-11-20T23:26:19.800396-06:00","labels":["mvp","phase-1","results"]}
{"id":"crystalmath-xabw","title":"[epic] AI-Powered Features","description":"LLM integration for error diagnosis and input generation. Lower priority than core workflows. Integration point: LSP and Rust TUI Help system.","notes":"Duplicate of crystalmath-8dm","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-30T21:19:39.864189Z","updated_at":"2025-12-31T08:58:39.172148-06:00","closed_at":"2025-12-31T08:58:39.172154-06:00"}
{"id":"crystalmath-xev","title":"Implement Batch Job Submission UI","description":"Implement Batch Job Submission UI","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-20T23:24:14.084737-06:00","updated_at":"2026-02-10T01:05:05.462144-06:00","closed_at":"2025-11-21T06:53:25.687449-06:00","labels":["batch","phase-2","ui"]}
{"id":"crystalmath-xjk","title":"Complete Core Job Runner","description":"Complete Core Job Runner","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-20T19:20:23.494592-06:00","updated_at":"2026-02-10T01:05:05.659338-06:00","closed_at":"2025-11-23T15:05:18.844244-06:00","labels":["core","mvp","phase-1"]}
{"id":"crystalmath-xr21","title":"[epic] Advanced Workflow Architecture - AiiDA Enhancement","description":"Enhance AiiDA-based workflow architecture based on Gemini expert recommendations. Focus on self-healing WorkChains, multi-code workflows, and Protocol pattern for user templates. NOT adding atomate2 (would create split-brain with AiiDA).","notes":"Subtasks for BerkeleyGW, YAMBO GW, and Nonlinear Optics closed as implemented in code.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T12:34:07.151439-06:00","updated_at":"2026-01-27T12:22:44.016859-06:00","closed_at":"2026-01-27T12:22:44.016859-06:00","close_reason":"Core AiiDA enhancement complete (11/14 tasks). Remaining P3 tasks (Wannier90, Protocol wizard, workgraph) are deferred nice-to-haves.","labels":["aiida","architecture","workflows"]}
{"id":"crystalmath-xr21.1","title":"Self-healing CrystalBaseWorkChain","description":"Self-healing CrystalBaseWorkChain","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-31T12:35:42.21064-06:00","updated_at":"2026-02-10T01:05:05.867785-06:00","closed_at":"2025-12-31T12:52:52.142861-06:00","labels":["aiida","workflows"],"dependencies":[{"issue_id":"crystalmath-xr21.1","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T12:35:42.211906-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.10","title":"YAMBO nonlinear optics workflow","description":"YAMBO nonlinear optics workflow","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T13:05:01.253143-06:00","updated_at":"2026-02-10T01:05:06.067934-06:00","closed_at":"2026-01-05T14:51:06.261185-06:00","labels":["aiida","optics","yambo"],"dependencies":[{"issue_id":"crystalmath-xr21.10","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T13:05:01.254453-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.11","title":"BerkeleyGW GW calculations workflow","description":"BerkeleyGW GW calculations workflow","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T13:05:08.09075-06:00","updated_at":"2026-02-10T01:05:06.253322-06:00","closed_at":"2026-01-05T14:50:57.868374-06:00","labels":["aiida","berkeleygw","gw"],"dependencies":[{"issue_id":"crystalmath-xr21.11","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T13:05:08.091677-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.12","title":"YAMBO BSE/GW workflow","description":"YAMBO BSE/GW workflow","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T13:05:14.631928-06:00","updated_at":"2026-02-10T01:05:06.508714-06:00","closed_at":"2026-01-05T14:50:57.890239-06:00","labels":["aiida","gw","yambo"],"dependencies":[{"issue_id":"crystalmath-xr21.12","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T13:05:14.632822-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.13","title":"Wannier90 tight-binding workflow","description":"Implement Wannier90 workflow for maximally localized Wannier functions. Chain: DFT band structure → Wannierization → tight-binding model export. Enable calculation of transport properties and topological invariants.","notes":"Parent epic xr21 closed. Deferred as nice-to-have.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-31T13:05:21.265735-06:00","updated_at":"2026-02-08T14:13:00.17441-06:00","closed_at":"2026-02-08T14:13:00.174415-06:00","labels":["aiida","tb","wannier90"],"dependencies":[{"issue_id":"crystalmath-xr21.13","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T13:05:21.266907-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.14","title":"Integrate seekpath for k-path generation","description":"Integrate seekpath for k-path generation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T14:42:54.492153-06:00","updated_at":"2026-02-10T01:05:06.727854-06:00","closed_at":"2025-12-31T17:26:18.278612-06:00","dependencies":[{"issue_id":"crystalmath-xr21.14","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T14:42:54.493247-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.15","title":"Use parser outputs instead of regex in diagnostics","description":"Use parser outputs instead of regex in diagnostics","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T14:43:01.284629-06:00","updated_at":"2026-02-10T01:05:06.968972-06:00","closed_at":"2025-12-31T17:31:45.714334-06:00","dependencies":[{"issue_id":"crystalmath-xr21.15","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T14:43:01.285397-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.2","title":"aiida-common-workflows interface","description":"aiida-common-workflows interface","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-31T12:35:56.04302-06:00","updated_at":"2026-02-10T01:05:07.215806-06:00","closed_at":"2025-12-31T13:22:52.490793-06:00","labels":["aiida","workflows"],"dependencies":[{"issue_id":"crystalmath-xr21.2","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T12:35:56.04401-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.3","title":"Band Structure property workflow","description":"Band Structure property workflow","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T12:36:09.362474-06:00","updated_at":"2026-02-10T01:05:07.455529-06:00","closed_at":"2025-12-31T14:19:43.888023-06:00","labels":["aiida","workflows"],"dependencies":[{"issue_id":"crystalmath-xr21.3","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T12:36:09.363393-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.4","title":"DOS property workflow","description":"DOS property workflow","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T12:36:22.346842-06:00","updated_at":"2026-02-10T01:05:07.810272-06:00","closed_at":"2025-12-31T14:20:03.875008-06:00","labels":["aiida","workflows"],"dependencies":[{"issue_id":"crystalmath-xr21.4","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T12:36:22.347792-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.5","title":"StructureData format converters","description":"StructureData format converters","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T12:36:37.143525-06:00","updated_at":"2026-02-10T01:05:08.100677-06:00","closed_at":"2025-12-31T13:03:45.023513-06:00","labels":["aiida","workflows"],"dependencies":[{"issue_id":"crystalmath-xr21.5","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T12:36:37.144425-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.6","title":"Protocol pattern (YAML configs)","description":"Protocol pattern (YAML configs)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T12:36:51.085803-06:00","updated_at":"2026-02-10T01:05:08.343942-06:00","closed_at":"2025-12-31T14:40:07.646896-06:00","labels":["aiida","workflows"],"dependencies":[{"issue_id":"crystalmath-xr21.6","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T12:36:51.086993-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.7","title":"TUI Protocol wizard","description":"Add TUI screen for Protocol-based workflow configuration. User selects protocol (fast/accurate/custom), adjusts parameters via form, previews generated WorkChain. Lower priority - focus on backend first.","notes":"Parent epic xr21 closed. Deferred as nice-to-have.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-31T12:37:05.337664-06:00","updated_at":"2026-02-08T14:12:58.752967-06:00","closed_at":"2026-02-08T14:12:58.75297-06:00","labels":["tui","workflows"],"dependencies":[{"issue_id":"crystalmath-xr21.7","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T12:37:05.338299-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xr21.9","title":"aiida-workgraph exploration","description":"Research aiida-workgraph as alternative to WorkChain DSL. Evaluate: 1) Graph-based workflow composition, 2) Easier debugging/visualization, 3) Dynamic workflow modification. Per Gemini: provides friendlier API but don't block on it.","notes":"Parent epic xr21 closed. Deferred as nice-to-have.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T12:37:34.915371-06:00","updated_at":"2026-02-08T14:12:59.480254-06:00","closed_at":"2026-02-08T14:12:59.480259-06:00","labels":["aiida","architecture"],"dependencies":[{"issue_id":"crystalmath-xr21.9","depends_on_id":"crystalmath-xr21","type":"parent-child","created_at":"2025-12-31T12:37:34.916348-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-xvd","title":"[am3.1] Live SCF Convergence Dashboard - real-time energy/DIIS plots","description":"Parse output in real-time via log streaming. Show energy convergence, DIIS error, cycle count. WebSocket for remote monitoring. Low effort, high anxiety-reduction impact.","notes":"Consolidated into parent epic 5uy. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:15:56.791523-06:00","updated_at":"2026-02-08T14:13:18.744466-06:00","closed_at":"2026-02-08T14:13:18.74447-06:00","labels":["analytics","monitoring","real-time"]}
{"id":"crystalmath-y6tn","title":"[AI] Input Parameter Suggestions","description":"Add AI-assisted input parameter suggestions:\n1. In Editor tab, user can press `Ctrl+?` to ask \"Is this input valid?\"\n2. Backend sends current input + structure to AI.\n3. AI returns suggestions: recommended SHRINK values, basis set recommendations, convergence tips.\n4. Display inline or in popup.","notes":"Parent AI epic closed. Deferred.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T17:09:48.652869-06:00","updated_at":"2026-02-08T14:13:09.546948-06:00","closed_at":"2026-02-08T14:13:09.546951-06:00","dependencies":[{"issue_id":"crystalmath-y6tn","depends_on_id":"crystalmath-11q0","type":"blocks","created_at":"2026-01-05T17:09:48.654648-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-y9h","title":"Implement runcrystal non-fatal execution wrapper","description":"Implement runcrystal non-fatal execution wrapper","status":"closed","priority":1,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-27T00:10:27.248336-06:00","updated_at":"2026-02-10T01:05:08.577823-06:00","closed_at":"2025-12-30T08:07:22.643273-06:00","dependencies":[{"issue_id":"crystalmath-y9h","depends_on_id":"crystalmath-0az","type":"parent-child","created_at":"2025-12-27T00:10:41.546612-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-y9h","depends_on_id":"crystalmath-c4r","type":"blocks","created_at":"2025-12-27T01:29:01.912624-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yczl","title":"[AI] Configure Python optional dependencies","description":"[AI] Configure Python optional dependencies","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-05T17:06:50.978365-06:00","updated_at":"2026-02-10T01:05:08.796487-06:00","closed_at":"2026-01-05T17:26:42.735919-06:00","dependencies":[{"issue_id":"crystalmath-yczl","depends_on_id":"crystalmath-11q0","type":"blocks","created_at":"2026-01-05T17:06:50.979824-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-yczl","depends_on_id":"crystalmath-0b7j","type":"blocks","created_at":"2026-01-05T17:10:08.403801-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yha","title":"[cn9.15] Complete placeholder implementations in AiiDA module","description":"[cn9.15] Complete placeholder implementations in AiiDA module","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-24T10:43:00.49051-06:00","updated_at":"2026-02-10T01:05:09.063985-06:00","closed_at":"2025-12-28T11:29:21.578316-06:00","labels":["aiida implementation phase-3"]}
{"id":"crystalmath-yt4","title":"JobSubmission String fields should use DftCode/RunnerType enums","description":"JobSubmission String fields should use DftCode/RunnerType enums","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T14:55:07.58926-06:00","updated_at":"2026-02-10T01:05:09.318696-06:00","closed_at":"2025-12-30T15:06:29.314031-06:00","labels":["models","rust","type-safety"]}
{"id":"crystalmath-yu6t","title":"Unified Rust TUI","description":"Consolidate the Python-based Workshop TUI functionality into the Rust-based Cockpit TUI to create a single comprehensive interface. This includes porting job creation, configuration management, and database interactions to the Rust frontend (potentially via PyO3 backend).","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-05T16:06:39.523495-06:00","updated_at":"2026-01-05T16:13:38.595938-06:00","closed_at":"2026-01-05T16:13:38.595938-06:00"}
{"id":"crystalmath-yu6t.1","title":"Extend JobSubmission models","description":"Extend JobSubmission models","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T16:07:15.512497-06:00","updated_at":"2026-02-10T01:05:09.53115-06:00","closed_at":"2026-01-05T16:09:32.265876-06:00","dependencies":[{"issue_id":"crystalmath-yu6t.1","depends_on_id":"crystalmath-yu6t","type":"parent-child","created_at":"2026-01-05T16:07:15.513547-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yu6t.2","title":"Enhance New Job UI","description":"Enhance New Job UI","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T16:07:15.671984-06:00","updated_at":"2026-02-10T01:05:09.700002-06:00","closed_at":"2026-01-05T16:12:31.439821-06:00","dependencies":[{"issue_id":"crystalmath-yu6t.2","depends_on_id":"crystalmath-yu6t","type":"parent-child","created_at":"2026-01-05T16:07:15.6726-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yu6t.3","title":"Port VASP Input Manager","description":"Port VASP Input Manager","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T16:07:16.384679-06:00","updated_at":"2026-02-10T01:05:09.871632-06:00","closed_at":"2026-01-05T16:13:38.595837-06:00","dependencies":[{"issue_id":"crystalmath-yu6t.3","depends_on_id":"crystalmath-yu6t","type":"parent-child","created_at":"2026-01-05T16:07:16.385435-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yut2","title":"[ai4.1] LLM Error Diagnosis - context-aware debugging","description":"Parse error messages with context (basis set, structure, parameters). LLM analysis suggests fixes. Local LLM (Ollama) or API (Claude). Knowledge base of common DFT errors.","notes":"Speculative AI feature. Deferred indefinitely.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:16:30.853-06:00","updated_at":"2026-02-08T14:13:21.184684-06:00","closed_at":"2026-02-08T14:13:21.18469-06:00","labels":["ai","debugging","llm"],"dependencies":[{"issue_id":"crystalmath-yut2","depends_on_id":"crystalmath-f264","type":"related","created_at":"2026-01-05T17:13:17.331985-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yx9","title":"Code Review Findings Epic - Dec 2024 Part 2","description":"Epic tracking code quality and concurrency issues identified by Codex and Gemini CLI code reviews on Dec 28, 2024 (Part 2). Contains 1 medium concurrency issue (P1), 2 medium performance issues (P1), and 4 low priority quality improvements (P2). All previous security fixes validated.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-28T19:50:40.729144-06:00","updated_at":"2025-12-29T22:34:05.059208-06:00","closed_at":"2025-12-29T22:34:05.059208-06:00","labels":["concurrency","epic","quality","review"]}
{"id":"crystalmath-yx9.1","title":"[MEDIUM] QueueManager blocking DB I/O while holding async lock","description":"[MEDIUM] QueueManager blocking DB I/O while holding async lock","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-28T19:51:04.874638-06:00","updated_at":"2026-02-10T01:05:10.116521-06:00","closed_at":"2025-12-29T22:33:05.846469-06:00","labels":["concurrency","performance","queue"],"dependencies":[{"issue_id":"crystalmath-yx9.1","depends_on_id":"crystalmath-yx9","type":"parent-child","created_at":"2025-12-28T19:51:04.875447-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yx9.2","title":"[MEDIUM] ConnectionManager holds lock across awaited health checks","description":"[MEDIUM] ConnectionManager holds lock across awaited health checks","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-28T19:51:11.791501-06:00","updated_at":"2026-02-10T01:05:10.351485-06:00","closed_at":"2025-12-29T22:27:43.630097-06:00","labels":["concurrency","connection","performance"],"dependencies":[{"issue_id":"crystalmath-yx9.2","depends_on_id":"crystalmath-yx9","type":"parent-child","created_at":"2025-12-28T19:51:11.792399-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yx9.3","title":"[MEDIUM] SSH output streaming triggers per-line status checks","description":"[MEDIUM] SSH output streaming triggers per-line status checks","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-28T19:51:18.457813-06:00","updated_at":"2026-02-10T01:05:10.591968-06:00","closed_at":"2025-12-29T22:33:12.674083-06:00","labels":["performance","runners","ssh"],"dependencies":[{"issue_id":"crystalmath-yx9.3","depends_on_id":"crystalmath-yx9","type":"parent-child","created_at":"2025-12-28T19:51:18.45851-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yx9.4","title":"[LOW] LocalRunner never prunes completed tasks from _active_jobs","description":"[LOW] LocalRunner never prunes completed tasks from _active_jobs","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T19:51:43.111475-06:00","updated_at":"2026-02-10T01:05:10.810776-06:00","closed_at":"2025-12-29T22:33:19.220804-06:00","labels":["local-runner","memory","quality"],"dependencies":[{"issue_id":"crystalmath-yx9.4","depends_on_id":"crystalmath-yx9","type":"parent-child","created_at":"2025-12-28T19:51:43.112145-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yx9.5","title":"[LOW] LocalRunner ignores input_file parameter","description":"[LOW] LocalRunner ignores input_file parameter","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T19:51:49.700054-06:00","updated_at":"2026-02-10T01:05:11.037468-06:00","closed_at":"2025-12-29T22:40:09.504854-06:00","labels":["api-contract","local-runner"],"dependencies":[{"issue_id":"crystalmath-yx9.5","depends_on_id":"crystalmath-yx9","type":"parent-child","created_at":"2025-12-28T19:51:49.70076-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yx9.6","title":"[LOW] LSP message size not capped - potential OOM","description":"[LOW] LSP message size not capped - potential OOM","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-28T19:51:56.333517-06:00","updated_at":"2026-02-10T01:05:11.201739-06:00","closed_at":"2025-12-29T22:41:43.040519-06:00","labels":["lsp","rust","security"],"dependencies":[{"issue_id":"crystalmath-yx9.6","depends_on_id":"crystalmath-yx9","type":"parent-child","created_at":"2025-12-28T19:51:56.334502-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yx9.7","title":"[LOW] Deprecated db.conn property could cause pool issues","description":"[LOW] Deprecated db.conn property could cause pool issues","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T19:52:02.778181-06:00","updated_at":"2026-02-10T01:05:11.468926-06:00","closed_at":"2025-12-29T22:43:32.684506-06:00","labels":["database","deprecation","quality"],"dependencies":[{"issue_id":"crystalmath-yx9.7","depends_on_id":"crystalmath-yx9","type":"parent-child","created_at":"2025-12-28T19:52:02.778882-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-yx9.8","title":"[LOW] display_line_count coupled to UI layout - needs sync comments","description":"[LOW] display_line_count coupled to UI layout - needs sync comments","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-28T19:52:22.771278-06:00","updated_at":"2026-02-10T01:05:11.752286-06:00","closed_at":"2025-12-29T22:45:27.660387-06:00","labels":["maintainability","rust","ui"],"dependencies":[{"issue_id":"crystalmath-yx9.8","depends_on_id":"crystalmath-yx9","type":"parent-child","created_at":"2025-12-28T19:52:22.772106-06:00","created_by":"briansquires","metadata":"{}"}]}
{"id":"crystalmath-z00","title":"Write integration tests","description":"Write integration tests","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T20:36:19.288627-06:00","updated_at":"2026-02-10T01:05:12.015824-06:00","closed_at":"2025-11-20T23:27:47.04236-06:00","dependencies":[{"issue_id":"crystalmath-z00","depends_on_id":"crystalmath-oxy","type":"parent-child","created_at":"2025-11-19T20:37:07.427689-06:00","created_by":"daemon","metadata":"{}"}]}
{"id":"crystalmath-z2i","title":"Orchestrator hardcodes /tmp for workflow dirs","description":"Orchestrator hardcodes /tmp for workflow dirs","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-21T12:14:05.320926-06:00","updated_at":"2026-02-10T01:05:12.235327-06:00","closed_at":"2025-11-21T13:02:47.902798-06:00","labels":["configuration","orchestration","phase-2"]}
{"id":"crystalmath-z539","title":"[HIGH] Silent stub execution can produce fake DFT results","description":"[HIGH] Silent stub execution can produce fake DFT results","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-30T22:58:13.014758-06:00","updated_at":"2026-02-10T01:05:12.442502-06:00","closed_at":"2025-12-31T09:10:18.009598-06:00","labels":["correctness","high","workflow"]}
{"id":"crystalmath-z7ya","title":"Workflow Automation System","description":"# Workflow Automation System\n\nEnable automated multi-step DFT workflows (convergence studies, band structures, phonons, EOS) with proper configuration, execution, and visualization.\n\n## Current State\n- Workflow modal shows available workflow types\n- Backend can create workflow objects and generate inputs\n- quacc/AiiDA availability detection works\n- Enter key shows info message but doesn't launch (config UI missing)\n\n## Required Components\n\n### 1. Workflow Configuration UI\n- Parameter input forms for each workflow type\n- Structure file selection (from Materials API or file upload)\n- Convergence: parameter choice, value range, base input\n- Band Structure: k-path selection (auto or manual)\n- Phonon: supercell dimensions, displacement magnitude\n- EOS: strain range, number of points\n\n### 2. Workflow Execution Pipeline\n- Generate input files from config\n- Create jobs for each input\n- Submit to selected cluster\n- Track job completion status\n\n### 3. Workflow Progress Tracking\n- List active workflows with status\n- Show individual job statuses within workflow\n- Handle failures gracefully (retry, skip, abort options)\n- Resume interrupted workflows\n\n### 4. Results Collection \u0026 Visualization\n- Collect energies/forces from completed jobs\n- Convergence: plot energy vs parameter, find converged value\n- Band Structure: plot band diagram\n- Phonon: dispersion curves, DOS\n- EOS: energy-volume curve, Birch-Murnaghan fit\n\n### 5. Workflow Templates\n- Save workflow configurations as templates\n- Quick-start common workflows\n- Share templates between users\n\n## Technical Notes\n- Backend workflow classes exist in `crystalmath.workflows.*`\n- Bridge methods ready: `request_create_*_workflow`\n- Response handler parses workflow JSON and input count\n- Logs go to `~/.local/share/crystalmath/crystalmath.log`","notes":"All child tasks completed: Config Forms, Execution Pipeline, Progress Dashboard, Results Visualization","status":"closed","priority":1,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-02-02T22:35:03.815754-06:00","created_by":"TheFermiSea","updated_at":"2026-02-03T00:47:35.805594-06:00","closed_at":"2026-02-03T00:47:35.805596-06:00"}
{"id":"crystalmath-zjr9","title":"[co6.2] Calculation Export/Import - CIF, NOMAD, AiiDA archive","description":"Export to: CIF + metadata JSON, NOMAD upload package, AiiDA archive (.aiida), Jupyter notebook (reproducible). Share calculations with collaborators.","notes":"Consolidated into parent epic gh8. Reopen as needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-30T15:17:41.432981-06:00","updated_at":"2026-02-08T14:13:24.596419-06:00","closed_at":"2026-02-08T14:13:24.596432-06:00","labels":["collaboration","export","sharing"]}
{"id":"crystalmath-zt5","title":"Implement gum install gating and platform detection","description":"Implement gum install gating and platform detection","status":"closed","priority":3,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-27T00:14:33.139871-06:00","updated_at":"2026-02-10T01:05:12.663377-06:00","closed_at":"2025-12-30T08:39:58.970954-06:00","dependencies":[{"issue_id":"crystalmath-zt5","depends_on_id":"crystalmath-ohv","type":"parent-child","created_at":"2025-12-27T00:14:43.123695-06:00","created_by":"briansquires","metadata":"{}"},{"issue_id":"crystalmath-zt5","depends_on_id":"crystalmath-5s1","type":"blocks","created_at":"2025-12-27T01:29:46.706588-06:00","created_by":"briansquires","metadata":"{}"}]}
