name: "Band Structure"
version: "1.0"
description: "Electronic band structure calculation with optional DOS"
author: "CRYSTAL Team"
tags: ["advanced", "band", "electronic", "properties"]

parameters:
  shrink_scf:
    type: integer
    description: "k-point mesh for SCF calculation"
    default: 8
    min: 2
    max: 20
    required: true

  shrink_bands:
    type: integer
    description: "k-point mesh for band structure"
    default: 16
    min: 4
    max: 40
    required: true

  num_bands:
    type: integer
    description: "Number of bands to calculate"
    default: 20
    min: 1
    max: 100
    required: true

  calculate_dos:
    type: boolean
    description: "Also calculate density of states"
    default: true

input_template: |
  Band Structure Calculation
  EXTERNAL
  END
  SHRINK
  {{ shrink_scf }} {{ shrink_scf }}
  TOLDEE
  8
  END
  BAND
  {{ num_bands }}
  1 0 0 50
  0 1 0 50
  0 0 1 50
  SHRINK
  {{ shrink_bands }} {{ shrink_bands }}
  {% if calculate_dos %}
  DOSS
  20
  {% endif %}
  END

metadata:
  calculation_type: "band_structure"
  system_type: "bulk"
  complexity: "advanced"
