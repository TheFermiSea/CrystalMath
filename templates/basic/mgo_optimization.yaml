name: "MgO Optimization"
version: "1.0"
description: "Basic MgO bulk crystal optimization with customizable basis set and convergence criteria"
author: "CRYSTAL Team"
tags: ["oxide", "bulk", "optimization", "basic"]

parameters:
  basis_set:
    type: select
    description: "Basis set for calculation"
    default: "sto-3g"
    options: ["sto-3g", "6-21g", "6-31g", "6-311g"]
    required: true

  shrink:
    type: integer
    description: "Shrinking factor for k-point mesh (Monkhorst-Pack)"
    default: 8
    min: 2
    max: 16
    required: true

  convergence:
    type: float
    description: "SCF convergence threshold for energy (Hartree)"
    default: 1.0e-8
    min: 1.0e-12
    max: 1.0e-4
    required: true

  max_cycles:
    type: integer
    description: "Maximum SCF cycles"
    default: 50
    min: 10
    max: 200
    required: false

input_template: |
  MgO Crystal - {{ basis_set }}
  CRYSTAL
  0 0 0
  225
  4.21
  2
  12 0.0 0.0 0.0
  8  0.5 0.5 0.5
  OPTGEOM
  END
  12 3
  {% if basis_set == "sto-3g" %}
  0 0 6 2.0 1.0
    2.568500e+03 2.143510e-03
    3.849300e+02 1.649790e-02
    8.773500e+01 7.731080e-02
    2.495600e+01 2.476060e-01
    8.149700e+00 4.859380e-01
    2.996800e+00 3.251120e-01
  {% endif %}
  8 2
  {% if basis_set == "sto-3g" %}
  0 0 3 2.0 1.0
    1.307093e+02 1.543290e-01
    2.380887e+01 5.353281e-01
    6.443608e+00 4.446345e-01
  {% endif %}
  END
  SHRINK
  {{ shrink }} {{ shrink }}
  TOLINTEG
  7 7 7 7 14
  TOLDEE
  {{ convergence }}
  {% if max_cycles %}
  MAXCYCLE
  {{ max_cycles }}
  {% endif %}
  END

metadata:
  calculation_type: "optimization"
  system_type: "bulk"
  complexity: "basic"
